"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[202],{1066:function(e,t,n){n.r(t);var r=n(1821),o=(n(1),n(0)),i=n(1827),u=n(9),a=n(2),l=n(4);t.default=function(e){var t=e.url,n=e.onError,s=(0,l.TL)(),c=(0,o.useRef)(null),d=(0,o.useState)(null),f=d[0],m=d[1];return(0,o.useEffect)((function(){s(function(e){return function(t,n){return(0,u.ZP)(n).get("/api/oembed",{params:{url:e}})}}(t)).then((function(e){var t,n=e.data;if(null!==(t=c.current)&&void 0!==t&&t.contentWindow){m(n);var r=c.current.contentWindow.document;r.open(),r.write(n.html),r.close();var o=r.querySelector("iframe");r.body.style.margin="0",o&&(o.width="100%")}})).catch((function(e){n(e)}))}),[!!c.current]),(0,r.Z)(a.u_,{title:(0,r.Z)(i.Z,{id:"status.embed",defaultMessage:"Embed"})},void 0,(0,r.Z)(a.Kq,{space:4},void 0,(0,r.Z)(a.Kq,{},void 0,(0,r.Z)(a.xv,{theme:"muted",size:"sm"},void 0,(0,r.Z)(i.Z,{id:"embed.instructions",defaultMessage:"Embed this post on your website by copying the code below."})),(0,r.Z)(a.II,{type:"text",readOnly:!0,value:(null==f?void 0:f.html)||"",onClick:function(e){e.currentTarget.select()}})),o.createElement("iframe",{className:"inline-flex rounded-xl overflow-hidden max-w-full",frameBorder:"0",ref:c,sandbox:"allow-same-origin",title:"preview"})))}}}]);
//# sourceMappingURL=embed_modal-a0ee7bfa48af43bb2712.chunk.js.map