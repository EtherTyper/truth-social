{"version":3,"file":"packs/js/modals/report-modal/report-modal-09c60cbbcb3ee52d3ad8.chunk.js","mappings":"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","sources":["webpack://soapbox-fe/./app/soapbox/features/ui/components/modals/report-modal/report-modal.tsx","webpack://soapbox-fe/./app/soapbox/features/ui/components/modals/report-modal/steps/confirmation-step.tsx","webpack://soapbox-fe/./app/soapbox/features/report/components/status_check_box.js","webpack://soapbox-fe/./app/soapbox/features/report/containers/status_check_box_container.js","webpack://soapbox-fe/./app/soapbox/features/ui/components/modals/report-modal/steps/other-actions-step.tsx","webpack://soapbox-fe/./app/soapbox/features/ui/components/modals/report-modal/steps/reason-step.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/web.dom-collections.iterator.js\";import React,{useCallback,useEffect,useMemo,useState}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{blockAccount}from'soapbox/actions/accounts';import{submitReport,submitReportSuccess,submitReportFail}from'soapbox/actions/reports';import{expandAccountTimeline}from'soapbox/actions/timelines';import AttachmentThumbs from'soapbox/components/attachment_thumbs';import StatusContent from'soapbox/components/status_content';import{Modal,ProgressBar,Stack,Text}from'soapbox/components/ui';import AccountContainer from'soapbox/containers/account_container';import{useAccount,useAppDispatch,useAppSelector}from'soapbox/hooks';import ConfirmationStep from'./steps/confirmation-step';import OtherActionsStep from'./steps/other-actions-step';import ReasonStep from'./steps/reason-step';const messages=defineMessages({blankslate:{\"id\":\"report.reason.blankslate\",\"defaultMessage\":\"You have removed all statuses from being selected.\"},done:{\"id\":\"report.done\",\"defaultMessage\":\"Done\"},next:{\"id\":\"report.next\",\"defaultMessage\":\"Next\"},close:{\"id\":\"lightbox.close\",\"defaultMessage\":\"Close\"},placeholder:{\"id\":\"report.placeholder\",\"defaultMessage\":\"Additional comments\"},submit:{\"id\":\"report.submit\",\"defaultMessage\":\"Submit\"}});var Steps;(function(Steps){Steps[\"ONE\"]=\"ONE\";Steps[\"TWO\"]=\"TWO\";Steps[\"THREE\"]=\"THREE\";})(Steps||(Steps={}));const reportSteps={ONE:ReasonStep,TWO:OtherActionsStep,THREE:ConfirmationStep};const SelectedStatus=_ref=>{let{statusId}=_ref;const status=useAppSelector(state=>state.statuses.get(statusId));if(!status){return null;}return/*#__PURE__*/_jsx(Stack,{space:2,className:\"p-4 rounded-lg bg-gray-100 dark:bg-slate-700\"},void 0,/*#__PURE__*/_jsx(AccountContainer,{id:status.get('account'),showProfileHoverCard:false,timestamp:status.get('created_at'),hideActions:true}),/*#__PURE__*/_jsx(StatusContent,{status:status,expanded:true,collapsable:true}),status.get('media_attachments').size>0&&/*#__PURE__*/_jsx(AttachmentThumbs,{compact:true,media:status.get('media_attachments'),sensitive:status.get('sensitive')}));};const ReportModal=_ref2=>{let{onClose}=_ref2;const dispatch=useAppDispatch();const intl=useIntl();const accountId=useAppSelector(state=>state.reports.getIn(['new','account_id']));const account=useAccount(accountId);const isBlocked=useAppSelector(state=>state.reports.getIn(['new','block']));const isSubmitting=useAppSelector(state=>state.reports.getIn(['new','isSubmitting']));const rules=useAppSelector(state=>state.rules.items);const ruleIds=useAppSelector(state=>state.reports.getIn(['new','rule_ids']));const selectedStatusIds=useAppSelector(state=>state.reports.getIn(['new','status_ids']));const isReportingAccount=useMemo(()=>selectedStatusIds.size===0,[]);const shouldRequireRule=rules.length>0;const[currentStep,setCurrentStep]=useState(Steps.ONE);const handleSubmit=()=>{dispatch(submitReport()).then(()=>setCurrentStep(Steps.THREE)).catch(error=>dispatch(submitReportFail(error)));if(isBlocked&&account){dispatch(blockAccount(account.id));}};const handleNextStep=()=>{switch(currentStep){case Steps.ONE:setCurrentStep(Steps.TWO);break;case Steps.TWO:handleSubmit();break;case Steps.THREE:dispatch(submitReportSuccess());onClose();break;default:break;}};const renderSelectedStatuses=useCallback(()=>{switch(selectedStatusIds.size){case 0:return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 dark:bg-slate-700 p-4 rounded-lg flex items-center justify-center w-full\"},void 0,/*#__PURE__*/_jsx(Text,{theme:\"muted\"},void 0,intl.formatMessage(messages.blankslate)));default:return/*#__PURE__*/_jsx(SelectedStatus,{statusId:selectedStatusIds.first()});}},[selectedStatusIds.size]);const confirmationText=useMemo(()=>{switch(currentStep){case Steps.TWO:return intl.formatMessage(messages.submit);case Steps.THREE:return intl.formatMessage(messages.done);default:return intl.formatMessage(messages.next);}},[currentStep]);const isConfirmationButtonDisabled=useMemo(()=>{if(currentStep===Steps.THREE){return false;}return isSubmitting||shouldRequireRule&&ruleIds.isEmpty()||!isReportingAccount&&selectedStatusIds.size===0;},[currentStep,isSubmitting,shouldRequireRule,ruleIds,selectedStatusIds.size,isReportingAccount]);const calculateProgress=useCallback(()=>{switch(currentStep){case Steps.ONE:return 0.33;case Steps.TWO:return 0.66;case Steps.THREE:return 1;default:return 0;}},[currentStep]);useEffect(()=>{if(account){dispatch(expandAccountTimeline(account.id,{withReplies:true,maxId:null}));}},[account]);if(!account){return null;}const StepToRender=reportSteps[currentStep];return/*#__PURE__*/_jsx(Modal,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"report.target\",defaultMessage:\"Reporting {target}\",values:{target:/*#__PURE__*/_jsx(\"strong\",{},void 0,\"@\",account.acct)}}),onClose:onClose,cancelAction:currentStep===Steps.THREE?undefined:onClose,confirmationAction:handleNextStep,confirmationText:confirmationText,confirmationDisabled:isConfirmationButtonDisabled,skipFocus:true},void 0,/*#__PURE__*/_jsx(Stack,{space:4},void 0,/*#__PURE__*/_jsx(ProgressBar,{progress:calculateProgress()}),currentStep!==Steps.THREE&&!isReportingAccount&&renderSelectedStatuses(),/*#__PURE__*/_jsx(StepToRender,{account:account})));};export default ReportModal;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{getSoapboxConfig}from'soapbox/actions/soapbox';import{Stack,Text}from'soapbox/components/ui';import{useAppSelector}from'soapbox/hooks';const messages=defineMessages({title:{\"id\":\"report.confirmation.title\",\"defaultMessage\":\"Thanks for submitting your report.\"},content:{\"id\":\"report.confirmation.content\",\"defaultMessage\":\"If we find that this account is violating the {link} we will take further action on the matter.\"}});const termsOfServiceText=/*#__PURE__*/_jsx(FormattedMessage,{id:\"shared.tos\",defaultMessage:\"Terms of Service\"});const renderTermsOfServiceLink=href=>/*#__PURE__*/_jsx(\"a\",{href:href,target:\"_blank\",className:\"hover:underline text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-500\"},void 0,termsOfServiceText);const ConfirmationStep=_ref=>{let{account}=_ref;const intl=useIntl();const links=useAppSelector(state=>getSoapboxConfig(state).get('links'));return/*#__PURE__*/_jsx(Stack,{space:1},void 0,/*#__PURE__*/_jsx(Text,{weight:\"semibold\",tag:\"h1\",size:\"xl\"},void 0,intl.formatMessage(messages.title)),/*#__PURE__*/_jsx(Text,{},void 0,intl.formatMessage(messages.content,{link:links.get('termsOfService')?renderTermsOfServiceLink(links.get('termsOfService')):termsOfServiceText})));};export default ConfirmationStep;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import noop from'lodash/noop';import React from'react';import Toggle from'react-toggle';import StatusContent from'../../../components/status_content';import Bundle from'../../ui/components/bundle';import{MediaGallery,Video,Audio}from'../../ui/util/async-components';export default class StatusCheckBox extends React.PureComponent{render(){const{status,checked,onToggle,disabled}=this.props;let media=null;if(status.get('reblog')){return null;}if(status.get('media_attachments').size>0){if(status.get('media_attachments').some(item=>item.get('type')==='unknown')){// Do nothing\n}else if(status.getIn(['media_attachments',0,'type'])==='video'){const video=status.getIn(['media_attachments',0]);media=/*#__PURE__*/_jsx(Bundle,{fetchComponent:Video,loading:this.renderLoadingVideoPlayer},void 0,Component=>/*#__PURE__*/_jsx(Component,{preview:video.get('preview_url'),blurhash:video.get('blurhash'),src:video.get('url'),alt:video.get('description'),aspectRatio:video.getIn(['meta','original','aspect']),width:239,height:110,inline:true,sensitive:status.get('sensitive'),onOpenVideo:noop}));}else if(status.getIn(['media_attachments',0,'type'])==='audio'){const audio=status.getIn(['media_attachments',0]);media=/*#__PURE__*/_jsx(Bundle,{fetchComponent:Audio,loading:this.renderLoadingAudioPlayer},void 0,Component=>/*#__PURE__*/_jsx(Component,{src:audio.get('url'),alt:audio.get('description'),inline:true,sensitive:status.get('sensitive'),onOpenAudio:noop}));}else{media=/*#__PURE__*/_jsx(Bundle,{fetchComponent:MediaGallery,loading:this.renderLoadingMediaGallery},void 0,Component=>/*#__PURE__*/_jsx(Component,{media:status.get('media_attachments'),sensitive:status.get('sensitive'),height:110,onOpenMedia:noop}));}}return/*#__PURE__*/_jsx(\"div\",{className:\"status-check-box\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"status-check-box__status\"},void 0,/*#__PURE__*/_jsx(StatusContent,{status:status}),media),/*#__PURE__*/_jsx(\"div\",{className:\"status-check-box-toggle\"},void 0,/*#__PURE__*/_jsx(Toggle,{checked:checked,onChange:onToggle,disabled:disabled,icons:false})));}}","import{Set as ImmutableSet}from'immutable';import{connect}from'react-redux';import{toggleStatusReport}from'../../../actions/reports';import StatusCheckBox from'../components/status_check_box';const mapStateToProps=(state,_ref)=>{let{id}=_ref;return{status:state.getIn(['statuses',id]),checked:state.getIn(['reports','new','status_ids'],ImmutableSet()).includes(id)};};const mapDispatchToProps=(dispatch,_ref2)=>{let{id}=_ref2;return{onToggle(e){dispatch(toggleStatusReport(id,e.target.checked));}};};export default connect(mapStateToProps,mapDispatchToProps)(StatusCheckBox);","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/web.dom-collections.iterator.js\";import{OrderedSet}from'immutable';import React,{useEffect,useState}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{useDispatch}from'react-redux';import Toggle from'react-toggle';import{changeReportBlock,changeReportForward}from'soapbox/actions/reports';import{fetchRules}from'soapbox/actions/rules';import{Button,FormGroup,HStack,Stack,Text}from'soapbox/components/ui';import StatusCheckBox from'soapbox/features/report/containers/status_check_box_container';import{useAppSelector,useFeatures}from'soapbox/hooks';import{isRemote,getDomain}from'soapbox/utils/accounts';const messages=defineMessages({addAdditionalStatuses:{\"id\":\"report.otherActions.addAdditionl\",\"defaultMessage\":\"Would you like to add additional statuses to this report?\"},addMore:{\"id\":\"report.otherActions.addMore\",\"defaultMessage\":\"Add more\"},furtherActions:{\"id\":\"report.otherActions.furtherActions\",\"defaultMessage\":\"Further actions:\"},hideAdditonalStatuses:{\"id\":\"report.otherActions.hideAdditional\",\"defaultMessage\":\"Hide additional statuses\"},otherStatuses:{\"id\":\"report.otherActions.otherStatuses\",\"defaultMessage\":\"Include other statuses?\"}});const OtherActionsStep=_ref=>{let{account}=_ref;const dispatch=useDispatch();const features=useFeatures();const intl=useIntl();const statusIds=useAppSelector(state=>OrderedSet(state.timelines.getIn([\"account:\".concat(account.id,\":with_replies\"),'items'])).union(state.reports.getIn(['new','status_ids'])));const isBlocked=useAppSelector(state=>state.reports.getIn(['new','block']));const isForward=useAppSelector(state=>state.reports.getIn(['new','forward']));const canForward=isRemote(account)&&features.federating;const isSubmitting=useAppSelector(state=>state.reports.getIn(['new','isSubmitting']));const[showAdditionalStatuses,setShowAdditionalStatuses]=useState(false);const handleBlockChange=event=>{dispatch(changeReportBlock(event.target.checked));};const handleForwardChange=event=>{dispatch(changeReportForward(event.target.checked));};useEffect(()=>{dispatch(fetchRules());},[]);return/*#__PURE__*/_jsx(Stack,{space:4},void 0,features.reportMultipleStatuses&&/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/_jsx(Text,{tag:\"h1\",size:\"xl\",weight:\"semibold\"},void 0,intl.formatMessage(messages.otherStatuses)),/*#__PURE__*/_jsx(FormGroup,{labelText:intl.formatMessage(messages.addAdditionalStatuses)},void 0,showAdditionalStatuses?/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 rounded-lg p-4\"},void 0,statusIds.map(statusId=>/*#__PURE__*/_jsx(StatusCheckBox,{id:statusId},statusId))),/*#__PURE__*/_jsx(\"div\",{},void 0,/*#__PURE__*/_jsx(Button,{icon:require('@tabler/icons/icons/arrows-minimize.svg'),theme:\"secondary\",size:\"sm\",onClick:()=>setShowAdditionalStatuses(false)},void 0,intl.formatMessage(messages.hideAdditonalStatuses)))):/*#__PURE__*/_jsx(Button,{icon:require('@tabler/icons/icons/plus.svg'),theme:\"secondary\",size:\"sm\",onClick:()=>setShowAdditionalStatuses(true)},void 0,intl.formatMessage(messages.addMore)))),/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/_jsx(Text,{tag:\"h1\",size:\"xl\",weight:\"semibold\"},void 0,intl.formatMessage(messages.furtherActions)),/*#__PURE__*/_jsx(FormGroup,{labelText:/*#__PURE__*/_jsx(FormattedMessage,{id:\"report.block_hint\",defaultMessage:\"Do you also want to block this account?\"})},void 0,/*#__PURE__*/_jsx(HStack,{space:2,alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(Toggle,{checked:isBlocked,onChange:handleBlockChange,icons:false,id:\"report-block\"}),/*#__PURE__*/_jsx(Text,{theme:\"muted\",tag:\"label\",size:\"sm\",htmlFor:\"report-block\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"report.block\",defaultMessage:\"Block {target}\",values:{target:\"@\".concat(account.get('acct'))}})))),canForward&&/*#__PURE__*/_jsx(FormGroup,{labelText:/*#__PURE__*/_jsx(FormattedMessage,{id:\"report.forward_hint\",defaultMessage:\"The account is from another server. Send a copy of the report there as well?\"})},void 0,/*#__PURE__*/_jsx(HStack,{space:2,alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(Toggle,{checked:isForward,onChange:handleForwardChange,icons:false,id:\"report-forward\",disabled:isSubmitting}),/*#__PURE__*/_jsx(Text,{theme:\"muted\",tag:\"label\",size:\"sm\",htmlFor:\"report-forward\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"report.forward\",defaultMessage:\"Forward to {target}\",values:{target:getDomain(account)}}))))));};export default OtherActionsStep;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/web.dom-collections.iterator.js\";import classNames from'classnames';import React,{useEffect,useMemo,useRef,useState}from'react';import{defineMessages,useIntl}from'react-intl';import{useDispatch}from'react-redux';import{changeReportComment,changeReportRule}from'soapbox/actions/reports';import{fetchRules}from'soapbox/actions/rules';import{FormGroup,Stack,Text,Textarea}from'soapbox/components/ui';import{useAppSelector}from'soapbox/hooks';const messages=defineMessages({placeholder:{\"id\":\"report.placeholder\",\"defaultMessage\":\"Additional comments\"},reasonForReporting:{\"id\":\"report.reason.title\",\"defaultMessage\":\"Reason for reporting\"}});const RULES_HEIGHT=385;const ReasonStep=_props=>{const dispatch=useDispatch();const intl=useIntl();const rulesListRef=useRef(null);const[isNearBottom,setNearBottom]=useState(false);const[isNearTop,setNearTop]=useState(true);const comment=useAppSelector(state=>state.reports.getIn(['new','comment']));const rules=useAppSelector(state=>state.rules.items);const ruleIds=useAppSelector(state=>state.reports.getIn(['new','rule_ids']));const shouldRequireRule=rules.length>0;const selectedStatusIds=useAppSelector(state=>state.reports.getIn(['new','status_ids']));const isReportingAccount=useMemo(()=>selectedStatusIds.size===0,[]);const handleCommentChange=event=>{dispatch(changeReportComment(event.target.value));};const handleRulesScrolling=()=>{if(rulesListRef.current){const{scrollTop,scrollHeight,clientHeight}=rulesListRef.current;if(scrollTop+clientHeight>scrollHeight-24){setNearBottom(true);}else{setNearBottom(false);}if(scrollTop<24){setNearTop(true);}else{setNearTop(false);}}};const filterRuleType=rule=>{const ruleTypeToFilter=isReportingAccount?'account':'content';if(rule.rule_type){return rule.rule_type===ruleTypeToFilter;}return true;};useEffect(()=>{dispatch(fetchRules());},[]);useEffect(()=>{if(rules.length>0&&rulesListRef.current){const{clientHeight}=rulesListRef.current;if(clientHeight<=RULES_HEIGHT){setNearBottom(true);}}},[rules,rulesListRef.current]);return/*#__PURE__*/_jsx(Stack,{space:4},void 0,shouldRequireRule&&/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/_jsx(Text,{size:\"xl\",weight:\"semibold\",tag:\"h1\"},void 0,intl.formatMessage(messages.reasonForReporting)),/*#__PURE__*/_jsx(\"div\",{className:\"relative\"},void 0,/*#__PURE__*/React.createElement(\"div\",{style:{maxHeight:RULES_HEIGHT},className:\"rounded-lg -space-y-px overflow-y-auto\",onScroll:handleRulesScrolling,ref:rulesListRef},rules.filter(filterRuleType).map((rule,idx)=>{const isSelected=ruleIds.includes(String(rule.id));return/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"rule-\".concat(rule.id),onClick:()=>dispatch(changeReportRule(rule.id)),className:classNames({'relative border border-solid border-gray-200 dark:border-slate-900/75 hover:bg-gray-50 dark:hover:bg-slate-900/50 text-left w-full p-4 flex justify-between items-center cursor-pointer':true,'rounded-tl-lg rounded-tr-lg':idx===0,'rounded-bl-lg rounded-br-lg':idx===rules.length-1,'bg-gray-50 dark:bg-slate-900':isSelected})},idx,/*#__PURE__*/_jsx(Stack,{className:\"mr-3\"},void 0,/*#__PURE__*/_jsx(Text,{tag:\"span\",size:\"sm\",weight:\"medium\",theme:isSelected?'primary':'default'},void 0,rule.text),/*#__PURE__*/_jsx(Text,{tag:\"span\",theme:\"muted\",size:\"sm\"},void 0,rule.subtext)),/*#__PURE__*/_jsx(\"input\",{name:\"reason\",type:\"checkbox\",value:rule.id,checked:isSelected,readOnly:true,className:\"h-4 w-4 cursor-pointer text-primary-600 dark:text-primary-400 border-gray-300 rounded focus:ring-primary-500\"}));})),/*#__PURE__*/_jsx(\"div\",{className:classNames('inset-x-0 top-0 flex rounded-t-lg justify-center bg-gradient-to-b from-white pb-12 pt-8 pointer-events-none dark:from-slate-900 absolute transition-opacity duration-500',{'opacity-0':isNearTop,'opacity-100':!isNearTop})}),/*#__PURE__*/_jsx(\"div\",{className:classNames('inset-x-0 bottom-0 flex rounded-b-lg justify-center bg-gradient-to-t from-white pt-12 pb-8 pointer-events-none dark:from-slate-900 absolute transition-opacity duration-500',{'opacity-0':isNearBottom,'opacity-100':!isNearBottom})}))),/*#__PURE__*/_jsx(FormGroup,{labelText:intl.formatMessage(messages.placeholder)},void 0,/*#__PURE__*/_jsx(Textarea,{placeholder:intl.formatMessage(messages.placeholder),value:comment,onChange:handleCommentChange})));};export default ReasonStep;"],"names":["Steps","messages","title","content","termsOfServiceText","id","defaultMessage","render","this","props","status","checked","onToggle","disabled","media","get","size","some","item","getIn","fetchComponent","loading","renderLoadingVideoPlayer","Component","preview","blurhash","src","alt","aspectRatio","width","height","inline","sensitive","onOpenVideo","renderLoadingAudioPlayer","onOpenAudio","renderLoadingMediaGallery","onOpenMedia","className","onChange","icons","state","_ref","includes","dispatch","_ref2","e","target","addAdditionalStatuses","addMore","furtherActions","hideAdditonalStatuses","otherStatuses","placeholder","reasonForReporting","blankslate","done","next","close","submit","reportSteps","ONE","_props","intl","useIntl","rulesListRef","useRef","useState","isNearBottom","setNearBottom","isNearTop","setNearTop","comment","reports","rules","items","ruleIds","shouldRequireRule","length","selectedStatusIds","isReportingAccount","useMemo","useEffect","current","space","weight","tag","formatMessage","style","maxHeight","onScroll","scrollTop","scrollHeight","clientHeight","ref","filter","rule","ruleTypeToFilter","rule_type","map","idx","isSelected","String","concat","onClick","theme","text","subtext","name","type","value","readOnly","labelText","event","TWO","account","features","statusIds","OrderedSet","timelines","union","isBlocked","isForward","canForward","federating","isSubmitting","showAdditionalStatuses","setShowAdditionalStatuses","reportMultipleStatuses","statusId","icon","alignItems","htmlFor","values","ge","THREE","href","links","link","SelectedStatus","statuses","showProfileHoverCard","timestamp","hideActions","expanded","collapsable","compact","onClose","accountId","currentStep","setCurrentStep","renderSelectedStatuses","useCallback","first","confirmationText","isConfirmationButtonDisabled","isEmpty","calculateProgress","withReplies","maxId","StepToRender","acct","cancelAction","undefined","confirmationAction","then","catch","error","confirmationDisabled","skipFocus","progress"],"sourceRoot":""}