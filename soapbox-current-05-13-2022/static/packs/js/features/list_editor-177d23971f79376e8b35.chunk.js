"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[50],{965:function(t,e,n){n.r(e),n.d(e,{default:function(){return $}});var o,i,r,s,a,u,c,l=n(1821),d=n(1814),p=(n(1),n(5)),f=n.n(p),v=n(10),h=n.n(v),m=n(8),_=n(1815),Z=n(584),g=n(1827),y=n(3),b=n(60),C=n(2),M=n(40),w=n(66),O=n(34),I=n(11),R=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),S=(0,_.vU)({remove:{id:"lists.account.remove",defaultMessage:"Remove from list"},add:{id:"lists.account.add",defaultMessage:"Add to list"}}),j=(0,y.$j)((function(){var t=(0,I.Tm)();return function(e,n){var o=n.accountId,i=n.added;return{account:t(e,o),added:void 0===i?e.getIn(["listEditor","accounts","items"]).includes(o):i}}}),(function(t,e){var n=e.accountId;return{onRemove:function(){return t((0,b.v)(n))},onAdd:function(){return t((0,b.tR)(n))}}}))(i=(0,Z.ZP)((r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.render=function(){var t,e=this.props,o=e.account,i=e.intl,r=e.onRemove,s=e.onAdd;return t=e.added?(0,l.Z)(O.Z,{src:n(26),title:i.formatMessage(S.remove),onClick:r}):(0,l.Z)(O.Z,{src:n(48),title:i.formatMessage(S.add),onClick:s}),(0,l.Z)("div",{className:"account"},void 0,(0,l.Z)("div",{className:"account__wrapper"},void 0,(0,l.Z)("div",{className:"account__display-name"},void 0,(0,l.Z)("div",{className:"account__avatar-wrapper"},void 0,(0,l.Z)(M.Z,{account:o,size:36})),(0,l.Z)(w.Z,{account:o})),(0,l.Z)("div",{className:"account__relationship"},void 0,t)))},e}(m.ZP),(0,d.Z)(r,"propTypes",{account:h().record.isRequired,intl:f().object.isRequired,onRemove:f().func.isRequired,onAdd:f().func.isRequired,added:f().bool}),(0,d.Z)(r,"defaultProps",{added:!1}),i=r))||i)||i,P=n(0),N=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),T=(0,_.vU)({title:{id:"lists.edit.submit",defaultMessage:"Change title"},save:{id:"lists.new.save_title",defaultMessage:"Save Title"}}),k=(0,y.$j)((function(t){return{value:t.getIn(["listEditor","title"]),disabled:!t.getIn(["listEditor","isChanged"])}}),(function(t){return{onChange:function(e){return t((0,b.OU)(e))},onSubmit:function(){return t((0,b.Mw)(!1))}}}))(s=(0,Z.ZP)(s=function(t){function e(){var e=t.apply(this,arguments)||this;return(0,d.Z)(e,"handleChange",(function(t){e.props.onChange(t.target.value)})),(0,d.Z)(e,"handleSubmit",(function(t){t.preventDefault(),e.props.onSubmit()})),(0,d.Z)(e,"handleClick",(function(){e.props.onSubmit()})),e}return N(e,t),e.prototype.render=function(){var t=this.props,e=t.value,n=t.disabled,o=t.intl.formatMessage(T.save);return(0,l.Z)("form",{className:"column-inline-form",method:"post",onSubmit:this.handleSubmit},void 0,(0,l.Z)("input",{className:"setting-text new-list-form__input",value:e,onChange:this.handleChange}),!n&&(0,l.Z)(C.zx,{className:"new-list-form__btn",onClick:this.handleClick},void 0,o))},e}(P.PureComponent))||s)||s,A=n(6),E=n.n(A),q=n(15),x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),U=(0,_.vU)({search:{id:"lists.search",defaultMessage:"Search among people you follow"},searchTitle:{id:"tabs_bar.search",defaultMessage:"Search"}}),z=(0,y.$j)((function(t){return{value:t.getIn(["listEditor","suggestions","value"])}}),(function(t){return{onSubmit:function(e){return t((0,b.pT)(e))},onClear:function(){return t((0,b.MC)())},onChange:function(e){return t((0,b.pQ)(e))}}}))(a=(0,Z.ZP)(a=function(t){function e(){var e=t.apply(this,arguments)||this;return(0,d.Z)(e,"handleChange",(function(t){e.props.onChange(t.target.value)})),(0,d.Z)(e,"handleKeyUp",(function(t){13===t.keyCode&&e.props.onSubmit(e.props.value)})),(0,d.Z)(e,"handleSubmit",(function(){e.props.onSubmit(e.props.value)})),(0,d.Z)(e,"handleClear",(function(){e.props.onClear()})),e}return x(e,t),e.prototype.render=function(){var t=this.props,e=t.value,o=t.intl,i=e.length>0;return(0,l.Z)("div",{className:"list-editor__search search"},void 0,(0,l.Z)("label",{},void 0,(0,l.Z)("span",{style:{display:"none"}},void 0,o.formatMessage(U.search)),(0,l.Z)("input",{className:"search__input",type:"text",value:e,onChange:this.handleChange,onKeyUp:this.handleKeyUp,placeholder:o.formatMessage(U.search)})),(0,l.Z)("div",{role:"button",tabIndex:"0",className:"search__icon",onClick:this.handleClear},void 0,(0,l.Z)(q.Z,{src:n(627),"aria-label":o.formatMessage(U.search),className:E()("svg-icon--backspace",{active:i})})),(0,l.Z)(C.zx,{onClick:this.handleSubmit},void 0,o.formatMessage(U.searchTitle)))},e}(P.PureComponent))||a)||a,L=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),D=(0,_.vU)({close:{id:"lightbox.close",defaultMessage:"Close"},changeTitle:{id:"lists.edit.submit",defaultMessage:"Change title"},addToList:{id:"lists.account.add",defaultMessage:"Add to list"},removeFromList:{id:"lists.account.remove",defaultMessage:"Remove from list"},editList:{id:"lists.edit",defaultMessage:"Edit list"}}),$=(0,y.$j)((function(t){return{accountIds:t.getIn(["listEditor","accounts","items"]),searchAccountIds:t.getIn(["listEditor","suggestions","items"])}}),(function(t){return{onInitialize:function(e){return t((0,b.Ru)(e))},onClear:function(){return t((0,b.MC)())},onReset:function(){return t((0,b.QS)())}}}))(u=(0,Z.ZP)((c=function(t){function e(){var e=t.apply(this,arguments)||this;return(0,d.Z)(e,"onClickClose",(function(){e.props.onClose("LIST_ADDER")})),e}return L(e,t),e.prototype.componentDidMount=function(){var t=this.props;(0,t.onInitialize)(t.listId)},e.prototype.componentWillUnmount=function(){(0,this.props.onReset)()},e.prototype.render=function(){var t=this.props,e=t.accountIds,n=t.searchAccountIds,o=t.intl;return(0,l.Z)(C.u_,{title:(0,l.Z)(g.Z,{id:"lists.edit",defaultMessage:"Edit list"}),onClose:this.onClickClose},void 0,(0,l.Z)("div",{className:"compose-modal__content list-editor__content"},void 0,(0,l.Z)("div",{className:"list-editor"},void 0,(0,l.Z)(C.Ol,{},void 0,(0,l.Z)(C.ll,{title:o.formatMessage(D.changeTitle)})),(0,l.Z)(k,{}),(0,l.Z)("br",{}),e.size>0&&(0,l.Z)("div",{},void 0,(0,l.Z)(C.Ol,{},void 0,(0,l.Z)(C.ll,{title:o.formatMessage(D.removeFromList)})),(0,l.Z)("div",{className:"list-editor__accounts"},void 0,e.map((function(t){return(0,l.Z)(j,{accountId:t,added:!0},t)})))),(0,l.Z)("br",{}),(0,l.Z)(C.Ol,{},void 0,(0,l.Z)(C.ll,{title:o.formatMessage(D.addToList)})),(0,l.Z)(z,{}),(0,l.Z)("div",{className:"list-editor__accounts"},void 0,n.map((function(t){return(0,l.Z)(j,{accountId:t},t)}))))))},e}(m.ZP),(0,d.Z)(c,"propTypes",{listId:f().string.isRequired,onClose:f().func.isRequired,intl:f().object.isRequired,onInitialize:f().func.isRequired,onClear:f().func.isRequired,onReset:f().func.isRequired,accountIds:h().list.isRequired,searchAccountIds:h().list.isRequired}),u=c))||u)||u}}]);
//# sourceMappingURL=list_editor-177d23971f79376e8b35.chunk.js.map