{"version":3,"file":"packs/js/features/settings-87ff97c9d9fd833d097c.chunk.js","mappings":"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","sources":["webpack://soapbox-fe/./app/soapbox/features/settings/index.tsx","webpack://soapbox-fe/./app/soapbox/features/settings/media_display.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import*as React from'react';import{defineMessages,useIntl}from'react-intl';import{useDispatch}from'react-redux';import{useHistory}from'react-router-dom';import{fetchMfa}from'soapbox/actions/mfa';import List,{ListItem}from'soapbox/components/list';import{Button,Card,CardBody,CardHeader,CardTitle,Column}from'soapbox/components/ui';import{useAppSelector,useOwnAccount}from'soapbox/hooks';import{getFeatures}from'soapbox/utils/features';import Preferences from'../preferences';const messages=defineMessages({settings:{\"id\":\"settings.settings\",\"defaultMessage\":\"Settings\"},profile:{\"id\":\"settings.profile\",\"defaultMessage\":\"Profile\"},security:{\"id\":\"settings.security\",\"defaultMessage\":\"Security\"},preferences:{\"id\":\"settings.preferences\",\"defaultMessage\":\"Preferences\"},editProfile:{\"id\":\"settings.edit_profile\",\"defaultMessage\":\"Edit Profile\"},changeEmail:{\"id\":\"settings.change_email\",\"defaultMessage\":\"Change Email\"},changePassword:{\"id\":\"settings.change_password\",\"defaultMessage\":\"Change Password\"},configureMfa:{\"id\":\"settings.configure_mfa\",\"defaultMessage\":\"Configure MFA\"},sessions:{\"id\":\"settings.sessions\",\"defaultMessage\":\"Active sessions\"},deleteAccount:{\"id\":\"settings.delete_account\",\"defaultMessage\":\"Delete Account\"}});/** User settings page. */const Settings=()=>{const dispatch=useDispatch();const history=useHistory();const intl=useIntl();const mfa=useAppSelector(state=>state.security.get('mfa'));const features=useAppSelector(state=>getFeatures(state.instance));const account=useOwnAccount();const navigateToChangeEmail=React.useCallback(()=>history.push('/settings/email'),[history]);const navigateToChangePassword=React.useCallback(()=>history.push('/settings/password'),[history]);const navigateToMfa=React.useCallback(()=>history.push('/settings/mfa'),[history]);const navigateToSessions=React.useCallback(()=>history.push('/settings/tokens'),[history]);const navigateToEditProfile=React.useCallback(()=>history.push('/settings/profile'),[history]);const isMfaEnabled=mfa.getIn(['settings','totp']);React.useEffect(()=>{dispatch(fetchMfa());},[dispatch]);if(!account)return null;const displayName=account.display_name||account.username;return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.settings),transparent:true,withHeader:false},void 0,/*#__PURE__*/_jsx(Card,{variant:\"rounded\"},void 0,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.profile)})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.editProfile),onClick:navigateToEditProfile},void 0,/*#__PURE__*/_jsx(\"span\",{},void 0,displayName)))),/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.security)})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.changeEmail),onClick:navigateToChangeEmail}),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.changePassword),onClick:navigateToChangePassword}),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.configureMfa),onClick:navigateToMfa},void 0,isMfaEnabled?intl.formatMessage({id:'mfa.enabled',defaultMessage:'Enabled'}):intl.formatMessage({id:'mfa.disabled',defaultMessage:'Disabled'})),features.sessionsAPI&&/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.sessions),onClick:navigateToSessions}))),/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.preferences)})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(Preferences,{})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 w-full flex justify-center\"},void 0,/*#__PURE__*/_jsx(Button,{theme:\"danger\",to:\"/settings/account\"},void 0,intl.formatMessage(messages.deleteAccount))))));};export default Settings;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{defineMessages,useIntl}from'react-intl';import{useDispatch}from'react-redux';import{getSettings,changeSettingImmediate}from'soapbox/actions/settings';import{SimpleForm,SelectDropdown}from'soapbox/features/forms';import{useAppSelector}from'soapbox/hooks';import List,{ListItem}from'../../components/list';import{Card,CardBody,CardHeader,CardTitle}from'../../components/ui';const messages=defineMessages({mediaDisplay:{\"id\":\"preferences.fields.media_display_label\",\"defaultMessage\":\"Media display\"},display_media_default:{\"id\":\"preferences.fields.display_media.default\",\"defaultMessage\":\"Hide media marked as sensitive\"},display_media_hide_all:{\"id\":\"preferences.fields.display_media.hide_all\",\"defaultMessage\":\"Always hide media\"},display_media_show_all:{\"id\":\"preferences.fields.display_media.show_all\",\"defaultMessage\":\"Always show media\"}});const MediaDisplay=()=>{const dispatch=useDispatch();const intl=useIntl();const settings=useAppSelector(state=>getSettings(state));const displayMediaOptions={default:intl.formatMessage(messages.display_media_default),hide_all:intl.formatMessage(messages.display_media_hide_all),show_all:intl.formatMessage(messages.display_media_show_all)};const onSelectChange=path=>{return e=>{dispatch(changeSettingImmediate(path,e.target.value));};};return/*#__PURE__*/_jsx(Card,{variant:\"rounded\"},void 0,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.mediaDisplay)})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(SimpleForm,{className:\"p-0 space-y-3\"},void 0,/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.mediaDisplay)},void 0,/*#__PURE__*/_jsx(SelectDropdown,{items:displayMediaOptions,defaultValue:settings.get('displayMedia'),onChange:onSelectChange(['displayMedia'])}))))));};export default MediaDisplay;"],"names":["messages","settings","profile","security","preferences","editProfile","changeEmail","changePassword","configureMfa","sessions","deleteAccount","dispatch","history","intl","mfa","state","get","features","instance","account","navigateToChangeEmail","push","navigateToChangePassword","navigateToMfa","navigateToSessions","navigateToEditProfile","isMfaEnabled","getIn","displayName","display_name","username","label","formatMessage","transparent","withHeader","variant","title","onClick","id","defaultMessage","sessionsAPI","className","theme","to","mediaDisplay","display_media_default","display_media_hide_all","display_media_show_all","path","displayMediaOptions","default","hide_all","show_all","items","defaultValue","onChange","e","target","value"],"sourceRoot":""}