"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[62],{967:function(e,t,s){s.r(t),s.d(t,{default:function(){return U}});var a,n,r,i=s(1821),o=s(1815),u=s(583),c=s(2),d=s(535),l=s(3),g=s(479),h=s(14),p=s(252),m=s(293),f=s(1814),Z=(s(1),s(6)),v=s.n(Z),y=s(5),_=s.n(y),M=s(0),b=s(10),S=s.n(b),F=s(8),N=s(1827),x=s(584),L=s(464),w=s(21),I=s(118),T=s(1852),j=function(){return(0,i.Z)("div",{className:"account"},void 0,(0,i.Z)("div",{className:"account__wrapper"},void 0,(0,i.Z)("span",{className:"account__display-name"},void 0,(0,i.Z)("div",{className:"account__avatar-wrapper"},void 0,(0,i.Z)(I.Z,{size:36})),(0,i.Z)(T.Z,{minLength:3,maxLength:25}))))},q=s(1848),E=function(){var e=(0,q.lv)(15,30);return(0,i.Z)("div",{className:"placeholder-hashtag"},void 0,(0,i.Z)("div",{className:"trends__item"},void 0,(0,i.Z)("div",{className:"trends__item__name"},void 0,(0,q._4)(e))))},O=s(261),P=s(548),R=s(23),k=s(227),C=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function s(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),z=(0,o.vU)({accounts:{id:"search_results.accounts",defaultMessage:"People"},statuses:{id:"search_results.statuses",defaultMessage:"Posts"},hashtags:{id:"search_results.hashtags",defaultMessage:"Hashtags"}}),H=(0,x.ZP)((r=function(e){function t(){var t=e.apply(this,arguments)||this;return(0,f.Z)(t,"handleLoadMore",(function(){return t.props.expandSearch(t.props.selectedFilter)})),(0,f.Z)(t,"handleSelectFilter",(function(e){return t.props.selectFilter(e)})),t}return C(t,e),t.prototype.componentDidMount=function(){this.props.fetchTrendingStatuses()},t.prototype.renderFilterBar=function(){var e=this,t=this.props,s=t.intl,a=t.selectedFilter,n=[{text:s.formatMessage(z.accounts),action:function(){return e.handleSelectFilter("accounts")},name:"accounts"},{text:s.formatMessage(z.statuses),action:function(){return e.handleSelectFilter("statuses")},name:"statuses"},{text:s.formatMessage(z.hashtags),action:function(){return e.handleSelectFilter("hashtags")},name:"hashtags"}];return(0,i.Z)(c.mQ,{items:n,activeItem:a})},t.prototype.render=function(){var e,t,s,a=this.props,n=a.value,r=a.results,o=a.submitted,u=a.selectedFilter,c=a.suggestions,d=a.trendingStatuses,l=a.trends,g=!1,h=O.Z;return"accounts"===u&&(g=r.get("accountsHasMore"),t=r.get("accountsLoaded"),h=j,r.get("accounts")&&r.get("accounts").size>0?e=r.get("accounts").map((function(e){return(0,i.Z)(R.Z,{id:e},e)})):o||!c||c.isEmpty()?t&&(s=(0,i.Z)("div",{className:"empty-column-indicator"},void 0,(0,i.Z)(N.Z,{id:"empty_column.search.accounts",defaultMessage:'There are no people results for "{term}"',values:{term:n}}))):e=c.map((function(e){return(0,i.Z)(R.Z,{id:e.get("account")},e.get("account"))}))),"statuses"===u&&(g=r.get("statusesHasMore"),t=r.get("statusesLoaded"),r.get("statuses")&&r.get("statuses").size>0?e=r.get("statuses").map((function(e){return(0,i.Z)(k.Z,{id:e},e)})):o||!d||d.isEmpty()?t&&(s=(0,i.Z)("div",{className:"empty-column-indicator"},void 0,(0,i.Z)(N.Z,{id:"empty_column.search.statuses",defaultMessage:'There are no posts results for "{term}"',values:{term:n}}))):e=d.map((function(e){return(0,i.Z)(k.Z,{id:e},e)}))),"hashtags"===u&&(g=r.get("hashtagsHasMore"),t=r.get("hashtagsLoaded"),h=E,r.get("hashtags")&&r.get("hashtags").size>0?e=r.get("hashtags").map((function(e){return(0,i.Z)(P.Z,{hashtag:e},e.get("name"))})):o||!c||c.isEmpty()?t&&(s=(0,i.Z)("div",{className:"empty-column-indicator"},void 0,(0,i.Z)(N.Z,{id:"empty_column.search.hashtags",defaultMessage:'There are no hashtags results for "{term}"',values:{term:n}}))):e=l.map((function(e){return(0,i.Z)(P.Z,{hashtag:e},e.get("name"))}))),M.createElement(M.Fragment,null,this.renderFilterBar(),s||(0,i.Z)(L.Z,{},void 0,(0,i.Z)(w.Z,{scrollKey:"".concat(u,":").concat(n),isLoading:o&&!t,showLoading:o&&!t&&r.isEmpty(),hasMore:g,onLoadMore:this.handleLoadMore,placeholderComponent:h,placeholderCount:20,className:v()({"divide-gray-200 dark:divide-slate-700 divide-solid divide-y":"statuses"===u,"space-y-4":"accounts"===u})},u,e)))},t}(F.ZP),(0,f.Z)(r,"propTypes",{value:_().string,results:S().map.isRequired,submitted:_().bool,expandSearch:_().func.isRequired,selectedFilter:_().string.isRequired,selectFilter:_().func.isRequired,features:_().object.isRequired,suggestions:S().list,trendingStatuses:S().list,trends:S().list,intl:_().object.isRequired}),n=r))||n,A=(0,l.$j)((function(e){var t=e.get("instance");return{value:e.getIn(["search","submittedValue"]),results:e.getIn(["search","results"]),suggestions:e.getIn(["suggestions","items"]),trendingStatuses:e.getIn(["trending_statuses","items"]),trends:e.getIn(["trends","items"]),submitted:e.getIn(["search","submitted"]),selectedFilter:e.getIn(["search","filter"]),features:(0,h.N$)(t)}}),(function(e){return{fetchSuggestions:function(){return e((0,m.mO)())},fetchTrendingStatuses:function(){return e((0,g.AJ)())},expandSearch:function(t){return e((0,p.i9)(t))},dismissSuggestion:function(t){return e((0,m.oi)(t.get("id")))},selectFilter:function(t){return e((0,p.Tv)(t))}}}))(H),B=(0,o.vU)({heading:{id:"column.search",defaultMessage:"Search"}}),U=function(){var e=(0,u.Z)();return(0,i.Z)(c.sg,{label:e.formatMessage(B.heading)},void 0,(0,i.Z)("div",{className:"space-y-4"},void 0,(0,i.Z)(d.Z,{autoFocus:!0,autoSubmit:!0}),(0,i.Z)(A,{})))}}}]);
//# sourceMappingURL=search-b3de77c7cf1f259fc24f.chunk.js.map