"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[8],{1041:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});var n,o,i,s=a(1821),r=a(1814),c=(a(1),a(602)),d=a(5),l=a.n(d),u=a(10),p=a.n(u),m=a(8),h=a(1827),f=a(3),v=a(12),g=a(53),Z=a(76),_=a(11),y=a(14),w=a(16),b=a(475),x=a(413),I=a(28),k=a(779),M=a(2),U=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),L=(0,f.$j)((function(){var e=(0,_.$r)();return function(t,a){var n=a.params,o=a.withReplies,i=void 0!==o&&o,s=n.username||"",r=t.get("me"),d=(t.getIn(["accounts",-1,"username"])||"").toLowerCase()===s.toLowerCase(),l=(0,g.UX)(t),u=(0,y.N$)(t.get("instance")),p=-1,m=null,h=s,f=null;d?p=null:(p=(m=(0,_.XO)(t,s))?m.getIn(["id"],null):-1,h=m?m.getIn(["acct"],""):"",f=m?m.get("url"):"");var Z=i?"".concat(p,":with_replies"):p,w=t.getIn(["relationships",p,"blocked_by"],!1),b=r!==p&&w&&!u.blockersVisible,x=(0,v.Gw)(t).getIn(["account_timeline","shows","pinned"])&&!i;return{accountId:p,unavailable:b,accountUsername:h,accountApId:f,isBlocked:w,account:m,isAccount:!!t.getIn(["accounts",p]),statusIds:e(t,{type:"account:".concat(Z),prefix:"account_timeline"}),featuredStatusIds:x?e(t,{type:"account:".concat(p,":pinned"),prefix:"account_timeline"}):(0,c.OrderedSet)(),isLoading:t.getIn(["timelines","account:".concat(Z),"isLoading"]),hasMore:t.getIn(["timelines","account:".concat(Z),"hasMore"]),me:r,patronEnabled:l.getIn(["extensions","patron","enabled"])}}}))((i=function(e){function t(){var t=e.apply(this,arguments)||this;return(0,r.Z)(t,"handleLoadMore",(function(e){t.props.accountId&&-1!==t.props.accountId&&t.props.dispatch((0,I.Cn)(t.props.accountId,{maxId:e,withReplies:t.props.withReplies}))})),t}return U(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.params.username,a=e.accountId,n=e.accountApId,o=e.withReplies,i=e.me,s=e.patronEnabled;a&&-1!==a?(this.props.dispatch((0,w.$G)(a)),i&&this.props.dispatch((0,b.gL)(a)),o||this.props.dispatch((0,I.hj)(a)),s&&n&&this.props.dispatch((0,x.wp)(n)),this.props.dispatch((0,I.Cn)(a,{withReplies:o}))):this.props.dispatch((0,w.UL)(t))},t.prototype.componentDidUpdate=function(e){var t=this.props,a=t.params.username,n=t.me,o=t.accountId,i=t.withReplies,s=t.accountApId,r=t.patronEnabled;o&&-1!==o&&o!==e.accountId||i!==e.withReplies?(this.props.dispatch((0,w.$G)(o)),n&&this.props.dispatch((0,b.gL)(o)),i||this.props.dispatch((0,I.hj)(o)),r&&s&&this.props.dispatch((0,x.wp)(s)),this.props.dispatch((0,I.Cn)(o,{withReplies:i}))):a&&a!==e.params.username&&this.props.dispatch((0,w.UL)(a))},t.prototype.render=function(){var e=this.props,t=e.statusIds,a=e.featuredStatusIds,n=e.isLoading,o=e.hasMore,i=e.isBlocked,r=e.isAccount,c=e.accountId,d=e.unavailable,l=e.accountUsername;return r||-1===c?-1===c||!t&&n?(0,s.Z)(M.$j,{}):d?(0,s.Z)(M.Zb,{},void 0,(0,s.Z)(M.eW,{},void 0,(0,s.Z)(M.xv,{align:"center"},void 0,i?(0,s.Z)(h.Z,{id:"empty_column.account_blocked",defaultMessage:"You are blocked by @{accountUsername}.",values:{accountUsername:l}}):(0,s.Z)(h.Z,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"})))):(0,s.Z)(k.Z,{scrollKey:"account_timeline",statusIds:t,featuredStatusIds:a,isLoading:n,hasMore:o,onLoadMore:this.handleLoadMore,emptyMessage:(0,s.Z)(h.Z,{id:"empty_column.account_timeline",defaultMessage:"No posts here!"})}):(0,s.Z)(Z.Z,{nested:!0})},t}(m.ZP),(0,r.Z)(i,"propTypes",{params:l().object.isRequired,dispatch:l().func.isRequired,statusIds:p().orderedSet,featuredStatusIds:p().orderedSet,isLoading:l().bool,hasMore:l().bool,withReplies:l().bool,isAccount:l().bool,unavailable:l().bool}),o=i))||o},1102:function(e,t,a){a.r(t);var n=a(1821),o=a(6),i=a.n(o),s=a(1815),r=a(583),c=a(1827),d=a(2),l=a(36),u=a(30),p=function(e){return(e.match(/\$([a-zA-Z]*)/i)||[])[1]},m=(0,s.vU)({linkVerifiedOn:{id:"account.link_verified_on",defaultMessage:"Ownership of this link was checked on {date}"},account_locked:{id:"account.locked_info",defaultMessage:"This account privacy status is set to locked. The owner manually reviews who can follow them."},deactivated:{id:"account.deactivated",defaultMessage:"Deactivated"},bot:{id:"account.badges.bot",defaultMessage:"Bot"}}),h={month:"short",day:"numeric",year:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"},f=function(e){var t,o=e.field,s=(0,r.Z)();return t=o.name,Boolean(p(t))?(0,n.Z)(l.Z,{fetchComponent:u.UE},void 0,(function(e){return(0,n.Z)(e,{ticker:p(o.name).toLowerCase(),address:o.value_plain})})):(0,n.Z)("dl",{},void 0,(0,n.Z)("dt",{title:o.name},void 0,(0,n.Z)(d.xv,{weight:"bold",tag:"span",dangerouslySetInnerHTML:{__html:o.name_emojified}})),(0,n.Z)("dd",{className:i()({"text-success-500":o.verified_at}),title:o.value_plain},void 0,(0,n.Z)(d.Ug,{space:2,alignItems:"center"},void 0,o.verified_at&&(0,n.Z)("span",{className:"flex-none",title:s.formatMessage(m.linkVerifiedOn,{date:s.formatDate(o.verified_at,h)})},void 0,(0,n.Z)(d.JO,{src:a(175)})),(0,n.Z)(d.xv,{tag:"span",dangerouslySetInnerHTML:{__html:o.value_emojified}}))))};t.default=function(e){var t=e.account;return(0,n.Z)(d.$L,{title:(0,n.Z)(c.Z,{id:"profile_fields_panel.title",defaultMessage:"Profile fields"})},void 0,(0,n.Z)(d.Kq,{space:4},void 0,t.fields.map((function(e,t){return(0,n.Z)(f,{field:e},t)}))))}},1100:function(e,t,a){a.r(t);var n=a(1821),o=(a(1),a(32),a(1815)),i=a(583),s=a(1827),r=a(404),c=a(2),d=a(194),l=a(4),u=a(38),p=a(500),m=(0,o.vU)({linkVerifiedOn:{id:"account.link_verified_on",defaultMessage:"Ownership of this link was checked on {date}"},account_locked:{id:"account.locked_info",defaultMessage:"This account privacy status is set to locked. The owner manually reviews who can follow them."},deactivated:{id:"account.deactivated",defaultMessage:"Deactivated"},bot:{id:"account.badges.bot",defaultMessage:"Bot"}});t.default=function(e){var t=e.account,o=e.username,h=(0,i.Z)(),f=(0,l.Dn)().displayFqn;if(!t)return(0,n.Z)("div",{className:"mt-6 min-w-0 flex-1 sm:px-2"},void 0,(0,n.Z)(c.Kq,{space:2},void 0,(0,n.Z)(c.Kq,{},void 0,(0,n.Z)(c.Ug,{space:1,alignItems:"center"},void 0,(0,n.Z)(c.xv,{size:"sm",theme:"muted"},void 0,"@",o)))));var v={__html:t.note_emojified},g=1==!t.pleroma.get("is_active",!0)?{__html:h.formatMessage(m.deactivated)}:{__html:t.display_name_html},Z=h.formatDate(t.created_at,{month:"long",year:"numeric"}),_=t.verified,y=function(){var e=null!=t&&t.admin?(0,n.Z)(r.Z,{slug:"admin",title:"Admin"},"staff"):null!=t&&t.moderator?(0,n.Z)(r.Z,{slug:"moderator",title:"Moderator"},"staff"):null,a=!0===t.getIn(["patron","is_patron"]),o=[];return e&&o.push(e),a&&o.push((0,n.Z)(r.Z,{slug:"patron",title:"Patron"},"patron")),t.donor&&o.push((0,n.Z)(r.Z,{slug:"donor",title:"Donor"},"donor")),o}();return(0,n.Z)("div",{className:"mt-6 min-w-0 flex-1 sm:px-2"},void 0,(0,n.Z)(c.Kq,{space:2},void 0,(0,n.Z)(c.Kq,{},void 0,(0,n.Z)(c.Ug,{space:1,alignItems:"center"},void 0,(0,n.Z)(c.xv,{size:"lg",weight:"bold",dangerouslySetInnerHTML:g}),_&&(0,n.Z)(d.Z,{}),t.bot&&(0,n.Z)(r.Z,{slug:"bot",title:h.formatMessage(m.bot)}),y.length>0&&(0,n.Z)(c.Ug,{space:1,alignItems:"center"},void 0,y)),(0,n.Z)(c.Ug,{alignItems:"center",space:.5},void 0,(0,n.Z)(c.xv,{size:"sm",theme:"muted"},void 0,"@",f?t.fqn:t.acct),t.locked&&(0,n.Z)(c.JO,{src:a(177),alt:h.formatMessage(m.account_locked),className:"w-4 h-4 text-gray-600"}))),(0,n.Z)(p.Z,{account:t}),t.note.length>0&&"<p></p>"!==t.note&&(0,n.Z)(c.xv,{size:"sm",dangerouslySetInnerHTML:v}),(0,n.Z)("div",{className:"flex flex-col md:flex-row items-start md:flex-wrap md:items-center gap-2"},void 0,(0,u.D0)(t)?(0,n.Z)(c.Ug,{alignItems:"center",space:.5},void 0,(0,n.Z)(c.JO,{src:a(570),className:"w-4 h-4 text-gray-800 dark:text-gray-200"}),(0,n.Z)(c.xv,{size:"sm"},void 0,(0,n.Z)(s.Z,{id:"account.member_since",defaultMessage:"Joined {date}",values:{date:Z}}))):null,t.location?(0,n.Z)(c.Ug,{alignItems:"center",space:.5},void 0,(0,n.Z)(c.JO,{src:a(571),className:"w-4 h-4 text-gray-800 dark:text-gray-200"}),(0,n.Z)(c.xv,{size:"sm"},void 0,t.location)):null,t.website?(0,n.Z)(c.Ug,{alignItems:"center",space:.5},void 0,(0,n.Z)(c.JO,{src:a(254),className:"w-4 h-4 text-gray-800 dark:text-gray-200"}),(0,n.Z)("div",{className:"max-w-[300px]"},void 0,(0,n.Z)(c.xv,{size:"sm",truncate:!0},void 0,function(e){try{var t=new URL(e);return["http:","https:"].includes(t.protocol)}catch(e){return!1}}(t.website)?(0,n.Z)("a",{className:"text-primary-600 dark:text-primary-400 hover:underline",href:t.website,target:"_blank"},void 0,t.website):t.website))):null,function(){var e=t.birthday;if(!e)return null;var o=h.formatDate(e,{timeZone:"UTC",day:"numeric",month:"long",year:"numeric"}),i=new Date(e),r=new Date,d=i.getDate()===r.getDate()&&i.getMonth()===r.getMonth();return(0,n.Z)(c.Ug,{alignItems:"center",space:.5},void 0,(0,n.Z)(c.JO,{src:a(547),className:"w-4 h-4 text-gray-800 dark:text-gray-200"}),(0,n.Z)(c.xv,{size:"sm"},void 0,d?(0,n.Z)(s.Z,{id:"account.birthday_today",defaultMessage:"Birthday is today!"}):(0,n.Z)(s.Z,{id:"account.birthday",defaultMessage:"Born {date}",values:{date:o}})))}())))}},570:function(e,t,a){e.exports=a.p+"packs/icons/calendar-350530e0.svg"},571:function(e,t,a){e.exports=a.p+"packs/icons/map-pin-883d564a.svg"}}]);
//# sourceMappingURL=account_timeline-70f45185a21468e2dcfe.chunk.js.map