{"version":3,"file":"packs/js/features/developers-a962ea4597f352e9cc79.chunk.js","mappings":"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","sources":["webpack://soapbox-fe/./app/soapbox/features/developers/apps/create.js","webpack://soapbox-fe/./app/soapbox/features/developers/developers_challenge.tsx","webpack://soapbox-fe/./app/soapbox/features/developers/developers_menu.tsx","webpack://soapbox-fe/./app/soapbox/features/developers/index.tsx","webpack://soapbox-fe/./app/soapbox/features/developers/settings_store.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2;import\"core-js/modules/web.dom-collections.iterator.js\";import{Map as ImmutableMap}from'immutable';import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{injectIntl,FormattedMessage,defineMessages}from'react-intl';import{connect}from'react-redux';import{createApp}from'soapbox/actions/apps';import{obtainOAuthToken}from'soapbox/actions/oauth';import Column from'soapbox/features/ui/components/column';import{getBaseURL}from'soapbox/utils/accounts';import{getFeatures}from'soapbox/utils/features';import{Button,Form,FormActions,FormGroup,Input,Stack,Text,Textarea}from'../../../components/ui';const messages=defineMessages({heading:{\"id\":\"column.app_create\",\"defaultMessage\":\"Create app\"},namePlaceholder:{\"id\":\"app_create.name_placeholder\",\"defaultMessage\":\"e.g. 'Soapbox'\"},scopesPlaceholder:{\"id\":\"app_create.scopes_placeholder\",\"defaultMessage\":\"e.g. 'read write follow'\"}});const mapStateToProps=state=>{const me=state.get('me');const account=state.getIn(['accounts',me]);const instance=state.get('instance');const features=getFeatures(instance);return{account,defaultScopes:features.scopes};};let CreateApp=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=(_class2=class CreateApp extends ImmutablePureComponent{constructor(){super(...arguments);_defineProperty(this,\"initialState\",()=>{return{params:ImmutableMap({client_name:'',redirect_uris:'urn:ietf:wg:oauth:2.0:oob',scopes:'',website:''}),app:null,token:null,isLoading:false};});_defineProperty(this,\"state\",this.initialState());_defineProperty(this,\"handleCreateApp\",()=>{const{dispatch,account}=this.props;const{params}=this.state;const baseURL=getBaseURL(account);return dispatch(createApp(params.toJS(),baseURL)).then(app=>this.setState({app}));});_defineProperty(this,\"handleCreateToken\",()=>{const{dispatch,account}=this.props;const{app,params:appParams}=this.state;const baseURL=getBaseURL(account);const tokenParams={client_id:app.client_id,client_secret:app.client_secret,redirect_uri:appParams.get('redirect_uri'),grant_type:'client_credentials',scope:appParams.get('scopes')};return dispatch(obtainOAuthToken(tokenParams,baseURL)).then(token=>this.setState({token}));});_defineProperty(this,\"handleSubmit\",e=>{this.setState({isLoading:true});this.handleCreateApp().then(this.handleCreateToken).then(()=>{this.scrollToTop();this.setState({isLoading:false});}).catch(error=>{console.error(error);this.setState({isLoading:false});});});_defineProperty(this,\"setParam\",(key,value)=>{const{params}=this.state;const newParams=params.set(key,value);this.setState({params:newParams});});_defineProperty(this,\"handleParamChange\",key=>{return e=>{this.setParam(key,e.target.value);};});_defineProperty(this,\"resetState\",()=>{this.setState(this.initialState());});_defineProperty(this,\"handleReset\",e=>{this.resetState();this.scrollToTop();});_defineProperty(this,\"scrollToTop\",()=>{window.scrollTo({top:0,behavior:'smooth'});});_defineProperty(this,\"renderResults\",()=>{const{intl}=this.props;const{app,token}=this.state;return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.heading),backHref:\"/developers\"},void 0,/*#__PURE__*/_jsx(Form,{},void 0,/*#__PURE__*/_jsx(Stack,{},void 0,/*#__PURE__*/_jsx(Text,{size:\"lg\",weight:\"medium\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.results.explanation_title\",defaultMessage:\"App created successfully\"})),/*#__PURE__*/_jsx(Text,{theme:\"muted\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.results.explanation_text\",defaultMessage:\"You created a new app and token! Please copy the credentials somewhere; you will not see them again after navigating away from this page.\"}))),/*#__PURE__*/_jsx(FormGroup,{labelText:/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.results.app_label\",defaultMessage:\"App\"})},void 0,/*#__PURE__*/_jsx(Textarea,{value:JSON.stringify(app,null,2),rows:10,readOnly:true,isCodeEditor:true})),/*#__PURE__*/_jsx(FormGroup,{labelText:/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.results.token_label\",defaultMessage:\"OAuth token\"})},void 0,/*#__PURE__*/_jsx(Textarea,{value:JSON.stringify(token,null,2),rows:10,readOnly:true,isCodeEditor:true})),/*#__PURE__*/_jsx(FormActions,{},void 0,/*#__PURE__*/_jsx(Button,{theme:\"primary\",type:\"button\",onClick:this.handleReset},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.restart\",defaultMessage:\"Create another\"})))));});}render(){const{intl}=this.props;const{params,app,token,isLoading}=this.state;if(app&&token){return this.renderResults();}return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.heading),backHref:\"/developers\"},void 0,/*#__PURE__*/_jsx(Form,{onSubmit:this.handleSubmit},void 0,/*#__PURE__*/_jsx(FormGroup,{labelText:/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.name_label\",defaultMessage:\"App name\"})},void 0,/*#__PURE__*/_jsx(Input,{placeholder:intl.formatMessage(messages.namePlaceholder),onChange:this.handleParamChange('client_name'),value:params.get('client_name'),required:true})),/*#__PURE__*/_jsx(FormGroup,{labelText:/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.website_label\",defaultMessage:\"Website\"})},void 0,/*#__PURE__*/_jsx(Input,{placeholder:\"https://soapbox.pub\",onChange:this.handleParamChange('website'),value:params.get('website')})),/*#__PURE__*/_jsx(FormGroup,{labelText:/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.redirect_uri_label\",defaultMessage:\"Redirect URIs\"})},void 0,/*#__PURE__*/_jsx(Input,{placeholder:\"https://example.com\",onChange:this.handleParamChange('redirect_uris'),value:params.get('redirect_uris'),required:true})),/*#__PURE__*/_jsx(FormGroup,{labelText:/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.scopes_label\",defaultMessage:\"Scopes\"})},void 0,/*#__PURE__*/_jsx(Input,{placeholder:intl.formatMessage(messages.scopesPlaceholder),onChange:this.handleParamChange('scopes'),value:params.get('scopes'),required:true})),/*#__PURE__*/_jsx(FormActions,{},void 0,/*#__PURE__*/_jsx(Button,{theme:\"primary\",type:\"submit\",disabled:isLoading},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.submit\",defaultMessage:\"Create app\"})))));}},_defineProperty(_class2,\"propTypes\",{intl:PropTypes.object.isRequired,dispatch:PropTypes.func.isRequired,account:ImmutablePropTypes.record.isRequired,defaultScopes:PropTypes.string}),_class2))||_class)||_class);export{CreateApp as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/web.dom-collections.iterator.js\";import React from'react';import{useState}from'react';import{FormattedMessage,defineMessages,useIntl}from'react-intl';import{useDispatch}from'react-redux';import{changeSettingImmediate}from'soapbox/actions/settings';import snackbar from'soapbox/actions/snackbar';import{Button,Form,FormActions,FormGroup,Input,Text}from'soapbox/components/ui';import Column from'../ui/components/column';const messages=defineMessages({heading:{\"id\":\"column.developers\",\"defaultMessage\":\"Developers\"},answerLabel:{\"id\":\"developers.challenge.answer_label\",\"defaultMessage\":\"Answer\"},answerPlaceholder:{\"id\":\"developers.challenge.answer_placeholder\",\"defaultMessage\":\"Your answer\"},success:{\"id\":\"developers.challenge.success\",\"defaultMessage\":\"You are now a developer\"},fail:{\"id\":\"developers.challenge.fail\",\"defaultMessage\":\"Wrong answer\"}});const DevelopersChallenge=()=>{const dispatch=useDispatch();const intl=useIntl();const[answer,setAnswer]=useState('');const handleChangeAnswer=e=>{setAnswer(e.target.value);};const handleSubmit=()=>{if(answer==='boxsoap'){dispatch(changeSettingImmediate(['isDeveloper'],true));dispatch(snackbar.success(intl.formatMessage(messages.success)));}else{dispatch(snackbar.error(intl.formatMessage(messages.fail)));}};const challenge=\"function soapbox() {\\n  return 'soap|box'.split('|').reverse().join('');\\n}\";return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit},void 0,/*#__PURE__*/_jsx(Text,{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.challenge.message\",defaultMessage:\"What is the result of calling {function}?\",values:{function:/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\"},void 0,\"soapbox()\")}})),/*#__PURE__*/_jsx(Text,{tag:\"pre\",family:\"mono\"},void 0,challenge),/*#__PURE__*/_jsx(FormGroup,{labelText:intl.formatMessage(messages.answerLabel)},void 0,/*#__PURE__*/_jsx(Input,{name:\"answer\",placeholder:intl.formatMessage(messages.answerPlaceholder),onChange:handleChangeAnswer,value:answer,type:\"text\"})),/*#__PURE__*/_jsx(FormActions,{},void 0,/*#__PURE__*/_jsx(Button,{theme:\"primary\",type:\"submit\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.challenge.submit\",defaultMessage:\"Become a developer\"})))));};export default DevelopersChallenge;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{FormattedMessage,defineMessages,useIntl}from'react-intl';import{useDispatch}from'react-redux';import{Link,useHistory}from'react-router-dom';import{changeSettingImmediate}from'soapbox/actions/settings';import snackbar from'soapbox/actions/snackbar';import{Text}from'soapbox/components/ui';import SvgIcon from'soapbox/components/ui/icon/svg-icon';import Column from'../ui/components/column';const messages=defineMessages({heading:{\"id\":\"column.developers\",\"defaultMessage\":\"Developers\"},leave:{\"id\":\"developers.leave\",\"defaultMessage\":\"You have left developers\"}});const Developers=()=>{const dispatch=useDispatch();const history=useHistory();const intl=useIntl();const leaveDevelopers=e=>{e.preventDefault();dispatch(changeSettingImmediate(['isDeveloper'],false));dispatch(snackbar.success(intl.formatMessage(messages.leave)));history.push('/');};return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2\"},void 0,/*#__PURE__*/_jsx(Link,{to:\"/developers/apps/create\",className:\"bg-gray-200 dark:bg-gray-600 p-4 rounded flex flex-col items-center justify-center space-y-2 hover:-translate-y-1 transition-transform\"},void 0,/*#__PURE__*/_jsx(SvgIcon,{src:require('@tabler/icons/icons/apps.svg'),className:\"dark:text-gray-100\"}),/*#__PURE__*/_jsx(Text,{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.navigation.app_create_label\",defaultMessage:\"Create an app\"}))),/*#__PURE__*/_jsx(Link,{to:\"/developers/settings_store\",className:\"bg-gray-200 dark:bg-gray-600 p-4 rounded flex flex-col items-center justify-center space-y-2 hover:-translate-y-1 transition-transform\"},void 0,/*#__PURE__*/_jsx(SvgIcon,{src:require('@tabler/icons/icons/code-plus.svg'),className:\"dark:text-gray-100\"}),/*#__PURE__*/_jsx(Text,{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.navigation.settings_store_label\",defaultMessage:\"Settings store\"}))),/*#__PURE__*/_jsx(Link,{to:\"/developers/timeline\",className:\"bg-gray-200 dark:bg-gray-600 p-4 rounded flex flex-col items-center justify-center space-y-2 hover:-translate-y-1 transition-transform\"},void 0,/*#__PURE__*/_jsx(SvgIcon,{src:require('icons/feed.svg'),className:\"dark:text-gray-100\"}),/*#__PURE__*/_jsx(Text,{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.navigation.test_timeline_label\",defaultMessage:\"Test timeline\"}))),/*#__PURE__*/_jsx(Link,{to:\"/error\",className:\"bg-gray-200 dark:bg-gray-600 p-4 rounded flex flex-col items-center justify-center space-y-2 hover:-translate-y-1 transition-transform\"},void 0,/*#__PURE__*/_jsx(SvgIcon,{src:require('@tabler/icons/icons/mood-sad.svg'),className:\"dark:text-gray-100\"}),/*#__PURE__*/_jsx(Text,{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.navigation.intentional_error_label\",defaultMessage:\"Trigger an error\"}))),/*#__PURE__*/_jsx(Link,{to:\"/error/network\",className:\"bg-gray-200 dark:bg-gray-600 p-4 rounded flex flex-col items-center justify-center space-y-2 hover:-translate-y-1 transition-transform\"},void 0,/*#__PURE__*/_jsx(SvgIcon,{src:require('@tabler/icons/icons/refresh.svg'),className:\"dark:text-gray-100\"}),/*#__PURE__*/_jsx(Text,{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.navigation.network_error_label\",defaultMessage:\"Network error\"}))),/*#__PURE__*/_jsx(\"button\",{onClick:leaveDevelopers,className:\"bg-gray-200 dark:bg-gray-600 p-4 rounded flex flex-col items-center justify-center space-y-2 hover:-translate-y-1 transition-transform\"},void 0,/*#__PURE__*/_jsx(SvgIcon,{src:require('@tabler/icons/icons/logout.svg'),className:\"dark:text-gray-100\"}),/*#__PURE__*/_jsx(Text,{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.navigation.leave_developers_label\",defaultMessage:\"Leave developers\"})))));};export default Developers;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{getSettings}from'soapbox/actions/settings';import{useAppSelector}from'soapbox/hooks';import DevelopersChallenge from'./developers_challenge';import DevelopersMenu from'./developers_menu';const Developers=()=>{const isDeveloper=useAppSelector(state=>getSettings(state).get('isDeveloper'));return isDeveloper?/*#__PURE__*/_jsx(DevelopersMenu,{}):/*#__PURE__*/_jsx(DevelopersChallenge,{});};export default Developers;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2;import\"core-js/modules/web.dom-collections.iterator.js\";import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{injectIntl,FormattedMessage,defineMessages}from'react-intl';import{connect}from'react-redux';import{showAlertForError}from'soapbox/actions/alerts';import{patchMe}from'soapbox/actions/me';import{FE_NAME,SETTINGS_UPDATE}from'soapbox/actions/settings';import Column from'soapbox/features/ui/components/column';import{Button,Form,FormActions,FormGroup,Textarea}from'../../components/ui';const isJSONValid=text=>{try{JSON.parse(text);return true;}catch{return false;}};const messages=defineMessages({heading:{\"id\":\"column.settings_store\",\"defaultMessage\":\"Settings store\"},hint:{\"id\":\"developers.settings_store.hint\",\"defaultMessage\":\"It is possible to directly edit your user settings here. BE CAREFUL! Editing this section can break your account, and you will only be able to recover through the API.\"}});const mapStateToProps=state=>{return{settingsStore:state.get('settings')};};let SettingsStore=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=(_class2=class SettingsStore extends ImmutablePureComponent{constructor(){super(...arguments);_defineProperty(this,\"state\",{rawJSON:JSON.stringify(this.props.settingsStore,null,2),jsonValid:true,isLoading:false});_defineProperty(this,\"handleEditJSON\",_ref=>{let{target}=_ref;const rawJSON=target.value;this.setState({rawJSON,jsonValid:isJSONValid(rawJSON)});});_defineProperty(this,\"handleSubmit\",e=>{const{dispatch}=this.props;const{rawJSON}=this.state;const settings=JSON.parse(rawJSON);this.setState({isLoading:true});dispatch(patchMe({pleroma_settings_store:{[FE_NAME]:settings}})).then(response=>{dispatch({type:SETTINGS_UPDATE,settings});this.setState({isLoading:false});}).catch(error=>{dispatch(showAlertForError(error));this.setState({isLoading:false});});});}componentDidUpdate(prevProps){const{settingsStore}=this.props;if(settingsStore!==prevProps.settingsStore){this.setState({rawJSON:JSON.stringify(settingsStore,null,2),jsonValid:true});}}render(){const{intl}=this.props;const{rawJSON,jsonValid,isLoading}=this.state;return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.heading),backHref:\"/developers\"},void 0,/*#__PURE__*/_jsx(Form,{onSubmit:this.handleSubmit},void 0,/*#__PURE__*/_jsx(FormGroup,{hintText:intl.formatMessage(messages.hint),errors:jsonValid?[]:['is invalid']},void 0,/*#__PURE__*/_jsx(Textarea,{value:rawJSON,onChange:this.handleEditJSON,disabled:isLoading,rows:12,isCodeEditor:true})),/*#__PURE__*/_jsx(FormActions,{},void 0,/*#__PURE__*/_jsx(Button,{theme:\"primary\",type:\"submit\",disabled:!jsonValid||isLoading},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"soapbox_config.save\",defaultMessage:\"Save\"})))));}},_defineProperty(_class2,\"propTypes\",{intl:PropTypes.object.isRequired,dispatch:PropTypes.func.isRequired,settingsStore:ImmutablePropTypes.map.isRequired}),_class2))||_class)||_class);export{SettingsStore as default};"],"names":["_class","_class2","messages","heading","namePlaceholder","scopesPlaceholder","CreateApp","state","me","get","account","getIn","instance","defaultScopes","scopes","_dec","arguments","params","client_name","redirect_uris","website","app","token","isLoading","initialState","props","dispatch","baseURL","toJS","then","setState","appParams","tokenParams","client_id","client_secret","redirect_uri","grant_type","scope","e","handleCreateApp","handleCreateToken","scrollToTop","catch","error","console","key","value","newParams","set","setParam","target","resetState","window","scrollTo","top","behavior","intl","label","formatMessage","backHref","size","weight","id","defaultMessage","theme","labelText","JSON","stringify","rows","readOnly","isCodeEditor","type","onClick","handleReset","render","this","renderResults","onSubmit","handleSubmit","placeholder","onChange","handleParamChange","required","disabled","answerLabel","answerPlaceholder","success","fail","useIntl","useState","answer","setAnswer","snackbar","values","function","className","tag","family","name","leave","history","to","src","preventDefault","push","isJSONValid","text","parse","hint","SettingsStore","settingsStore","rawJSON","jsonValid","_ref","settings","pleroma_settings_store","response","componentDidUpdate","prevProps","hintText","errors","handleEditJSON"],"sourceRoot":""}