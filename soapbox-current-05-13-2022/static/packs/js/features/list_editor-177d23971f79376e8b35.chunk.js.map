{"version":3,"file":"packs/js/features/list_editor-177d23971f79376e8b35.chunk.js","mappings":"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","sources":["webpack://soapbox-fe/./app/soapbox/features/list_editor/components/account.js","webpack://soapbox-fe/./app/soapbox/features/list_editor/components/edit_list_form.js","webpack://soapbox-fe/./app/soapbox/features/list_editor/components/search.js","webpack://soapbox-fe/./app/soapbox/features/list_editor/index.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2;import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{defineMessages,injectIntl}from'react-intl';import{connect}from'react-redux';import{removeFromListEditor,addToListEditor}from'../../../actions/lists';import Avatar from'../../../components/avatar';import DisplayName from'../../../components/display_name';import IconButton from'../../../components/icon_button';import{makeGetAccount}from'../../../selectors';const messages=defineMessages({remove:{\"id\":\"lists.account.remove\",\"defaultMessage\":\"Remove from list\"},add:{\"id\":\"lists.account.add\",\"defaultMessage\":\"Add to list\"}});const makeMapStateToProps=()=>{const getAccount=makeGetAccount();const mapStateToProps=(state,_ref)=>{let{accountId,added}=_ref;return{account:getAccount(state,accountId),added:typeof added==='undefined'?state.getIn(['listEditor','accounts','items']).includes(accountId):added};};return mapStateToProps;};const mapDispatchToProps=(dispatch,_ref2)=>{let{accountId}=_ref2;return{onRemove:()=>dispatch(removeFromListEditor(accountId)),onAdd:()=>dispatch(addToListEditor(accountId))};};let Account=(_dec=connect(makeMapStateToProps,mapDispatchToProps),_dec(_class=injectIntl(_class=(_class2=class Account extends ImmutablePureComponent{render(){const{account,intl,onRemove,onAdd,added}=this.props;let button;if(added){button=/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/icons/x.svg'),title:intl.formatMessage(messages.remove),onClick:onRemove});}else{button=/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/icons/plus.svg'),title:intl.formatMessage(messages.add),onClick:onAdd});}return/*#__PURE__*/_jsx(\"div\",{className:\"account\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__wrapper\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__display-name\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__avatar-wrapper\"},void 0,/*#__PURE__*/_jsx(Avatar,{account:account,size:36})),/*#__PURE__*/_jsx(DisplayName,{account:account})),/*#__PURE__*/_jsx(\"div\",{className:\"account__relationship\"},void 0,button)));}},_defineProperty(_class2,\"propTypes\",{account:ImmutablePropTypes.record.isRequired,intl:PropTypes.object.isRequired,onRemove:PropTypes.func.isRequired,onAdd:PropTypes.func.isRequired,added:PropTypes.bool}),_defineProperty(_class2,\"defaultProps\",{added:false}),_class2))||_class)||_class);export{Account as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class;import\"core-js/modules/web.dom-collections.iterator.js\";import React from'react';import{defineMessages,injectIntl}from'react-intl';import{connect}from'react-redux';import{changeListEditorTitle,submitListEditor}from'../../../actions/lists';import{Button}from'../../../components/ui';const messages=defineMessages({title:{\"id\":\"lists.edit.submit\",\"defaultMessage\":\"Change title\"},save:{\"id\":\"lists.new.save_title\",\"defaultMessage\":\"Save Title\"}});const mapStateToProps=state=>({value:state.getIn(['listEditor','title']),disabled:!state.getIn(['listEditor','isChanged'])});const mapDispatchToProps=dispatch=>({onChange:value=>dispatch(changeListEditorTitle(value)),onSubmit:()=>dispatch(submitListEditor(false))});let ListForm=(_dec=connect(mapStateToProps,mapDispatchToProps),_dec(_class=injectIntl(_class=class ListForm extends React.PureComponent{constructor(){super(...arguments);_defineProperty(this,\"handleChange\",e=>{this.props.onChange(e.target.value);});_defineProperty(this,\"handleSubmit\",e=>{e.preventDefault();this.props.onSubmit();});_defineProperty(this,\"handleClick\",()=>{this.props.onSubmit();});}render(){const{value,disabled,intl}=this.props;const save=intl.formatMessage(messages.save);return/*#__PURE__*/_jsx(\"form\",{className:\"column-inline-form\",method:\"post\",onSubmit:this.handleSubmit},void 0,/*#__PURE__*/_jsx(\"input\",{className:\"setting-text new-list-form__input\",value:value,onChange:this.handleChange}),!disabled&&/*#__PURE__*/_jsx(Button,{className:\"new-list-form__btn\",onClick:this.handleClick},void 0,save));}})||_class)||_class);export{ListForm as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class;import\"core-js/modules/web.dom-collections.iterator.js\";import classNames from'classnames';import React from'react';import{defineMessages,injectIntl}from'react-intl';import{connect}from'react-redux';import Icon from'soapbox/components/icon';import{Button}from'soapbox/components/ui';import{fetchListSuggestions,clearListSuggestions,changeListSuggestions}from'../../../actions/lists';const messages=defineMessages({search:{\"id\":\"lists.search\",\"defaultMessage\":\"Search among people you follow\"},searchTitle:{\"id\":\"tabs_bar.search\",\"defaultMessage\":\"Search\"}});const mapStateToProps=state=>({value:state.getIn(['listEditor','suggestions','value'])});const mapDispatchToProps=dispatch=>({onSubmit:value=>dispatch(fetchListSuggestions(value)),onClear:()=>dispatch(clearListSuggestions()),onChange:value=>dispatch(changeListSuggestions(value))});let Search=(_dec=connect(mapStateToProps,mapDispatchToProps),_dec(_class=injectIntl(_class=class Search extends React.PureComponent{constructor(){super(...arguments);_defineProperty(this,\"handleChange\",e=>{this.props.onChange(e.target.value);});_defineProperty(this,\"handleKeyUp\",e=>{if(e.keyCode===13){this.props.onSubmit(this.props.value);}});_defineProperty(this,\"handleSubmit\",()=>{this.props.onSubmit(this.props.value);});_defineProperty(this,\"handleClear\",()=>{this.props.onClear();});}render(){const{value,intl}=this.props;const hasValue=value.length>0;return/*#__PURE__*/_jsx(\"div\",{className:\"list-editor__search search\"},void 0,/*#__PURE__*/_jsx(\"label\",{},void 0,/*#__PURE__*/_jsx(\"span\",{style:{display:'none'}},void 0,intl.formatMessage(messages.search)),/*#__PURE__*/_jsx(\"input\",{className:\"search__input\",type:\"text\",value:value,onChange:this.handleChange,onKeyUp:this.handleKeyUp,placeholder:intl.formatMessage(messages.search)})),/*#__PURE__*/_jsx(\"div\",{role:\"button\",tabIndex:\"0\",className:\"search__icon\",onClick:this.handleClear},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/backspace.svg'),\"aria-label\":intl.formatMessage(messages.search),className:classNames('svg-icon--backspace',{active:hasValue})})),/*#__PURE__*/_jsx(Button,{onClick:this.handleSubmit},void 0,intl.formatMessage(messages.searchTitle)));}})||_class)||_class);export{Search as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2;import\"core-js/modules/web.dom-collections.iterator.js\";import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{injectIntl,defineMessages,FormattedMessage}from'react-intl';import{connect}from'react-redux';import{setupListEditor,clearListSuggestions,resetListEditor}from'soapbox/actions/lists';import{CardHeader,CardTitle,Modal}from'soapbox/components/ui';import Account from'./components/account';import EditListForm from'./components/edit_list_form';import Search from'./components/search';const mapStateToProps=state=>({accountIds:state.getIn(['listEditor','accounts','items']),searchAccountIds:state.getIn(['listEditor','suggestions','items'])});const mapDispatchToProps=dispatch=>({onInitialize:listId=>dispatch(setupListEditor(listId)),onClear:()=>dispatch(clearListSuggestions()),onReset:()=>dispatch(resetListEditor())});const messages=defineMessages({close:{\"id\":\"lightbox.close\",\"defaultMessage\":\"Close\"},changeTitle:{\"id\":\"lists.edit.submit\",\"defaultMessage\":\"Change title\"},addToList:{\"id\":\"lists.account.add\",\"defaultMessage\":\"Add to list\"},removeFromList:{\"id\":\"lists.account.remove\",\"defaultMessage\":\"Remove from list\"},editList:{\"id\":\"lists.edit\",\"defaultMessage\":\"Edit list\"}});let ListEditor=(_dec=connect(mapStateToProps,mapDispatchToProps),_dec(_class=injectIntl(_class=(_class2=class ListEditor extends ImmutablePureComponent{constructor(){super(...arguments);_defineProperty(this,\"onClickClose\",()=>{this.props.onClose('LIST_ADDER');});}componentDidMount(){const{onInitialize,listId}=this.props;onInitialize(listId);}componentWillUnmount(){const{onReset}=this.props;onReset();}render(){const{accountIds,searchAccountIds,intl}=this.props;return/*#__PURE__*/_jsx(Modal,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"lists.edit\",defaultMessage:\"Edit list\"}),onClose:this.onClickClose},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"compose-modal__content list-editor__content\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"list-editor\"},void 0,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.changeTitle)})),/*#__PURE__*/_jsx(EditListForm,{}),/*#__PURE__*/_jsx(\"br\",{}),accountIds.size>0&&/*#__PURE__*/_jsx(\"div\",{},void 0,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.removeFromList)})),/*#__PURE__*/_jsx(\"div\",{className:\"list-editor__accounts\"},void 0,accountIds.map(accountId=>/*#__PURE__*/_jsx(Account,{accountId:accountId,added:true},accountId)))),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.addToList)})),/*#__PURE__*/_jsx(Search,{}),/*#__PURE__*/_jsx(\"div\",{className:\"list-editor__accounts\"},void 0,searchAccountIds.map(accountId=>/*#__PURE__*/_jsx(Account,{accountId:accountId},accountId))))));}},_defineProperty(_class2,\"propTypes\",{listId:PropTypes.string.isRequired,onClose:PropTypes.func.isRequired,intl:PropTypes.object.isRequired,onInitialize:PropTypes.func.isRequired,onClear:PropTypes.func.isRequired,onReset:PropTypes.func.isRequired,accountIds:ImmutablePropTypes.list.isRequired,searchAccountIds:ImmutablePropTypes.list.isRequired}),_class2))||_class)||_class);export{ListEditor as default};"],"names":["_class","_class2","messages","remove","add","Account","getAccount","state","_ref","accountId","added","account","getIn","includes","dispatch","_ref2","onRemove","onAdd","_dec","injectIntl","render","button","this","props","intl","src","title","formatMessage","onClick","className","size","save","ListForm","value","disabled","onChange","onSubmit","arguments","e","target","preventDefault","method","handleSubmit","handleChange","handleClick","search","searchTitle","Search","onClear","keyCode","hasValue","length","style","display","type","onKeyUp","handleKeyUp","placeholder","role","tabIndex","handleClear","active","close","changeTitle","addToList","removeFromList","editList","ListEditor","accountIds","searchAccountIds","onInitialize","listId","onReset","onClose","componentDidMount","componentWillUnmount","id","defaultMessage","onClickClose","map"],"sourceRoot":""}