{"version":3,"file":"packs/js/features/admin/moderation_log-6d0f548cbad68aa3a7a7.chunk.js","mappings":"+JAAiIA,EAAOC,E,wjBAAggBC,GAAS,QAAe,CAACC,QAAQ,CAAC,GAAK,8BAA8B,eAAiB,kBAAkBC,aAAa,CAAC,GAAK,qCAAqC,eAAiB,mGAAgUC,GAAoB,SAA3N,SAAAC,GAAO,OAAEC,MAAMD,EAAME,MAAM,CAAC,YAAY,UAAUC,KAAI,SAAAC,GAAG,OAAAJ,EAAME,MAAM,CAAC,YAAY,QAAQG,OAAOD,QAAME,QAAQN,EAAME,MAAM,CAAC,YAAY,SAAS,GAAGF,EAAME,MAAM,CAAC,YAAY,UAAUK,QAAQ,KAAqDC,CAAKd,GAAO,SAAmBC,EAAO,YAAoD,gCAAuBc,YAAS,K,OAAE,OAAgB,EAAK,QAAQ,CAACC,WAAU,EAAKC,SAAS,KAAI,OAAgB,EAAK,kBAAiB,WAAK,IAAMC,EAAK,EAAKZ,MAAMW,SAAS,EAAE,EAAKE,SAAS,CAACH,WAAU,IAAO,EAAKI,MAAMC,UAAS,QAAmB,CAACH,KAAI,KAAII,MAAK,SAAAC,GAAM,SAAKJ,SAAS,CAACH,WAAU,EAAMC,SAASC,OAAQM,OAAM,kB,EAA09B,OAA1yC,OAA4V,YAAAC,kBAAA,uBAA+CJ,EAAXK,KAAKN,MAAK,WAAU,WAAsBE,MAAK,SAAAC,GAAM,SAAKJ,SAAS,CAACH,WAAU,EAAMC,SAAS,OAAKO,OAAM,gBAAS,YAAAG,OAAA,WAAc,MAAqBD,KAAKN,MAAzBQ,EAAI,OAACrB,EAAK,QAACK,EAAO,UAAmBI,EAAWU,KAAKpB,MAAK,UAAOuB,EAAYb,GAA2B,IAAhBT,EAAMM,QAAY,OAAmB,OAAK,IAAO,CAACiB,KAAK,gBAAgBC,MAAMH,EAAKI,cAAc9B,EAASC,eAAU,GAAoB,OAAK,IAAe,CAACa,UAAUA,EAAUa,YAAYA,EAAYI,UAAU,iBAAiB7B,aAAawB,EAAKI,cAAc9B,EAASE,cAAcQ,QAAQA,EAAQsB,WAAWR,KAAKS,qBAAgB,EAAO5B,EAAME,KAAI,SAAC2B,EAAK1B,GAAiB,cAAK,MAAM,CAAC2B,UAAU,YAAY3B,GAAe,OAAK,MAAM,CAAC2B,UAAU,0BAAqB,EAAOD,EAAKE,IAAI,aAAyB,OAAK,MAAM,CAACD,UAAU,4BAAuB,GAAoB,OAAK,KAAc,CAACE,MAAM,IAAIC,KAAsB,IAAjBJ,EAAKE,IAAI,SAAcG,QAAO,EAAMC,KAAK,UAAUC,MAAM,QAAQC,IAAI,UAAUC,KAAK,UAAUC,OAAO,oBAAkB,EAAv0C,CAA6B,OAA4yC,OAAgB7C,EAAQ,YAAY,CAAC2B,KAAK,sBAA4BmB,KAAK,WAAn6C/C,EAA67CC,KAAWD,IAASA","sources":["webpack://soapbox-fe/./app/soapbox/features/admin/moderation_log.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2;import\"core-js/modules/web.dom-collections.iterator.js\";import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{defineMessages,injectIntl,FormattedDate}from'react-intl';import{connect}from'react-redux';import{fetchModerationLog}from'soapbox/actions/admin';import ScrollableList from'soapbox/components/scrollable_list';import Column from'../ui/components/column';const messages=defineMessages({heading:{\"id\":\"column.admin.moderation_log\",\"defaultMessage\":\"Moderation Log\"},emptyMessage:{\"id\":\"admin.moderation_log.empty_message\",\"defaultMessage\":\"You have not performed any moderation actions yet. When you do, a history will be shown here.\"}});const mapStateToProps=state=>({items:state.getIn(['admin_log','index']).map(i=>state.getIn(['admin_log','items',String(i)])),hasMore:state.getIn(['admin_log','total'],0)-state.getIn(['admin_log','index']).count()>0});let ModerationLog=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=(_class2=class ModerationLog extends ImmutablePureComponent{constructor(){super(...arguments);_defineProperty(this,\"state\",{isLoading:true,lastPage:0});_defineProperty(this,\"handleLoadMore\",()=>{const page=this.state.lastPage+1;this.setState({isLoading:true});this.props.dispatch(fetchModerationLog({page})).then(data=>this.setState({isLoading:false,lastPage:page})).catch(()=>{});});}componentDidMount(){const{dispatch}=this.props;dispatch(fetchModerationLog()).then(data=>this.setState({isLoading:false,lastPage:1})).catch(()=>{});}render(){const{intl,items,hasMore}=this.props;const{isLoading}=this.state;const showLoading=isLoading&&items.count()===0;return/*#__PURE__*/_jsx(Column,{icon:\"balance-scale\",label:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(ScrollableList,{isLoading:isLoading,showLoading:showLoading,scrollKey:\"moderation-log\",emptyMessage:intl.formatMessage(messages.emptyMessage),hasMore:hasMore,onLoadMore:this.handleLoadMore},void 0,items.map((item,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"logentry\"},i,/*#__PURE__*/_jsx(\"div\",{className:\"logentry__message\"},void 0,item.get('message')),/*#__PURE__*/_jsx(\"div\",{className:\"logentry__timestamp\"},void 0,/*#__PURE__*/_jsx(FormattedDate,{value:new Date(item.get('time')*1000),hour12:false,year:\"numeric\",month:\"short\",day:\"2-digit\",hour:\"2-digit\",minute:\"2-digit\"}))))));}},_defineProperty(_class2,\"propTypes\",{intl:PropTypes.object.isRequired,list:ImmutablePropTypes.list}),_class2))||_class)||_class);export{ModerationLog as default};"],"names":["_class","_class2","messages","heading","emptyMessage","ModerationLog","state","items","getIn","map","i","String","hasMore","count","_dec","arguments","isLoading","lastPage","page","setState","props","dispatch","then","data","catch","componentDidMount","this","render","intl","showLoading","icon","label","formatMessage","scrollKey","onLoadMore","handleLoadMore","item","className","get","value","Date","hour12","year","month","day","hour","minute","list"],"sourceRoot":""}