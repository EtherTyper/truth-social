"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[10],{1094:function(t,e,o){o.r(e),o.d(e,{default:function(){return Z}});var n,a,i,s=o(1821),r=o(1814),u=(o(1),o(5)),d=o.n(u),c=o(10),l=o.n(c),g=o(8),p=o(1815),h=o(584),m=o(3),f=o(37),y=o(21),_=o(24),v=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),M=(0,p.vU)({heading:{id:"column.admin.moderation_log",defaultMessage:"Moderation Log"},emptyMessage:{id:"admin.moderation_log.empty_message",defaultMessage:"You have not performed any moderation actions yet. When you do, a history will be shown here."}}),Z=(0,m.$j)((function(t){return{items:t.getIn(["admin_log","index"]).map((function(e){return t.getIn(["admin_log","items",String(e)])})),hasMore:t.getIn(["admin_log","total"],0)-t.getIn(["admin_log","index"]).count()>0}}))(a=(0,h.ZP)((i=function(t){function e(){var e=t.apply(this,arguments)||this;return(0,r.Z)(e,"state",{isLoading:!0,lastPage:0}),(0,r.Z)(e,"handleLoadMore",(function(){var t=e.state.lastPage+1;e.setState({isLoading:!0}),e.props.dispatch((0,f.dP)({page:t})).then((function(o){return e.setState({isLoading:!1,lastPage:t})})).catch((function(){}))})),e}return v(e,t),e.prototype.componentDidMount=function(){var t=this;(0,this.props.dispatch)((0,f.dP)()).then((function(e){return t.setState({isLoading:!1,lastPage:1})})).catch((function(){}))},e.prototype.render=function(){var t=this.props,e=t.intl,o=t.items,n=t.hasMore,a=this.state.isLoading,i=a&&0===o.count();return(0,s.Z)(_.Z,{icon:"balance-scale",label:e.formatMessage(M.heading)},void 0,(0,s.Z)(y.Z,{isLoading:a,showLoading:i,scrollKey:"moderation-log",emptyMessage:e.formatMessage(M.emptyMessage),hasMore:n,onLoadMore:this.handleLoadMore},void 0,o.map((function(t,e){return(0,s.Z)("div",{className:"logentry"},e,(0,s.Z)("div",{className:"logentry__message"},void 0,t.get("message")),(0,s.Z)("div",{className:"logentry__timestamp"},void 0,(0,s.Z)(p.Ji,{value:new Date(1e3*t.get("time")),hour12:!1,year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})))}))))},e}(g.ZP),(0,r.Z)(i,"propTypes",{intl:d().object.isRequired,list:l().list}),a=i))||a)||a}}]);
//# sourceMappingURL=moderation_log-6d0f548cbad68aa3a7a7.chunk.js.map