{"version":3,"file":"packs/js/features/status-844e2737c87951661d3f.chunk.js","mappings":"uGAGA,SAASA,IACPC,KAAKC,OAAS,EAGhBF,EAAMG,UAAUC,KAAO,SAAUC,GAC/B,IAAIC,EAAO,CACTD,KAAMA,GAGJJ,KAAKM,KACPN,KAAKM,KAAON,KAAKM,KAAKC,KAAOF,EAE7BL,KAAKM,KAAON,KAAKQ,MAAQH,EAG3BL,KAAKC,UAGPF,EAAMG,UAAUO,MAAQ,WACtB,IAAIJ,EAAOL,KAAKQ,MAEhB,GAAIH,EAOF,OANAL,KAAKQ,MAAQH,EAAKE,OAEVP,KAAKC,SACXD,KAAKM,UAAOI,GAGPL,EAAKD,MAIhBL,EAAMG,UAAUS,MAAQ,SAAUC,EAAOC,GACvCD,OAAyB,IAAVA,EAAwB,EAAIA,EAC3CC,OAAqB,IAARA,EAAsBC,EAAAA,EAAWD,EAI9C,IAHA,IAAIE,EAAS,GACTC,EAAI,EAECX,EAAOL,KAAKQ,MAAOH,OACpBQ,EAAM,GADoBR,EAAOA,EAAKE,OAG/BS,EAAIJ,GACfG,EAAOZ,KAAKE,EAAKD,MAIrB,OAAOW,GAGTE,EAAOC,QAAUnB,G,g3BCpDivBoB,GAAS,QAAe,CAACC,OAAO,CAAC,GAAK,gBAAgB,eAAiB,UAAUC,QAAQ,CAAC,GAAK,iBAAiB,eAAiB,qBAAqBC,KAAK,CAAC,GAAK,cAAc,eAAiB,QAAQC,OAAO,CAAC,GAAK,gBAAgB,eAAiB,0BAA0BC,KAAK,CAAC,GAAK,cAAc,eAAiB,qBAAqBC,QAAQ,CAAC,GAAK,iBAAiB,eAAiB,mBAAmBC,MAAM,CAAC,GAAK,eAAe,eAAiB,SAASC,OAAO,CAAC,GAAK,gBAAgB,eAAiB,UAAUC,eAAe,CAAC,GAAK,wBAAwB,eAAiB,+BAA+BC,sBAAsB,CAAC,GAAK,+BAA+B,eAAiB,aAAaC,cAAc,CAAC,GAAK,uBAAuB,eAAiB,gCAAgCC,UAAU,CAAC,GAAK,mBAAmB,eAAiB,QAAQC,KAAK,CAAC,GAAK,cAAc,eAAiB,gBAAgBC,iBAAiB,CAAC,GAAK,2BAA2B,eAAiB,qBAAqBC,mBAAmB,CAAC,GAAK,6BAA6B,eAAiB,uBAAuBC,MAAM,CAAC,GAAK,eAAe,eAAiB,iBAAiBC,OAAO,CAAC,GAAK,gBAAgB,eAAiB,kBAAkBC,MAAM,CAAC,GAAK,eAAe,eAAiB,SAASC,IAAI,CAAC,GAAK,aAAa,eAAiB,kBAAkBC,MAAM,CAAC,GAAK,eAAe,eAAiB,sBAAsBC,MAAM,CAAC,GAAK,eAAe,eAAiB,SAASC,cAAc,CAAC,GAAK,uBAAuB,eAAiB,yCAAyCC,aAAa,CAAC,GAAK,sBAAsB,eAAiB,8CAA8CC,KAAK,CAAC,GAAK,cAAc,eAAiB,qBAAqBC,SAAS,CAAC,GAAK,kBAAkB,eAAiB,YAAYC,WAAW,CAAC,GAAK,oBAAoB,eAAiB,mBAAmBC,eAAe,CAAC,GAAK,sCAAsC,eAAiB,sBAAsBC,WAAW,CAAC,GAAK,kCAAkC,eAAiB,kBAAkBC,aAAa,CAAC,GAAK,uCAAuC,eAAiB,eAAeC,oBAAoB,CAAC,GAAK,+CAA+C,eAAiB,uBAAuBC,uBAAuB,CAAC,GAAK,mDAAmD,eAAiB,2BAA2BC,aAAa,CAAC,GAAK,wBAAwB,eAAiB,QAAQC,cAAc,CAAC,GAAK,yBAAyB,eAAiB,QAAQC,iBAAiB,CAAC,GAAK,4BAA4B,eAAiB,QAAQC,kBAAkB,CAAC,GAAK,8BAA8B,eAAiB,OAAOC,YAAY,CAAC,GAAK,uBAAuB,eAAiB,OAAOC,cAAc,CAAC,GAAK,yBAAyB,eAAiB,SAASC,kBAAkB,CAAC,GAAK,0BAA0B,eAAiB,gBAAgBC,KAAK,CAAC,GAAK,sBAAsB,eAAiB,QAAQC,UAAU,CAAC,GAAK,eAAe,eAAiB,gBAA6Z,cAA4C,gCAAuBC,YAAS,K,OAAE,OAAgB,EAAK,QAAQ,CAACC,sBAAqB,EAAMC,sBAAqB,KAAQ,OAAgB,EAAK,OAAO,OAAM,OAAgB,EAAK,oBAAmB,SAAAC,GAAS,MAAqC,EAAKC,MAAzCC,EAAE,KAACC,EAAO,UAACC,EAAuB,0BAAaJ,EAAEK,iBAAoBH,EAAIC,EAAQ,EAAKF,MAAMK,QAAcF,EAAwB,aAAa,OAAgB,EAAK,qBAAoB,SAAAJ,GAAS,MAA6C,EAAKC,MAAjDC,EAAE,KAACK,EAAQ,WAACH,EAAuB,0BAACE,EAAM,SAAaN,EAAEK,iBAAoBH,EAAIK,EAASD,EAAON,GAASI,EAAwB,cAAc,OAAgB,EAAK,oBAAmB,WAAU,MAA4C,EAAKH,MAAhDC,EAAE,KAACM,EAAO,UAACJ,EAAuB,0BAACE,EAAM,SAAgBJ,EAAIM,EAAQF,EAAO,EAAKL,MAAMQ,SAAeL,EAAwB,cAAc,OAAgB,EAAK,uBAAsB,WAAK,EAAKH,MAAMS,WAAW,EAAKT,MAAMK,YAAW,OAAgB,EAAK,wBAAuB,SAAAN,GAAS,MAAgD,EAAKC,MAApDC,EAAE,KAACS,EAAW,cAACP,EAAuB,0BAACE,EAAM,SAAaN,EAAEK,iBAAoBH,EAAIS,EAAYL,GAAcF,EAAwB,iBAAiB,OAAgB,EAAK,yBAAwB,WAAqB,EAAKH,MAAK,SAAaW,eAAc,WAAkB,EAAKC,SAAS,CAACf,sBAAqB,QAAW,OAAgB,EAAK,yBAAwB,WAAqB,EAAKG,MAAK,SAAaW,eAAc,WAAkB,EAAKC,SAAS,CAACf,sBAAqB,QAAY,OAAgB,EAAK,yBAAwB,SAAAE,GAAU,IAAAc,EAAU,EAAKb,MAAK,SAAOc,GAAa,QAAkB,EAAKd,MAAMK,OAAO,EAAKL,MAAMe,eAAe,KAAQF,EAASF,cAAa,UAAqB,EAAKK,MAAMnB,qBAAsB,EAAKoB,iBAAiBH,EAAtB,CAAoCf,GAAS,EAAKa,SAAS,CAACf,sBAAqB,IAAc,EAAKoB,iBAAiBH,EAAtB,CAAoCf,OAAO,OAAgB,EAAK,oBAAmB,SAAAmB,GAAQ,OAAM,WAAU,MAAiD,EAAKlB,MAArDC,EAAE,KAACkB,EAAY,eAAChB,EAAuB,0BAACE,EAAM,SAAgBJ,EAAIkB,EAAad,EAAOa,GAAaf,EAAwB,aAAc,EAAKS,SAAS,CAACf,sBAAqB,EAAMC,sBAAqB,SAAa,OAAgB,EAAK,qBAAoB,WAAW,IAAAD,EAAsB,EAAKmB,MAAK,qBAAC,EAAKJ,SAAS,CAACf,sBAAsBA,QAA0B,OAAgB,EAAK,qBAAoB,WAAK,EAAKG,MAAMoB,SAAS,EAAKpB,MAAMK,OAAO,EAAKL,MAAMQ,aAAY,OAAgB,EAAK,sBAAqB,WAAK,EAAKR,MAAMoB,SAAS,EAAKpB,MAAMK,OAAO,EAAKL,MAAMQ,SAAQ,OAAS,OAAgB,EAAK,mBAAkB,WAAK,EAAKR,MAAMqB,OAAO,EAAKrB,MAAMK,YAAW,OAAgB,EAAK,qBAAoB,WAAW,IAAAiB,EAAS,EAAKtB,MAAMK,OAAM,QAAKiB,GAA0B,iBAAVA,GAA0B,EAAKtB,MAAMuB,SAASD,EAAQ,EAAKtB,MAAMQ,aAAY,OAAgB,EAAK,mBAAkB,WAAW,IAAAc,EAAS,EAAKtB,MAAMK,OAAM,QAAKiB,GAA0B,iBAAVA,GAA0B,EAAKtB,MAAMwB,OAAOF,EAAQ,EAAKtB,MAAMQ,aAAY,OAAgB,EAAK,sBAAqB,WAAW,IAAAc,EAAS,EAAKtB,MAAMK,OAAM,QAAKiB,GAA0B,iBAAVA,GAA0B,EAAKtB,MAAMyB,UAAUH,EAAQ,EAAKtB,MAAMQ,aAAY,OAAgB,EAAK,mBAAkB,WAAW,IAAAc,EAAS,EAAKtB,MAAMK,OAAM,QAAKiB,GAA0B,iBAAVA,GAA0B,EAAKtB,MAAM0B,OAAOJ,OAAY,OAAgB,EAAK,+BAA8B,WAAK,EAAKtB,MAAM2B,mBAAmB,EAAK3B,MAAMK,YAAW,OAAgB,EAAK,oBAAmB,WAAK,EAAKL,MAAM4B,QAAQ,EAAK5B,MAAMK,YAAW,OAAgB,EAAK,gBAAe,WAAK,EAAKL,MAAM6B,SAAS,EAAK7B,MAAMK,YAAW,OAAgB,EAAK,kBAAiB,WAAK,EAAKL,MAAM8B,MAAM,EAAK9B,MAAMK,YAAW,OAAgB,EAAK,eAAc,WAAK0B,UAAU1D,MAAM,CAAC2D,KAAK,EAAKhC,MAAMK,OAAO4B,aAAaC,IAAI,EAAKlC,MAAMK,OAAO8B,UAAS,OAAgB,EAAK,eAAc,WAAK,EAAKnC,MAAMoC,QAAQ,EAAKpC,MAAMK,YAAW,OAAgB,EAAK,cAAa,WAAK,IAAM6B,EAAI,EAAKlC,MAAMK,OAAO6B,IAAUG,EAASC,SAASC,cAAc,YAAYF,EAASG,YAAYN,EAAIG,EAASI,MAAMC,SAAS,QAAQJ,SAASK,KAAKC,YAAYP,GAAU,IAAIA,EAASQ,SAASP,SAASQ,YAAY,QAAS,MAAM/C,I,QACp/PuC,SAASK,KAAKI,YAAYV,QAAc,OAAgB,EAAK,wBAAuB,WAAK,EAAKrC,MAAMgD,iBAAiB,EAAKhD,MAAMK,YAAW,OAAgB,EAAK,oBAAmB,WAAK,EAAKL,MAAMiD,aAAa,EAAKjD,MAAMK,YAAW,OAAgB,EAAK,iCAAgC,WAAK,EAAKL,MAAMkD,0BAA0B,EAAKlD,MAAMK,YAAW,OAAgB,EAAK,sBAAqB,WAAK,EAAKL,MAAMmD,eAAe,EAAKnD,MAAMK,YAAW,OAAgB,EAAK,UAAS,SAAA+C,GAAI,EAAK/G,KAAK+G,K,EAaytH,OAdtH,OAC7lH,YAAAC,kBAAA,sBAAoBf,SAASgB,iBAAiB,SAAQ,SAAAvD,GAAO,EAAK1D,OAAO,EAAKA,KAAKkH,SAASxD,EAAEyD,SAAQ,EAAK5C,SAAS,CAACf,sBAAqB,EAAMC,sBAAqB,QAAY,YAAA2D,OAAA,WAAc,MAAuDzH,KAAKgE,MAA3DK,EAAM,SAACqD,EAAI,OAACzD,EAAE,KAAC0D,EAAO,UAACC,EAAO,UAAC7C,EAAY,eAACF,EAAQ,WAAmBgD,EAAWxD,EAAOyD,MAAM,CAAC,UAAU,SAAS7D,EAAS8D,EAASC,OAAO3D,EAAOyD,MAAM,CAAC,UAAU,UAAgBG,EAAa,CAAC,SAAS,YAAYC,SAAS7D,EAAO8D,YAAkBC,EAAmB/D,EAAOgE,MAAYvD,GAAa,QAAkBT,EAAOU,GAAoBuD,EAAc,CAAC,KAAKnH,EAASgC,aAAa,KAAKhC,EAASiC,cAAc,KAAKjC,EAASkC,iBAAiB,KAAKlC,EAASmC,kBAAkB,KAAKnC,EAASoC,YAAY,KAAKpC,EAASqC,cAAc,GAAGrC,EAASY,WAAiBwG,EAAab,EAAKc,cAAcF,EAAcxD,GAAc,KAAK3D,EAASY,WAAiB0G,EAAK,GAAMR,IAAcQ,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAASwB,MAAM+F,OAAO1I,KAAK2I,WAAWC,KAAK,EAAQ,OAAqC/D,EAASgE,QAAQJ,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAASqB,OAAOkG,OAAO1I,KAAK8I,YAAYF,KAAK,EAAQ,QAAwC3E,IAAOY,EAASkE,WAAWN,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcnE,EAAO2E,IAAI,cAAc7H,EAAS0B,WAAW1B,EAASyB,UAAU8F,OAAO1I,KAAKiJ,oBAAoBL,KAAK,EAAQvE,EAAO2E,IAAI,cAAc,IAAuC,OAAuCP,EAAKtI,KAAK,MAAS0H,GAAeI,GAAcQ,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcnE,EAAO6E,OAAO/H,EAASoB,MAAMpB,EAASmB,KAAKoG,OAAO1I,KAAKmJ,eAAeP,KAAK,EAAQR,EAAmB,IAAqC,OAAiCK,EAAKtI,KAAK,OAAmC,YAApBkE,EAAO8D,aAAwBM,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcnE,EAAO2E,IAAI,aAAa7H,EAASU,sBAAsBV,EAASS,gBAAgB8G,OAAO1I,KAAKoJ,kBAAkBR,KAAK,EAAQ,MAAoCH,EAAKtI,KAAK,OAAOsI,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcJ,EAAmBjH,EAASe,mBAAmBf,EAASc,kBAAkByG,OAAO1I,KAAKqJ,4BAA4BT,KAAK,EAAQR,EAAmB,IAA+B,OAAsCK,EAAKtI,KAAK,MAAMsI,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAASC,QAAQsH,OAAO1I,KAAKsJ,kBAAkBV,KAAK,EAAQ,IAAiCW,aAAY,IAAU1E,EAAS2E,aAAcf,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAASG,MAAMoH,OAAO1I,KAAKyJ,gBAAgBb,KAAK,EAAQ,OAAwCH,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAASE,SAASqH,OAAO1I,KAAK0J,mBAAmBd,KAAK,EAAQ,KAAgCW,aAAY,MAAcd,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAASM,QAAQ,CAACkI,KAAK5B,IAAWW,OAAO1I,KAAK4J,mBAAmBhB,KAAK,EAAQ,OAaxsGH,EAAKtI,KAAK,MAAMsI,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAASa,KAAK,CAAC2H,KAAK5B,IAAWW,OAAO1I,KAAK6J,gBAAgBjB,KAAK,EAAQ,OAAsCH,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAASgB,MAAM,CAACwH,KAAK5B,IAAWW,OAAO1I,KAAK8J,iBAAiBlB,KAAK,EAAQ,MAAiCH,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAASiB,OAAO,CAACuH,KAAK5B,IAAWW,OAAO1I,KAAK+J,aAAanB,KAAK,EAAQ,QAAsCjB,IAASc,EAAKtI,KAAK,MAASyH,IAASa,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAASsB,cAAc,CAACkH,KAAK5B,IAAWiC,KAAK,0BAA0BC,OAAO5F,EAAOyD,MAAM,CAAC,UAAU,OAAO,KAAKc,KAAK,EAAQ,OAAmCH,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAASuB,cAAcsH,KAAK,6BAA6BC,OAAO5F,EAAO6F,GAAG,KAAKtB,KAAK,EAAQ,QAAqCH,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,eAAwC,IAA1BnE,EAAO2E,IAAI,aAAqB7H,EAAS8B,oBAAoB9B,EAAS+B,wBAAwBwF,OAAO1I,KAAKmK,8BAA8BvB,KAAK,EAAQ,OAAgDf,IAAYY,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAAS2B,eAAe,CAAC6G,KAAK5B,IAAWW,OAAO1I,KAAKoK,qBAAqBxB,KAAK,EAAQ,OAAsCH,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAAS4B,WAAW,CAAC4G,KAAK5B,IAAWW,OAAO1I,KAAKqK,iBAAiBzB,KAAK,EAAQ,KAAsCW,aAAY,IAAOd,EAAKtI,KAAK,CAAC6F,KAAK0B,EAAKc,cAAcrH,EAAS6B,cAAc0F,OAAO1I,KAAKsK,mBAAmB1B,KAAK,EAAQ,IAAiCW,aAAY,OAAU,IAAMgB,EAAS,UAAUxE,WAAsC,WAA3B1B,EAAO2E,IAAI,cAA6BwB,EAAW,EAAQ,IAAgE,WAA3BnG,EAAO2E,IAAI,cAA0BwB,EAAW,EAAQ,KAAoE,YAA3BnG,EAAO2E,IAAI,gBAA2BwB,EAAW,EAAQ,MAAiC,IAAMC,EAA2C,WAA3BpG,EAAO2E,IAAI,eAAqD,YAA3B3E,EAAO2E,IAAI,cAAgC0B,EAAW,CAAC,CAAC1E,KAAK0B,EAAKc,cAAcnE,EAAOsG,UAAUxJ,EAASU,sBAAsBV,EAASQ,QAAQ+G,OAAO1I,KAAKoJ,kBAAkBR,KAAK,EAAQ,KAAmC,CAAC5C,KAAK0B,EAAKc,cAAcrH,EAASwC,WAAW+E,OAAO1I,KAAK4K,iBAAiBhC,KAAK,EAAQ,OAAyCiC,GAA0B,OAAK,KAAW,CAACC,SAASL,EAAgBM,UAAU,IAAW,CAAC,qCAAqC1G,EAAOsG,UAAU,0CAA0CtG,EAAOsG,YAAYK,MAAMP,EAAgB/C,EAAKc,cAAcrH,EAASW,eAAe4F,EAAKc,cAAcrH,EAASQ,QAAQsJ,IAAIT,EAAWU,QAAQlL,KAAKoJ,kBAAkBpD,KAAK0B,EAAKc,cAAcrH,EAASQ,UAAU,OAAmB,OAAK,KAAO,CAACwJ,eAAe,gBAAW,GAAoB,OAAK,KAAW,CAACH,MAAMtD,EAAKc,cAAcrH,EAASO,OAAOuJ,IAAI,EAAQ,KAA0CF,UAAU,oCAAoCG,QAAQlL,KAAKoL,iBAAiBpF,KAAK0B,EAAKc,cAAcrH,EAASO,SAASmD,EAASwG,YAAYpH,GAAgB,OAAK,IAAsB,CAACqH,MAAMZ,EAAWI,UAAU7C,EAAasD,aAAavL,KAAKoJ,wBAAmB,EAAOyB,GAAcA,EAAahG,EAASF,aAAyB,OAAK,IAAmB,CAAC6G,SAASnH,EAAO6F,SAAI,GAAoB,OAAK,KAAW,CAACa,UAAU,IAAW,CAAC,qCAAqCjG,EAAa,wCAAwC2G,QAAQ3G,KAAgBkG,MAAMzC,EAAa0C,IAAI,EAAQ,KAAiCS,cAAc,IAAW,CAAC,kBAAkBD,QAAQ3G,KAAgBkB,KAAKuC,MAA6B,OAAK,KAAW,CAACwC,UAAU,IAAW,CAAC,qCAAqCjG,EAAa,wCAAwC2G,QAAQ3G,KAAgBkG,MAAMzC,EAAa0C,IAAI,EAAQ,KAAiCS,cAAc,IAAW,CAAC,kBAAkBD,QAAQ3G,KAAgBkB,KAAKuC,EAAa2C,QAAQlL,KAAK2L,wBAAwBpB,IAAuB,OAAK,KAAW,CAACS,MAAMtD,EAAKc,cAAcrH,EAASkB,OAAO4I,IAAI,EAAQ,KAAkCF,UAAU,oCAAoCG,QAAQlL,KAAK4L,YAAY5F,KAAK0B,EAAKc,cAAcrH,EAASkB,UAAsB,OAAK,IAAsB,CAAC4I,IAAI,EAAQ,KAAgCK,MAAM7C,EAAKuC,MAAM,WAAW,EAd9I,CAAwB,kBAcuH,OAAgBa,EAAU,eAAe,CAAClE,SAAQ,IAAQ,IAAMmE,GAAiB,SAAW,EAAAC,EAAA,IAAWF,IAAY,GAAe,SAdxoB,SAAA7G,GAAQ,IAAMf,EAAGe,EAAMf,GAASqB,EAAQN,EAAMgH,SAAShD,IAAI/E,GAAUgI,EAASjH,EAAMiH,SAAS,MAAM,CAAChI,GAAE,EAAC0D,UAAQrC,GAAQA,EAAQ4G,MAAYtE,UAAQtC,GAAQA,EAAQ6G,MAAYtH,UAAS,QAAYoH,OAAsC,SAACG,EAASC,GAAY,IAAAhI,EAAQgI,EAAI,OAAC,MAAM,CAAClI,wBAAuB,SAACuE,GAAQ0D,GAAS,QAAU,eAAe,CAAC1D,OAAM,EAAC4D,MAAMjI,EAAO6B,WAc8Q,CAA2D4F,G,yECXn1IS,GAAU,I,OAAI,IAAYC,IAA2B,EAAM,SAASC,GAASC,GAAU,KAAMH,GAAUtM,QAAQyM,EAASC,gBAAgB,GAAGJ,GAAU9L,OAAV8L,GAAwBA,GAAUtM,OAAQ2M,oBAAoBH,IAAgBD,IAA2B,EAA6J,OAArJ,SAA0BK,GAAMN,GAAUpM,KAAK0M,GAAUL,KAA4BA,IAA2B,EAAKI,oBAAoBH,M,4BCH8vG,GAA3rG,SAAAJ,GAAW,IAAAhI,EAAQgI,EAAI,OAAOpI,GAAG,UAAe,SAAA6I,GAAsB,OAANA,EAAK,MAAoB/H,GAAc,WAAkB,aAAOqH,GAAS,UAAoBvH,GAAS,WAAoBS,EAASjB,EAAM,QAAC,IAAIiB,GAA0B,iBAAVA,EAAmB,OAAO,KAAK,IAAw+DX,EAAwCoI,EAA1gE5I,EAAwB,WAAKiI,GAAS,QAAU,kBAAkxF,OAAmB,OAAK,KAAO,CAACY,MAAM,QAAG,EAAOnI,EAASF,aAAj3BoI,GAAxCpI,GAAjjD,SAAY,UAAcN,EAAOyD,MAAM,CAAC,UAAU,qBAAqBzD,EAAO4I,iBAAiB5I,EAAO6I,WAAWnI,GAAcoI,WAA4+CC,QAAO,SAACC,EAAIC,GAAM,OAAAD,EAAIC,EAAItE,IAAI,WAAS,IAAY,GAAsB,OAAK,KAAO,CAACgE,MAAM,GAAIjC,UAAU,yBAAyBwC,WAAW,eAAU,GAAoB,OAAK,MAAM,CAACxC,UAAU,qBAAgB,EAAOpG,EAAY6I,KAAI,SAACzJ,EAAE/C,GAAK,OAAmB,OAAK,KAAO,CAACgM,MAAM,GAAIjC,UAAU,kBAAkBwC,WAAW,UAAUvM,GAAe,OAAK,KAAM,CAAC+J,UAAU,uCAAuC7F,MAAMnB,EAAEiF,IAAI,QAAQkC,QAAQrG,EAAS4I,oBAAxpBC,EAAosB3J,EAA1rB,WAASE,EAAxiD,SAAC8D,EAASyD,EAASkC,GAAYtB,GAAS,QAAU,YAAY,CAACrE,SAAQ,EAACyD,SAAQ,EAACkC,SAAQ,KAAi/CC,CAAqBrI,EAAQsI,KAAKvJ,EAAO6F,GAAGlC,OAAO0F,EAAS1E,IAAI,UAA/F7E,WAAirBzD,KAAyB,OAAK,KAAK,CAACmN,MAAM,QAAQC,KAAK,KAAK/C,UAAU,2BAAsB,GAAoB,OAAK,KAAgB,CAACgD,MAAMhK,EAAEiF,IAAI,aAAz1B,IAAA0E,OAAu3B,OAAK,KAAK,CAACG,MAAM,QAAQC,KAAK,KAAK/C,UAAU,4BAAuB,GAAoB,OAAK,KAAgB,CAACgD,MAAMhB,MAAiB,GAAziD1I,EAAO4I,kBAAqC,OAAK,KAAO,CAACD,MAAM,GAAIO,WAAW,eAAU,GAAoB,OAAK,KAAW,CAACxC,UAAU,IAAW,CAAC,mBAAkB,EAAK,kBAAkBlG,EAAS4I,qBAAqBxC,IAAI,EAAQ,KAAiCS,cAAc,kBAAkBsC,KAAK,eAAe9C,QAAQrG,EAAS4I,mBAArd,SAAA1J,GAAx8B,IAACgE,EAASyD,EAAk8BzH,EAAEK,iBAAqBH,GAAl+B8D,EAA0hCzC,EAAQsI,KAAzhCpC,EAA8hCnH,EAAO6F,GAAzhCkC,GAAS,QAAU,aAAa,CAACrE,SAAQ,EAACyD,SAAQ,MAA85BrH,UAAoezD,KAAyB,OAAK,KAAK,CAACmN,MAAM,QAAQC,KAAK,WAAM,GAAoB,OAAK,KAAgB,CAACC,MAAM1J,EAAO4I,qBAA4B,GAAjkC5I,EAAO4J,eAAkC,OAAK,KAAO,CAACjB,MAAM,GAAIO,WAAW,eAAU,GAAoB,OAAK,KAAW,CAACxC,UAAU,kCAAkCE,IAAI,EAAQ,IAAkC+C,KAAK,eAAe9C,QAA3W,SAAAnH,GAA7f,IAACgE,EAASyD,EAAufzH,EAAEK,iBAAqBH,GAAvhB8D,EAA4kBzC,EAAQsI,KAA3kBpC,EAAglBnH,EAAO6F,GAA3kBkC,GAAS,QAAU,UAAU,CAACrE,SAAQ,EAACyD,SAAQ,MAAsdrH,QAA2X,OAAK,KAAK,CAAC0J,MAAM,QAAQC,KAAK,WAAM,GAAoB,OAAK,KAAgB,CAACC,MAAM1J,EAAO4J,kBAAyB,K,2dCAn0B,eAAoD,gCAAuBrK,YAAS,K,OAAE,OAAgB,EAAK,QAAQ,CAACsK,OAAO,KAAKC,kBAAkBC,OAAM,OAAgB,EAAK,OAAO,OAAM,OAAgB,EAAK,mBAAkB,SAACC,EAAMC,GAAa,EAAKtK,MAAMuK,YAAYF,EAAMC,OAAc,OAAgB,EAAK,wBAAuB,WAAK,EAAKtK,MAAMwK,eAAe,EAAKxK,MAAMK,YAAW,OAAgB,EAAK,iCAAgC,WAAK,EAAKL,MAAMyK,0BAA0B,EAAKzK,MAAMK,YAAW,OAAgB,EAAK,UAAS,SAAA+C,GAAI,EAAK/G,KAAK+G,EAAE,EAAKsH,iBAAoBtH,GAAG,EAAKxC,SAAS,CAACuJ,kBAAkB/G,EAAEuH,kBAAkB,OAAgB,EAAK,mBAAkB,WAAW,IAAAtK,EAAQ,EAAKL,MAAK,OAAC,GAAIK,EAAwB,OAAOA,EAAO1C,QAA+B,iBAAhB0C,EAAO1C,OAAkB0C,EAAO1C,OAAO0C,K,EAayxF,OAbthH,QAAwwB,YAAAqK,eAAA,sBAAqBE,EAAkBhL,UAAU3D,OAAO,QAAkBS,IAAfkD,UAAU,IAAeA,UAAU,GAAY5D,KAAKgE,MAAM6K,eAAe7O,KAAKK,OAAM,IAAiB,WAAI,SAAKA,MAAM,EAAKuE,SAAS,CAACsJ,OAAOY,KAAKC,KAAK,EAAK1O,KAAK2O,cAAc,OAAQhP,KAAKgE,MAAMiL,gBAAgBL,GAAmB5O,KAAKgE,MAAMiL,mBAAoB,YAAAC,mBAAA,SAAmBC,EAAUC,GAAWpP,KAAK0O,eAAeU,EAAUlB,SAASlO,KAAKgF,MAAMkJ,SAa7sE,YAAAzG,OAAA,WAAS,IAAMpD,EAAOrE,KAAKqP,kBAAkB,IAAIhL,EAAO,OAAO,KAAW,IAAAiB,EAASjB,EAAM,QAAC,IAAIiB,GAA0B,iBAAVA,EAAmB,OAAO,KAAK,IAAMgK,EAAW,CAACC,UAAU,cAAoBC,EAASxP,KAAKgE,MAAK,QAAKqK,EAAM,KAASoB,EAAe,KAAQzP,KAAKgE,MAAM6K,gBAAeS,EAAWpB,OAAO,GAAGjE,OAAOjK,KAAKgF,MAAMkJ,OAAO,OAAO,IAAgjEwB,EAA1iE5B,EAAKzJ,EAAOsL,kBAAkB7B,KAAW8B,EAAgBvL,EAAOsL,kBAAkB3G,IAAI,GAAG,GAAG8E,EAAK,GAAG8B,EAAiB,GAAU,IAAP9B,GAAiC,UAAvB8B,EAAgBC,KAAe,CAAC,IAAIC,EAAmB,EAAMF,EAAgB,GAAG,EAAMG,mBAAgD,QAA5BD,EAAazL,EAAO2L,YAA6B,IAAfF,GAAuBA,EAAaG,KAAK,CAAO,MAAmBjQ,KAAKgF,MAAK,kBAAsMkJ,EAArL,WAAK,IAAMgC,EAAMC,OAAO,EAAMC,KAAKtI,MAAM,CAAC,WAAW,WAAiBoG,EAAOiC,OAAO,EAAMC,KAAKtI,MAAM,CAAC,WAAW,YAAY,OAAOqI,OAAO,IAAoBD,EAAMhC,GAAuBmC,GAAYhC,GAAmB,OAAK,MAAM,CAACtD,UAAU,8DAAyD,EAAoB,gBAAoB,MAAM,CAACuF,IAAItQ,KAAKuQ,OAAOxF,UAAU,oBAAoBtE,MAAM,CAACyH,OAAM,GAAEsC,wBAAwB,CAACC,OAAOpM,EAAO2L,KAAKC,cAAe5B,GAAmB,OAAK,WAAM,CAACqC,QAAQ,EAAMC,YAAYC,SAAS,EAAMA,SAAS3F,IAAI,EAAM/E,IAAI2K,IAAI,EAAMC,YAAYC,YAAY,EAAMX,KAAKtI,MAAM,CAAC,WAAW,WAAWoI,MAAM,IAAIhC,OAAO,IAAI8C,QAAO,EAAKzC,YAAYvO,KAAKiR,gBAAgBC,UAAU7M,EAAO6M,UAAUC,QAAQnR,KAAKgE,MAAMoN,UAAUC,mBAAmBrR,KAAKgE,MAAMsN,+BAAiC,GAAU,IAAPxD,GAAiC,UAAvB8B,EAAgBC,KAAe,CAAC,IAAM0B,EAAW3B,EAAgBvB,GAAmB,OAAK,WAAM,CAACpD,IAAIsG,EAAWrL,IAAI2K,IAAIU,EAAWT,YAAYU,SAASD,EAAWnB,KAAKtI,MAAM,CAAC,WAAW,WAAW,IAAI2J,OAAOF,EAAWZ,cAAcY,EAAWrL,IAAIqL,EAAWZ,YAAYrL,EAAQoM,cAAcC,gBAAgBJ,EAAWnB,KAAKtI,MAAM,CAAC,SAAS,eAAe8J,gBAAgBL,EAAWnB,KAAKtI,MAAM,CAAC,SAAS,eAAe+J,YAAYN,EAAWnB,KAAKtI,MAAM,CAAC,SAAS,WAAWoG,OAAO,WAAYG,GAAmB,OAAK,UAAa,CAACyD,YAAW,EAAKZ,UAAU7M,EAAO6M,UAAU7C,MAAMhK,EAAOsL,kBAAkBzB,OAAO,IAAI6D,YAAY/R,KAAKgE,MAAM+N,YAAYZ,QAAQnR,KAAKgE,MAAMoN,UAAUC,mBAAmBrR,KAAKgE,MAAMsN,+BAAiE,IAA7BjN,EAAO2N,aAAa/R,SAAaoE,EAAOqL,OAAOrL,EAAO2L,OAAM3B,GAAmB,OAAK,KAAK,CAAC0D,YAAY/R,KAAKgE,MAAM+N,YAAY/B,KAAK3L,EAAO2L,QAAymB,OAAplB3L,EAAOqL,QAA4DA,GAAP,IAA3CrL,EAAO4N,QAAQjJ,IAAI,iBAAgB,IAAkC,OAAK,MAAM,CAAC+B,UAAU,gCAA2B,GAAoB,OAAK,IAAI,QAAG,GAAoB,OAAK,IAAiB,CAACb,GAAG,2BAA2BgI,eAAe,4BAAoD,OAAK,IAAa,CAAC1G,SAASnH,EAAOqL,SAAiC,WAApBrL,EAAO8D,WAAuBsH,GAA4B,OAAK,IAAK,CAACxE,IAAI,EAAQ,OAA+D,YAApB5G,EAAO8D,aAAwBsH,GAA4B,OAAK,IAAK,CAACxE,IAAI,EAAQ,SAAsD,OAAK,MAAM,CAACxE,MAAM6I,QAAY,EAAoB,gBAAoB,MAAM,CAACgB,IAAItQ,KAAKuQ,OAAOxF,UAAU,IAAW,kBAAkB,CAACyE,QAAO,MAAiB,OAAK,MAAM,CAACzE,UAAU,aAAQ,GAAoB,OAAK,KAAiB,CAACb,GAAG5E,EAAQ4E,GAAGiI,UAAU9N,EAAO+N,WAAWC,WAAW,GAAGC,aAAY,GAAMhN,EAAQ4E,MAAkB,OAAK,IAAoB,CAAC7F,OAAOA,KAAsB,OAAK,IAAc,CAACA,OAAOA,EAAOkO,UAAUlO,EAAOmO,OAAOC,iBAAiBzS,KAAK0S,uBAAuBrE,EAAMqB,GAAmB,OAAK,KAAO,CAACvE,eAAe,UAAUoC,WAAW,SAASxC,UAAU,aAAQ,GAAoB,OAAK,GAAqB,CAAC1G,OAAOA,KAAsB,OAAK,MAAM,CAAC0G,UAAU,mCAA8B,EAAO0E,GAA4B,OAAK,OAAO,QAAG,GAAoB,OAAK,IAAI,CAACzF,KAAK3F,EAAO6B,IAAIsB,OAAO,SAASmL,IAAI,WAAW5H,UAAU,wBAAmB,GAAoB,OAAK,KAAK,CAAC6H,IAAI,OAAO/E,MAAM,QAAQC,KAAK,WAAM,GAAoB,OAAK,KAAc,CAACC,MAAM,IAAI8E,KAAKxO,EAAO+N,YAAYU,QAAO,EAAMC,KAAK,UAAUC,MAAM,QAAQC,IAAI,UAAUC,KAAK,UAAUC,OAAO,cAAc9O,EAAO+O,WAAwB,gBAAoB,WAAe,KAAK,OAAmB,OAAK,MAAM,CAACrI,UAAU,yBAAyBG,QAAQlL,KAAKqT,8BAA8BrF,KAAK,SAASsF,SAAS,QAAG,GAAoB,OAAK,KAAK,CAACV,IAAI,OAAO/E,MAAM,QAAQC,KAAK,WAAM,GAAoB,OAAK,IAAiB,CAAC5D,GAAG,gBAAgBgI,eAAe,gBAAgBqB,OAAO,CAACC,KAAKxT,KAAKgE,MAAM0D,KAAK+L,WAAW,IAAIZ,KAAKxO,EAAO+O,WAAW,CAACN,QAAO,EAAME,MAAM,QAAQC,IAAI,UAAUC,KAAK,UAAUC,OAAO,wBAAwB,EAbnjH,CAA6B,MAauhH,IAAe,EAAApH,EAAA,IAAW2H,ICb15G,GAAh5B,WAAK,IAAMC,GAAU,UAAe,SAAA3O,GAAO,OAAAA,EAAMiH,SAASjB,SAAO,OAAmB,OAAK,KAAK,CAACD,UAAU,mCAAmC6I,QAAQ,gBAAW,GAAoB,OAAK,KAAM,QAAG,GAAoB,OAAK,KAAU,CAAC5I,OAAmB,OAAK,IAAiB,CAACd,GAAG,qBAAqBgI,eAAe,iCAA6C,OAAK,KAAK,QAAG,GAAoB,OAAK,IAAiB,CAAChI,GAAG,uBAAuBgI,eAAe,sDAAsDqB,OAAO,CAACI,UAAS,QAAmB,OAAK,KAAM,CAAC3G,MAAM,EAAEjC,UAAU,yBAAoB,GAAoB,OAAK,KAAO,CAAC8C,MAAM,YAAYgG,GAAG,SAAS1R,OAAM,QAAM,GAAoB,OAAK,IAAiB,CAAC+H,GAAG,qBAAqBgI,eAAe,aAAyB,OAAK,KAAO,CAAC2B,GAAG,UAAU1R,OAAM,QAAM,GAAoB,OAAK,IAAiB,CAAC+H,GAAG,sBAAsBgI,eAAe,gB,UCCplC,GAD6R,SAAAlO,GAAc,IAAwT8P,EAA4DC,EAApX7J,EAAoBlG,EAAK,GAAtBgQ,EAAiBhQ,EAAK,gBAAOiQ,GAAU,UAAe,SAAAjP,GAAO,OAAAA,EAAMkP,SAASpM,MAAM,CAAC,aAAaoC,OAAYiK,GAAW,UAAe,SAAAnP,GAAO,OAAAA,EAAMkP,SAASpM,MAAM,CAAC,UAAUoC,IAAI,mBAAuB4D,QAAYsG,GAAS,UAAe,SAAApP,GAAO,OAAAyG,QAAQzG,EAAMqP,SAASrL,IAAIkB,OAAuX,OAAmB,OAAK,MAAM,CAACa,UAAU,uBAAkB,GAA/UgJ,EAAkBI,EAAW,GAAzFL,EAAeG,GAAWA,IAAYD,IAAuFD,GAAiE,OAAK,MAAM,CAAChJ,UAAU,IAAW,oBAAoB,CAAC,yBAAyB+I,EAAe,4BAA4BC,MAAlJ,MAA8PK,EACxmC,gBAAoB,KAAgBpQ,IAAoB,OAAK,IAAkB,CAACsQ,QAAO,M,0yDCD8uE,IAAS,QAAe,CAACtJ,MAAM,CAAC,GAAK,eAAe,eAAiB,sBAAsBuJ,YAAY,CAAC,GAAK,sBAAsB,eAAiB,kBAAkBC,cAAc,CAAC,GAAK,+BAA+B,eAAiB,UAAUC,cAAc,CAAC,GAAK,+BAA+B,eAAiB,eAAeC,cAAc,CAAC,GAAK,+BAA+B,eAAiB,8CAA8CC,eAAe,CAAC,GAAK,gCAAgC,eAAiB,oBAAoBC,eAAe,CAAC,GAAK,gCAAgC,eAAiB,oBAAoBC,eAAe,CAAC,GAAK,gCAAgC,eAAiB,qJAAqJC,aAAa,CAAC,GAAK,8BAA8B,eAAiB,SAASC,UAAU,CAAC,GAAK,uBAAuB,eAAiB,qBAAqBC,QAAQ,CAAC,GAAK,uBAAuB,eAAiB,qBAAqBC,eAAe,CAAC,GAAK,yBAAyB,eAAiB,8BAA8BC,aAAa,CAAC,GAAK,8BAA8B,eAAiB,SAASC,aAAa,CAAC,GAAK,8BAA8B,eAAiB,0GAA0GC,eAAe,CAAC,GAAK,uCAAuC,eAAiB,oBAA0lD,eAA4C,iBAAkBC,EAAlB,O,OAAwB,eAASzR,YAAS,KAAEyR,EAAM,GAAK,OAAgB,EAAK,QAAQ,CAACC,YAAW,EAAMlE,WAAU,QAAuB,EAAKpN,MAAMK,OAAO,EAAKL,MAAMuR,cAAcC,oBAAe9U,EAAUoD,sBAAqB,EAAMsQ,SAAS3I,QAAQ,EAAKzH,MAAMK,QAAQoR,WAAM/U,EAAUH,UAAKG,KAAY,OAAgB,EAAK,OAAO,OAAM,OAAgB,EAAK,SAAS,OAAM,OAAgB,EAAK,qBAAoB,IAAO,OAAgB,EAAK,aAAY,2F,uBAA+E,OAAhE,EAAkBV,KAAKgE,MAAtBoI,EAAQ,WAACsJ,EAAM,SAAmBlK,EAAUkK,EAAM,SAAa,GAAMtJ,GAAS,QAAuBZ,K,cAA5CjL,EAAM,SAAgD,KAACP,KAAK4E,SAAS,CAACrE,KAAI,I,eAAM,OAAgB,EAAK,+BAA8B,WAAK,EAAKqE,SAAS,CAACwM,WAAW,EAAKpM,MAAMoM,gBAAe,OAAgB,EAAK,yBAAwB,SAAC/M,EAAOa,GAAS,EAAKlB,MAAMoI,UAAS,QAAiB/H,EAAOa,QAAW,OAAgB,EAAK,wBAAuB,SAAAb,GAAYA,EAAO6I,WAAY,EAAKlJ,MAAMoI,UAAS,QAAY/H,IAAe,EAAKL,MAAMoI,UAAS,QAAU/H,QAAa,OAAgB,EAAK,aAAY,SAAAA,GAAYA,EAAO6E,OAAQ,EAAKlF,MAAMoI,UAAS,QAAM/H,IAAe,EAAKL,MAAMoI,UAAS,QAAI/H,QAAa,OAAgB,EAAK,kBAAiB,SAAAA,GAAYA,EAAOsR,WAAY,EAAK3R,MAAMoI,UAAS,QAAW/H,IAAe,EAAKL,MAAMoI,UAAS,QAAS/H,QAAa,OAAgB,EAAK,oBAAmB,SAAAA,GAAc,MAAqC,EAAKL,MAAzC4R,EAAoB,uBAACxJ,EAAQ,WAAC1E,EAAI,OAAsC0E,EAAtBwJ,GAA+B,QAAU,UAAU,CAACC,QAAQnO,EAAKc,cAAc,GAAS2M,cAAcW,QAAQpO,EAAKc,cAAc,GAAS0M,cAAca,UAAU,WAAI,OAAA3J,GAAS,QAAa/H,EAAO,EAAKL,MAAMQ,cAA4B,QAAaH,EAAO,EAAKL,MAAMQ,cAAc,OAAgB,EAAK,qBAAoB,SAAAH,GAAS,EAAKL,MAAMoI,UAAS,QAAO/H,QAAY,OAAgB,EAAK,qBAAoB,SAACA,EAAON,GAAK,EAAKC,MAAMoI,UAAS,SAAC4J,EAAEC,GAAY,IAAMC,GAAW,QAAYD,KAAYjN,IAAI,cAAiB3E,EAAOsG,UAAW,EAAK3G,MAAMoI,UAAS,QAAS/H,IAAkBN,GAAGA,EAAEoS,WAAWD,EAAY,EAAKE,kBAAkB/R,GAAc,EAAKL,MAAMoI,UAAS,QAAU,QAAQ,CAAC/H,OAAM,EAACC,SAAS,EAAK8R,4BAA6B,OAAgB,EAAK,oBAAmB,SAAA/R,GAAc,MAAqC,EAAKL,MAAzC4R,EAAoB,uBAACxJ,EAAQ,WAAC1E,EAAI,OAAsC0E,EAAtBwJ,GAA+B,QAAU,UAAU,CAACC,QAAQnO,EAAKc,cAAc,GAAS2M,cAAcW,QAAQpO,EAAKc,cAAc,GAAS0M,cAAca,UAAU,WAAI,OAAA3J,GAAS,QAAa/H,EAAO,EAAKL,MAAMQ,cAA4B,QAAaH,EAAO,EAAKL,MAAMQ,cAAc,OAAgB,EAAK,qBAAoB,SAASH,EAAOG,GAAS,IAAI6R,EAAYzS,UAAU3D,OAAO,QAAkBS,IAAfkD,UAAU,IAAeA,UAAU,GAAc,EAAgByR,EAAMrR,MAArBoI,EAAQ,WAAC1E,EAAI,OAAc2N,EAAMrR,MAAMoI,UAAS,SAAC4J,EAAEC,GAAY,IAAMK,GAAY,QAAYL,KAAYjN,IAAI,eAA4FoD,EAAzEkK,GAAkF,QAAU,UAAU,CAAC1N,KAAiB,EAAZyN,EAAoB,IAAwC,IAAiCE,QAAQ7O,EAAKc,cAAc6N,EAAY,GAASzB,eAAe,GAASH,eAAeoB,QAAQnO,EAAKc,cAAc6N,EAAY,GAASxB,eAAe,GAASH,eAAeoB,QAAQpO,EAAKc,cAAc6N,EAAY,GAAS1B,eAAe,GAASH,eAAeuB,UAAU,WAAI,OAAA3J,GAAS,QAAa/H,EAAO6F,GAAG1F,EAAQ6R,QAA9e,QAAahS,EAAO6F,GAAG1F,EAAQ6R,WAAue,OAAgB,EAAK,mBAAkB,SAAAhS,IAAoC+H,EAAX,EAAKpI,MAAK,WAAU,QAAWK,EAAO2E,IAAI,YAAW,OAAgB,EAAK,qBAAoB,SAAC1D,EAAQkR,GAAU,EAAKxS,MAAMoI,UAAS,QAAc9G,EAAQkR,QAAY,OAAgB,EAAK,mBAAkB,SAAClR,EAAQkR,GAAU,EAAKxS,MAAMoI,UAAS,QAAW9G,EAAQ4E,GAAGsM,QAAY,OAAgB,EAAK,sBAAqB,SAAClR,EAAQkR,GAAU,EAAKxS,MAAMoI,UAAS,QAAe9G,EAAQkR,QAAY,OAAgB,EAAK,mBAAkB,SAACnI,EAAMoI,GAAS,EAAKzS,MAAMoI,UAAS,QAAU,QAAQ,CAACiC,MAAK,EAACoI,MAAK,SAAO,OAAgB,EAAK,mBAAkB,SAACpI,EAAMqI,GAAQ,EAAK1S,MAAMoI,UAAS,QAAU,QAAQ,CAACiC,MAAK,EAACqI,KAAI,SAAO,OAAgB,EAAK,yBAAwB,SAAA3S,GAAS,MAAiC,EAAKC,MAArCK,EAAM,SAAC0N,EAAW,cAACxD,EAAW,cAAmBqB,EAAgBvL,EAAOsL,kBAAkB3G,IAAI,GAAGjF,MAAAA,GAA4BA,EAAEK,iBAAoBC,EAAOsL,kBAAkB7B,KAAK,GAAG8B,IAA2C,UAAvBA,EAAgBC,KAAgBtB,EAAYqB,EAAgB,GAASmC,EAAY1N,EAAOsL,kBAAkB,QAAQ,OAAgB,EAAK,mBAAkB,SAAArK,GAAU,EAAKtB,MAAMoI,UAAS,QAAc9G,QAAa,OAAgB,EAAK,+BAA8B,SAAAjB,GAAYA,EAAOgE,MAAO,EAAKrE,MAAMoI,UAAS,QAAa/H,EAAO6F,KAAW,EAAKlG,MAAMoI,UAAS,QAAW/H,EAAO6F,SAAS,OAAgB,EAAK,sBAAqB,SAAA7F,GAAYA,EAAOmO,OAAQ,EAAKxO,MAAMoI,UAAS,QAAa/H,EAAO6F,KAAW,EAAKlG,MAAMoI,UAAS,QAAW/H,EAAO6F,SAAS,OAAgB,EAAK,mBAAkB,WAAU,MAAqC,EAAKlG,MAAzCK,EAAM,SAACsS,EAAY,eAACC,EAAc,iBAAmBC,EAAU,CAACxS,EAAO6F,IAAID,OAAO0M,EAAaG,UAAUF,EAAeE,WAAczS,EAAOmO,OAAQ,EAAKxO,MAAMoI,UAAS,QAAayK,IAAkB,EAAK7S,MAAMoI,UAAS,QAAWyK,QAAgB,OAAgB,EAAK,oBAAmB,SAAAxS,GAAc,MAAgB,EAAKL,MAApBoI,EAAQ,WAAC1E,EAAI,OAAmBpC,EAASjB,EAAM,QAAKiB,GAA0B,iBAAVA,GAA0B8G,GAAS,QAAU,UAAU,CAACxD,KAAK,EAAQ,IAA+B2N,SAAqB,OAAK,IAAiB,CAACrM,GAAG,8BAA8BgI,eAAe,gBAAgBqB,OAAO,CAAC5J,KAAKrE,EAAQsI,QAAQiI,SAAqB,OAAK,IAAiB,CAAC3L,GAAG,8BAA8BgI,eAAe,yCAAyCqB,OAAO,CAAC5J,MAAkB,OAAK,SAAS,QAAG,EAAO,IAAIrE,EAAQsI,SAASkI,QAAQpO,EAAKc,cAAc,GAASsM,cAAciB,UAAU,WAAI,OAAA3J,GAAS,QAAa9G,EAAQ4E,MAAK6M,UAAUrP,EAAKc,cAAc,GAAS4M,gBAAgB4B,YAAY,WAAK5K,GAAS,QAAa9G,EAAQ4E,KAAKkC,GAAS,QAAW9G,EAAQjB,YAAiB,OAAgB,EAAK,gBAAe,SAAAA,GAAS,EAAKL,MAAMoI,UAAS,QAAW/H,EAAOiB,QAAQjB,QAAY,OAAgB,EAAK,eAAc,SAAAA,GAAS,EAAKL,MAAMoI,UAAS,QAAU,QAAQ,CAAClG,IAAI7B,EAAO6B,WAAU,OAAgB,EAAK,wBAAuB,SAAA7B,GAAc,MAAgB,EAAKL,MAApBoI,EAAQ,WAAC1E,EAAI,OAAa0E,GAAS,QAAoB1E,EAAKrD,EAAOyD,MAAM,CAAC,UAAU,aAAY,OAAgB,EAAK,oBAAmB,SAAAzD,GAAc,MAAgB,EAAKL,MAApBoI,EAAQ,WAAC1E,EAAI,OAAa0E,GAAS,QAAgB1E,EAAKrD,EAAOyD,MAAM,CAAC,UAAU,aAAY,OAAgB,EAAK,iCAAgC,SAAAzD,GAAc,MAAgB,EAAKL,MAApBoI,EAAQ,WAAC1E,EAAI,OAAa0E,GAAS,QAA6B1E,EAAKrD,EAAO6F,GAAG7F,EAAO6M,gBAAe,OAAgB,EAAK,sBAAqB,SAAA7M,GAAc,MAAgB,EAAKL,MAApBoI,EAAQ,WAAC1E,EAAI,OAAa0E,GAAS,QAAkB1E,EAAKrD,EAAO6F,SAAQ,OAAgB,EAAK,sBAAqB,WAAK,EAAK+M,aAAa,EAAKjT,MAAMK,OAAO6F,QAAO,OAAgB,EAAK,wBAAuB,WAAK,EAAKgN,eAAe,EAAKlT,MAAMK,OAAO6F,QAAO,OAAgB,EAAK,qBAAoB,SAAAnG,GAAIA,MAAAA,GAA4BA,EAAEK,iBAAiB,EAAKgH,iBAAiB,EAAKpH,MAAMK,YAAW,OAAgB,EAAK,yBAAwB,WAAK,EAAK8S,qBAAqB,EAAKnT,MAAMK,YAAW,OAAgB,EAAK,qBAAoB,WAAK,EAAK+E,kBAAkB,EAAKpF,MAAMK,YAAW,OAAgB,EAAK,uBAAsB,SAAAN,GAAIA,MAAAA,GAA4BA,EAAEK,iBAAuB,IAAAkB,EAAS,EAAKtB,MAAMK,OAAM,QAAKiB,GAA0B,iBAAVA,GAA0B,EAAKsE,mBAAmBtE,EAAQ,EAAKtB,MAAMQ,aAAY,OAAgB,EAAK,2BAA0B,WAAK,EAAKR,MAAMQ,QAAQrE,KAAK,KAAK8J,OAAO,EAAKjG,MAAMK,OAAOyD,MAAM,CAAC,UAAU,eAAc,OAAgB,EAAK,4BAA2B,WAAK,EAAKsP,mBAAmB,EAAKpT,MAAMK,YAAW,OAAgB,EAAK,+BAA8B,WAAK,EAAKgT,kCAAiC,OAAgB,EAAK,qBAAoB,WAAK,EAAKC,2BAA0B,OAAgB,EAAK,gBAAe,SAAApN,GAAU,MAAqC,EAAKlG,MAAzCK,EAAM,SAACsS,EAAY,eAACC,EAAc,iBAAa,GAAG1M,IAAK7F,EAAO6F,GAAI,EAAKqN,aAAaZ,EAAa7I,KAAK,GAAE,OAAW,CAAC,IAAI2I,GAAM,UAAcE,GAAca,QAAQtN,IAAgB,IAATuM,GAAYA,GAAM,UAAcG,GAAgBY,QAAQtN,GAAI,EAAKqN,aAAaZ,EAAa7I,KAAK2I,GAAM,IAAY,EAAKc,aAAad,EAAM,GAAE,QAAW,OAAgB,EAAK,kBAAiB,SAAAvM,GAAU,MAAqC,EAAKlG,MAAzCK,EAAM,SAACsS,EAAY,eAACC,EAAc,iBAAa,GAAG1M,IAAK7F,EAAO6F,GAAI,EAAKqN,aAAaZ,EAAa7I,KAAK,GAAE,OAAY,CAAC,IAAI2I,GAAM,UAAcE,GAAca,QAAQtN,IAAgB,IAATuM,GAAYA,GAAM,UAAcG,GAAgBY,QAAQtN,GAAI,EAAKqN,aAAaZ,EAAa7I,KAAK2I,EAAM,GAAE,IAAa,EAAKc,aAAad,EAAM,GAAE,QAAY,OAAgB,EAAK,6BAA4B,SAAA1S,GAAe,UAARA,EAAE0T,KAAe,EAAKH,uBAAwBvT,EAAEK,qBAAoB,OAAgB,EAAK,8BAA6B,WAAK,EAAKQ,SAAS,CAACd,sBAAqB,QAAW,OAAgB,EAAK,wBAAuB,WAAK,GAAI,EAAKO,OAAT,CAAuB,EAAKO,SAAS,CAACd,sBAAqB,IAAO,IAAM4T,EAAW,EAAKrT,OAAOsT,cAAc,sDAAsDD,MAAAA,GAA8CA,EAAWE,aAAW,OAAgB,EAAK,UAAS,SAAAxQ,GAAI,EAAK/G,KAAK+G,MAAK,OAAgB,EAAK,gBAAe,SAAAA,GAAI,EAAK/C,OAAO+C,MAAK,OAAgB,EAAK,sBAAqB,WAAK,EAAKxC,SAAS,CAAC0Q,YAAW,gBAAoB,OAAgB,EAAK,iBAAgB,WAAK,OAAO,EAAKuC,gBAAe,OAAgB,EAAK,kBAAiB,WAAW,IAAAtX,EAAM,EAAKyE,MAAK,KAAIzE,GAAM,EAAKyD,MAAMoI,UAAS,QAAU7L,IAAOuX,MAAK,SAAAzL,GAAW,IAAA9L,EAAM8L,EAAI,KAAC,EAAKzH,SAAS,CAACrE,KAAI,OAAMwX,OAAM,mBAAY,OAAgB,EAAK,iCAAgC,SAAA1T,IAAoC+H,EAAX,EAAKpI,MAAK,WAAU,QAAU,kBAAkB,CAACwH,SAASnH,EAAO6F,S,EAG5oZ,OAHunG,QAA+hT,YAAA7C,kBAAA,sBAAoBrH,KAAK6X,YAAYC,MAAK,WAAK,EAAKlT,SAAS,CAACwP,UAAS,OAAU2D,OAAM,SAAAtC,GAAQ,EAAK7Q,SAAS,CAAC6Q,MAAK,EAACrB,UAAS,QAAU,QAAyBpU,KAAKgY,qBAAqB,YAAAT,aAAA,SAAad,EAAMwB,GAAW,IAAMC,EAAUlY,KAAKK,KAAK,GAAI6X,EAAJ,CAAqB,IAAMC,EAAQD,EAAUE,iBAAiB,cAAc3B,GAAU0B,IAAYF,GAAWC,EAAUG,UAAUF,EAAQG,UAAWH,EAAQI,gBAAe,IAAgBN,GAAWC,EAAUG,UAAUH,EAAUM,aAAaL,EAAQG,UAAUH,EAAQM,cAAcN,EAAQI,gBAAe,GAAQJ,EAAQP,WAAU,YAAAc,gBAAA,SAAgBxO,GAAI,OAAmB,OAAK,MAAM,CAACa,UAAU,aAAab,GAAgB,OAAK,IAAI,QAAG,GAAoB,OAAK,IAAiB,CAACA,GAAG,qBAAqBgI,eAAe,yCAAyC,YAAAyG,aAAA,SAAazO,GAAU,IAAA7F,EAAQrE,KAAKgE,MAAK,OAAC,OAAmB,OAAK,GAAa,CAACkG,GAAGA,EAAG8J,gBAAgB3P,EAAO6F,GACxyf0O,SAAS5Y,KAAKiX,aAAa4B,WAAW7Y,KAAKkX,gBAAgBhN,IAAK,YAAA4O,oBAAA,SAAoB5O,GAAU,IAAA7F,EAAQrE,KAAKgE,MAAK,OAAO+U,EAAe7O,EAAG8O,QAAQ,aAAa,IAAI,OAAmB,OAAK,IAAc,CAACjO,UAAU,iBAAiBgO,eAAeA,EAAe/E,gBAAgB3P,EAAO6F,GAAG0O,SAAS5Y,KAAKiX,aAAa4B,WAAW7Y,KAAKkX,eAAe+B,YAAY,UAAU/O,IAAK,YAAAgP,eAAA,SAAeC,GAAf,WAAqB,OAAOA,EAAK3L,KAAI,SAAAtD,GAAK,OAAGA,EAAGkP,SAAS,cAAsB,EAAKV,gBAAgBxO,GAAaA,EAAGmP,WAAW,aAAqB,EAAKP,oBAAoB5O,GAAiB,EAAKyO,aAAazO,OAAS,YAAAgF,mBAAA,SAAmBC,EAAUC,GAAgB,MAA6BpP,KAAKgE,MAAjC0R,EAAM,SAACrR,EAAM,SAACkR,EAAY,eAAmBoB,EAAcxH,EAAS,aAAkP,GAA9OuG,EAAOlK,WAAW2D,EAAUuG,OAAOlK,WAAUxL,KAAKsZ,mBAAkB,EAAMtZ,KAAK6X,aAAgBxT,GAAQA,EAAO6F,KAAKkF,EAAUoG,gBAAgBxV,KAAK4E,SAAS,CAACwM,WAAU,QAAuB/M,EAAOkR,GAAcC,eAAenR,EAAO6F,MAASlK,KAAKsZ,mBAA8BnK,EAAU9K,QAAQsS,GAAcA,EAAa7I,KAAK,GAAG9N,KAAKK,KAAK,CAAC,IAAM,EAAQL,KAAKK,KAAKsX,cAAc,oBAAoB4B,OAAOC,uBAAsB,WAAK,SAAwC,EAAQjB,gBAAe,MAASvY,KAAKsZ,mBAAkB,IAAO,YAAAG,qBAAA,YAAuB,QAAyBzZ,KAAKgY,qBAAqB,YAAAvQ,OAAA,WAAc,MAA6CzH,KAAKgE,MAAjDC,EAAE,KAACI,EAAM,SAACsS,EAAY,eAACC,EAAc,iBAAClP,EAAI,OAAmBgS,EAAa/C,GAAcA,EAAa7I,KAAK,EAAQ6L,EAAe/C,GAAgBA,EAAe9I,KAAK,EAAE,IAAIzJ,GAAQrE,KAAKgF,MAAMoP,SAC9+C,OAAmB,OAAK,IAAiB,IAAU,IAAI/P,EAAQ,OAAmB,OAAK,IAAkB,IAAK,IAAMuV,EAAS,CAACC,OAAO7Z,KAAK8Z,mBAAmBC,SAAS/Z,KAAKga,qBAAqBtY,MAAM1B,KAAKia,kBAAkBlY,UAAU/B,KAAKka,sBAAsBC,MAAMna,KAAKoa,kBAAkB3Y,QAAQzB,KAAKqa,oBAAoBC,YAAYta,KAAKua,wBAAwBC,aAAaxa,KAAKya,yBAAyBC,gBAAgB1a,KAAK2a,4BAA4BC,UAAU5a,KAAK6a,sBAAsBC,MAAM9a,KAAK+a,mBAAyBhT,EAASC,OAAO3D,EAAOyD,MAAM,CAAC,UAAU,UAAgBkT,EAAiC,WAApB3W,EAAO8D,WAAsB,GAASoM,YAAY,GAASvJ,MAAYiQ,GAA2B,OAAK,MAAM,CAAClQ,UAAU,IAAW,0BAA0B,CAAC,OAAO4O,KAAkBtV,EAAO6F,IAAgB,OAAK,EAAAgR,QAAQ,CAACtB,SAASA,QAAU,EAAoB,gBAAoB,MAAM,CAACtJ,IAAItQ,KAAKmb,aAAapQ,UAAU,IAAW,4BAA4BuI,SAAS,EACh8B,cAAa,QAAoB5L,EAAKrD,KAAsB,OAAK,GAAe,CAACA,OAAOA,EAAOkK,YAAYvO,KAAKiR,gBAAgBc,YAAY/R,KAAKob,gBAAgB5M,eAAexO,KAAKoX,mBAAmBhG,UAAUpR,KAAKgF,MAAMoM,UAAUE,wBAAwBtR,KAAKqX,4BAA4B5I,0BAA0BzO,KAAKqT,iCAA6C,OAAK,KAAK,CAACtI,UAAU,gCAA4C,OAAK,EAAU,CAAC1G,OAAOA,EAAOH,QAAQlE,KAAKoL,iBAAiB1G,YAAY1E,KAAKmX,qBAAqBhS,aAAanF,KAAKqb,sBAAsB/W,SAAStE,KAAKoJ,kBAAkB7E,QAAQvE,KAAK4K,iBAAiBxF,SAASpF,KAAKsJ,kBAAkBjE,OAAOrF,KAAKyJ,gBAAgBlE,SAASvF,KAAKsb,kBAAkB9V,OAAOxF,KAAKub,gBAAgB9V,UAAUzF,KAAK4J,mBAAmBlE,OAAO1F,KAAK6J,gBAAgBlE,mBAAmB3F,KAAKqJ,4BAA4BzD,QAAQ5F,KAAK8J,iBAAiBjE,SAAS7F,KAAK+J,aAAajE,MAAM9F,KAAKwb,UAAU/W,WAAWzE,KAAKyb,eAAerV,QAAQpG,KAAK8I,YAAY9B,iBAAiBhH,KAAKoK,qBAAqBnD,aAAajH,KAAKqK,iBAAiBnD,0BAA0BlH,KAAKmK,8BAA8BhD,eAAenH,KAAKsK,mBAAmBvF,aAAa/E,KAAKgE,MAAMe,aAAajB,qBAAqB9D,KAAKgF,MAAMlB,qBAAqB4X,0BAA0B1b,KAAK0b,0BAA0BC,2BAA2B3b,KAAK2b,+BAA+BhC,IAA6B,OAAK,KAAK,CAAC5O,UAAU,gCAAsC6Q,EAAS,GAAoM,OAA9LlC,GAAckC,EAASzb,KAAI,MAAbyb,EAAiB5b,KAAKkZ,eAAevC,GAAcG,WAAY8E,EAASzb,KAAK8a,GAAkBtB,GAAgBiC,EAASzb,KAAI,MAAbyb,EAAiB5b,KAAKkZ,eAAetC,GAAgBE,YAA+B,OAAK,KAAO,CAAC+E,MAAMnU,EAAKc,cAAcwS,EAAa,CAACjT,SAAQ,IAAG+T,aAAY,QAAM,GAAoB,OAAK,MAAM,CAAC/Q,UAAU,yBAAoB,GAAoB,OAAK,IAAc,CAAC8K,QAAQnO,EAAKc,cAAcwS,EAAa,CAACjT,SAAQ,QAAmB,OAAK,KAAM,CAACiF,MAAM,QAAG,EAAoB,gBAAoB,MAAM,CAACsD,IAAItQ,KAAKuQ,OAAOxF,UAAU,WAAuB,OAAK,IAAe,CAACgR,UAAU/b,KAAKgc,cAAcC,UAAUjc,KAAKgF,MAAMzE,KAAK2b,WAAWlc,KAAKmc,eAAeC,qBAAqB,WAAiB,cAAK,IAAkB,CAAC9H,QAAO,WAAQ,EAAOsH,KAAY3X,IAAiB,OAAK,GAAe,OAAO,EAHkmG,CAAqB,MAGhnG,IAAiB,SAAW,EAAA8H,EAAA,IAAWsQ,KACvzE,IAAe,SAJgzH,WAAK,IAAMC,GAAU,UAAsBC,GAAgB,QAAe,CAAC,SAACvG,EAAExK,GAAW,OAAAA,GAAS,SAAAxG,GAAO,OAAAA,EAAMkP,SAASlL,IAAI,iBAAe,SAACwC,EAASgR,GAAqE,IAAvD,IAAI7F,GAAa,kBAA0BzM,EAAGsB,EAAetB,IAAKyM,EAAazO,SAASgC,IAAKyM,GAAa,gBAAoB,CAACzM,IAAKuS,MAAM9F,GAAczM,EAAGsS,EAAWxT,IAAIkB,GAAK,OAAOyM,KAAsB+F,GAAkB,QAAe,CAAC,SAAC1G,EAAExK,GAAW,OAAAA,GAAS,SAAAxG,GAAO,OAAAA,EAAMkP,SAASlL,IAAI,cAAY,SAACwC,EAASmR,GAAgF,IAA9D,IAAI/F,GAAe,kBAA4BgG,EAAI,CAACpR,GAAgBoR,EAAI3c,OAAO,GAAE,CAAC,IAAMiK,EAAG0S,EAAInc,QAAcoc,EAAQF,EAAe3T,IAAIkB,GAAI,GAAG0M,EAAe1O,SAASgC,GAAK,MAAUsB,IAAWtB,IAAI0M,EAAeA,EAAe6F,MAAM,CAACvS,KAAS2S,GAASA,EAAQ1P,UAAU2P,SAAQ,SAAApb,GAAQkb,EAAIG,QAAQrb,MAAY,OAAOkV,KAA4uB,OAApsB,SAAC5R,EAAMhB,GAAS,IAAMK,EAAOiY,EAAUtX,EAAM,CAACkF,GAAGlG,EAAM0R,OAAOlK,WAAemL,GAAa,kBAA0BC,GAAe,kBAAsB,GAAGvS,EAAO,CAAC,IAAMmH,EAASnH,EAAO6F,GAAGyM,EAAa4F,EAAgBvX,EAAMA,EAAMkP,SAASpM,MAAM,CAAC,aAAa0D,KAAYoL,EAAe8F,EAAkB1X,EAAMwG,GAAUmL,EAAaA,EAAavV,OAAOoK,GAAUwR,SAASpG,GAAgBA,EAAeA,EAAexV,OAAOoK,GAAUwR,SAASrG,GAAe,IAAMsG,GAAQ,QAAiBjY,GAAO,MAAM,CAACX,OAAM,EAACsS,aAAY,EAACC,eAAc,EAAChB,qBAAkE,IAA7C5Q,EAAMkY,QAAQlU,IAAI,OAAO,IAAImU,OAAOld,OAAWgE,GAAGe,EAAMf,GAAGsR,cAAa,QAAYvQ,GAAOgE,IAAI,gBAAgBjE,aAAakY,EAAQlY,iBAIl0K,CAA4C","sources":["webpack://soapbox-fe/./node_modules/tiny-queue/index.js","webpack://soapbox-fe/./app/soapbox/features/status/components/action-bar.tsx","webpack://soapbox-fe/./app/soapbox/features/ui/util/schedule_idle_task.js","webpack://soapbox-fe/./app/soapbox/features/status/components/status-interaction-bar.tsx","webpack://soapbox-fe/./app/soapbox/features/status/components/detailed-status.tsx","webpack://soapbox-fe/./app/soapbox/features/status/components/thread-login-cta.tsx","webpack://soapbox-fe/./app/soapbox/features/status/components/thread-status.tsx","webpack://soapbox-fe/./app/soapbox/features/status/index.tsx"],"sourcesContent":["'use strict'; // Simple FIFO queue implementation to avoid having to do shift()\n// on an array, which is slow.\n\nfunction Queue() {\n  this.length = 0;\n}\n\nQueue.prototype.push = function (item) {\n  var node = {\n    item: item\n  };\n\n  if (this.last) {\n    this.last = this.last.next = node;\n  } else {\n    this.last = this.first = node;\n  }\n\n  this.length++;\n};\n\nQueue.prototype.shift = function () {\n  var node = this.first;\n\n  if (node) {\n    this.first = node.next;\n\n    if (! --this.length) {\n      this.last = undefined;\n    }\n\n    return node.item;\n  }\n};\n\nQueue.prototype.slice = function (start, end) {\n  start = typeof start === 'undefined' ? 0 : start;\n  end = typeof end === 'undefined' ? Infinity : end;\n  var output = [];\n  var i = 0;\n\n  for (var node = this.first; node; node = node.next) {\n    if (--end < 0) {\n      break;\n    } else if (++i > start) {\n      output.push(node.item);\n    }\n  }\n\n  return output;\n};\n\nmodule.exports = Queue;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import\"core-js/modules/web.dom-collections.iterator.js\";import classNames from'classnames';import React from'react';import{defineMessages,injectIntl}from'react-intl';import{connect}from'react-redux';import{withRouter}from'react-router-dom';import EmojiButtonWrapper from'soapbox/components/emoji-button-wrapper';import{isUserTouching}from'soapbox/is_mobile';import{getReactForStatus}from'soapbox/utils/emoji_reacts';import{getFeatures}from'soapbox/utils/features';import{openModal}from'../../../actions/modals';import{HStack,IconButton}from'../../../components/ui';import DropdownMenuContainer from'../../../containers/dropdown_menu_container';const messages=defineMessages({delete:{\"id\":\"status.delete\",\"defaultMessage\":\"Delete\"},redraft:{\"id\":\"status.redraft\",\"defaultMessage\":\"Delete & re-draft\"},edit:{\"id\":\"status.edit\",\"defaultMessage\":\"Edit\"},direct:{\"id\":\"status.direct\",\"defaultMessage\":\"Direct message @{name}\"},chat:{\"id\":\"status.chat\",\"defaultMessage\":\"Chat with @{name}\"},mention:{\"id\":\"status.mention\",\"defaultMessage\":\"Mention @{name}\"},reply:{\"id\":\"status.reply\",\"defaultMessage\":\"Reply\"},reblog:{\"id\":\"status.reblog\",\"defaultMessage\":\"Repost\"},reblog_private:{\"id\":\"status.reblog_private\",\"defaultMessage\":\"Repost to original audience\"},cancel_reblog_private:{\"id\":\"status.cancel_reblog_private\",\"defaultMessage\":\"Un-repost\"},cannot_reblog:{\"id\":\"status.cannot_reblog\",\"defaultMessage\":\"This post cannot be reposted\"},favourite:{\"id\":\"status.favourite\",\"defaultMessage\":\"Like\"},mute:{\"id\":\"status.mute\",\"defaultMessage\":\"Mute @{name}\"},muteConversation:{\"id\":\"status.mute_conversation\",\"defaultMessage\":\"Mute conversation\"},unmuteConversation:{\"id\":\"status.unmute_conversation\",\"defaultMessage\":\"Unmute conversation\"},block:{\"id\":\"status.block\",\"defaultMessage\":\"Block @{name}\"},report:{\"id\":\"status.report\",\"defaultMessage\":\"Report @{name}\"},share:{\"id\":\"status.share\",\"defaultMessage\":\"Share\"},pin:{\"id\":\"status.pin\",\"defaultMessage\":\"Pin on profile\"},unpin:{\"id\":\"status.unpin\",\"defaultMessage\":\"Unpin from profile\"},embed:{\"id\":\"status.embed\",\"defaultMessage\":\"Embed\"},admin_account:{\"id\":\"status.admin_account\",\"defaultMessage\":\"Open moderation interface for @{name}\"},admin_status:{\"id\":\"status.admin_status\",\"defaultMessage\":\"Open this post in the moderation interface\"},copy:{\"id\":\"status.copy\",\"defaultMessage\":\"Copy link to post\"},bookmark:{\"id\":\"status.bookmark\",\"defaultMessage\":\"Bookmark\"},unbookmark:{\"id\":\"status.unbookmark\",\"defaultMessage\":\"Remove bookmark\"},deactivateUser:{\"id\":\"admin.users.actions.deactivate_user\",\"defaultMessage\":\"Deactivate @{name}\"},deleteUser:{\"id\":\"admin.users.actions.delete_user\",\"defaultMessage\":\"Delete @{name}\"},deleteStatus:{\"id\":\"admin.statuses.actions.delete_status\",\"defaultMessage\":\"Delete post\"},markStatusSensitive:{\"id\":\"admin.statuses.actions.mark_status_sensitive\",\"defaultMessage\":\"Mark post sensitive\"},markStatusNotSensitive:{\"id\":\"admin.statuses.actions.mark_status_not_sensitive\",\"defaultMessage\":\"Mark post not sensitive\"},reactionLike:{\"id\":\"status.reactions.like\",\"defaultMessage\":\"Like\"},reactionHeart:{\"id\":\"status.reactions.heart\",\"defaultMessage\":\"Love\"},reactionLaughing:{\"id\":\"status.reactions.laughing\",\"defaultMessage\":\"Haha\"},reactionOpenMouth:{\"id\":\"status.reactions.open_mouth\",\"defaultMessage\":\"Wow\"},reactionCry:{\"id\":\"status.reactions.cry\",\"defaultMessage\":\"Sad\"},reactionWeary:{\"id\":\"status.reactions.weary\",\"defaultMessage\":\"Weary\"},emojiPickerExpand:{\"id\":\"status.reactions_expand\",\"defaultMessage\":\"Select emoji\"},more:{\"id\":\"status.actions.more\",\"defaultMessage\":\"More\"},quotePost:{\"id\":\"status.quote\",\"defaultMessage\":\"Quote post\"}});const mapStateToProps=state=>{const me=state.me;const account=state.accounts.get(me);const instance=state.instance;return{me,isStaff:account?account.staff:false,isAdmin:account?account.admin:false,features:getFeatures(instance)};};const mapDispatchToProps=(dispatch,_ref)=>{let{status}=_ref;return{onOpenUnauthorizedModal(action){dispatch(openModal('UNAUTHORIZED',{action,ap_id:status.url}));}};};class ActionBar extends React.PureComponent{constructor(){super(...arguments);_defineProperty(this,\"state\",{emojiSelectorVisible:false,emojiSelectorFocused:false});_defineProperty(this,\"node\",null);_defineProperty(this,\"handleReplyClick\",e=>{const{me,onReply,onOpenUnauthorizedModal}=this.props;e.preventDefault();if(me){onReply(this.props.status);}else{onOpenUnauthorizedModal('REPLY');}});_defineProperty(this,\"handleReblogClick\",e=>{const{me,onReblog,onOpenUnauthorizedModal,status}=this.props;e.preventDefault();if(me){onReblog(status,e);}else{onOpenUnauthorizedModal('REBLOG');}});_defineProperty(this,\"handleQuoteClick\",()=>{const{me,onQuote,onOpenUnauthorizedModal,status}=this.props;if(me){onQuote(status,this.props.history);}else{onOpenUnauthorizedModal('REBLOG');}});_defineProperty(this,\"handleBookmarkClick\",()=>{this.props.onBookmark(this.props.status);});_defineProperty(this,\"handleFavouriteClick\",e=>{const{me,onFavourite,onOpenUnauthorizedModal,status}=this.props;e.preventDefault();if(me){onFavourite(status);}else{onOpenUnauthorizedModal('FAVOURITE');}});_defineProperty(this,\"handleLikeButtonHover\",()=>{const{features}=this.props;if(features.emojiReacts&&!isUserTouching()){this.setState({emojiSelectorVisible:true});}});_defineProperty(this,\"handleLikeButtonLeave\",()=>{const{features}=this.props;if(features.emojiReacts&&!isUserTouching()){this.setState({emojiSelectorVisible:false});}});_defineProperty(this,\"handleLikeButtonClick\",e=>{const{features}=this.props;const meEmojiReact=getReactForStatus(this.props.status,this.props.allowedEmoji)||'ðŸ‘';if(features.emojiReacts&&isUserTouching()){if(this.state.emojiSelectorVisible){this.handleReactClick(meEmojiReact)(e);}else{this.setState({emojiSelectorVisible:true});}}else{this.handleReactClick(meEmojiReact)(e);}});_defineProperty(this,\"handleReactClick\",emoji=>{return()=>{const{me,onEmojiReact,onOpenUnauthorizedModal,status}=this.props;if(me){onEmojiReact(status,emoji);}else{onOpenUnauthorizedModal('FAVOURITE');}this.setState({emojiSelectorVisible:false,emojiSelectorFocused:false});};});_defineProperty(this,\"handleHotkeyEmoji\",()=>{const{emojiSelectorVisible}=this.state;this.setState({emojiSelectorVisible:!emojiSelectorVisible});});_defineProperty(this,\"handleDeleteClick\",()=>{this.props.onDelete(this.props.status,this.props.history);});_defineProperty(this,\"handleRedraftClick\",()=>{this.props.onDelete(this.props.status,this.props.history,true);});_defineProperty(this,\"handleEditClick\",()=>{this.props.onEdit(this.props.status);});_defineProperty(this,\"handleDirectClick\",()=>{const{account}=this.props.status;if(!account||typeof account!=='object')return;this.props.onDirect(account,this.props.history);});_defineProperty(this,\"handleChatClick\",()=>{const{account}=this.props.status;if(!account||typeof account!=='object')return;this.props.onChat(account,this.props.history);});_defineProperty(this,\"handleMentionClick\",()=>{const{account}=this.props.status;if(!account||typeof account!=='object')return;this.props.onMention(account,this.props.history);});_defineProperty(this,\"handleMuteClick\",()=>{const{account}=this.props.status;if(!account||typeof account!=='object')return;this.props.onMute(account);});_defineProperty(this,\"handleConversationMuteClick\",()=>{this.props.onMuteConversation(this.props.status);});_defineProperty(this,\"handleBlockClick\",()=>{this.props.onBlock(this.props.status);});_defineProperty(this,\"handleReport\",()=>{this.props.onReport(this.props.status);});_defineProperty(this,\"handlePinClick\",()=>{this.props.onPin(this.props.status);});_defineProperty(this,\"handleShare\",()=>{navigator.share({text:this.props.status.search_index,url:this.props.status.uri});});_defineProperty(this,\"handleEmbed\",()=>{this.props.onEmbed(this.props.status);});_defineProperty(this,\"handleCopy\",()=>{const url=this.props.status.url;const textarea=document.createElement('textarea');textarea.textContent=url;textarea.style.position='fixed';document.body.appendChild(textarea);try{textarea.select();document.execCommand('copy');}catch(e){// Do nothing\n}finally{document.body.removeChild(textarea);}});_defineProperty(this,\"handleDeactivateUser\",()=>{this.props.onDeactivateUser(this.props.status);});_defineProperty(this,\"handleDeleteUser\",()=>{this.props.onDeleteUser(this.props.status);});_defineProperty(this,\"handleToggleStatusSensitivity\",()=>{this.props.onToggleStatusSensitivity(this.props.status);});_defineProperty(this,\"handleDeleteStatus\",()=>{this.props.onDeleteStatus(this.props.status);});_defineProperty(this,\"setRef\",c=>{this.node=c;});}componentDidMount(){document.addEventListener('click',e=>{if(this.node&&!this.node.contains(e.target))this.setState({emojiSelectorVisible:false,emojiSelectorFocused:false});});}render(){const{status,intl,me,isStaff,isAdmin,allowedEmoji,features}=this.props;const ownAccount=status.getIn(['account','id'])===me;const username=String(status.getIn(['account','acct']));const publicStatus=['public','unlisted'].includes(status.visibility);const mutingConversation=status.muted;const meEmojiReact=getReactForStatus(status,allowedEmoji);const reactMessages={'ðŸ‘':messages.reactionLike,'â¤ï¸':messages.reactionHeart,'ðŸ˜†':messages.reactionLaughing,'ðŸ˜®':messages.reactionOpenMouth,'ðŸ˜¢':messages.reactionCry,'ðŸ˜©':messages.reactionWeary,'':messages.favourite};const meEmojiTitle=intl.formatMessage(reactMessages[meEmojiReact||'']||messages.favourite);const menu=[];if(publicStatus){menu.push({text:intl.formatMessage(messages.copy),action:this.handleCopy,icon:require('@tabler/icons/icons/link.svg')});if(features.embeds){menu.push({text:intl.formatMessage(messages.embed),action:this.handleEmbed,icon:require('@tabler/icons/icons/share.svg')});}}if(me){if(features.bookmarks){menu.push({text:intl.formatMessage(status.get('bookmarked')?messages.unbookmark:messages.bookmark),action:this.handleBookmarkClick,icon:require(status.get('bookmarked')?'@tabler/icons/icons/bookmark-off.svg':'@tabler/icons/icons/bookmark.svg')});}menu.push(null);if(ownAccount){if(publicStatus){menu.push({text:intl.formatMessage(status.pinned?messages.unpin:messages.pin),action:this.handlePinClick,icon:require(mutingConversation?'@tabler/icons/icons/pinned-off.svg':'@tabler/icons/icons/pin.svg')});menu.push(null);}else if(status.visibility==='private'){menu.push({text:intl.formatMessage(status.get('reblogged')?messages.cancel_reblog_private:messages.reblog_private),action:this.handleReblogClick,icon:require('@tabler/icons/icons/repeat.svg')});menu.push(null);}menu.push({text:intl.formatMessage(mutingConversation?messages.unmuteConversation:messages.muteConversation),action:this.handleConversationMuteClick,icon:require(mutingConversation?'@tabler/icons/icons/bell.svg':'@tabler/icons/icons/bell-off.svg')});menu.push(null);menu.push({text:intl.formatMessage(messages.delete),action:this.handleDeleteClick,icon:require('@tabler/icons/icons/trash.svg'),destructive:true});if(features.editStatuses){menu.push({text:intl.formatMessage(messages.edit),action:this.handleEditClick,icon:require('@tabler/icons/icons/edit.svg')});}else{menu.push({text:intl.formatMessage(messages.redraft),action:this.handleRedraftClick,icon:require('@tabler/icons/icons/edit.svg'),destructive:true});}}else{menu.push({text:intl.formatMessage(messages.mention,{name:username}),action:this.handleMentionClick,icon:require('@tabler/icons/icons/at.svg')});// if (status.getIn(['account', 'pleroma', 'accepts_chat_messages'], false) === true) {\n//   menu.push({\n//     text: intl.formatMessage(messages.chat, { name: username }),\n//     action: this.handleChatClick,\n//     icon: require('@tabler/icons/icons/messages.svg'),\n//   });\n// } else {\n//   menu.push({\n//     text: intl.formatMessage(messages.direct, { name: username }),\n//     action: this.handleDirectClick,\n//     icon: require('@tabler/icons/icons/mail.svg'),\n//   });\n// }\nmenu.push(null);menu.push({text:intl.formatMessage(messages.mute,{name:username}),action:this.handleMuteClick,icon:require('@tabler/icons/icons/circle-x.svg')});menu.push({text:intl.formatMessage(messages.block,{name:username}),action:this.handleBlockClick,icon:require('@tabler/icons/icons/ban.svg')});menu.push({text:intl.formatMessage(messages.report,{name:username}),action:this.handleReport,icon:require('@tabler/icons/icons/flag.svg')});}if(isStaff){menu.push(null);if(isAdmin){menu.push({text:intl.formatMessage(messages.admin_account,{name:username}),href:\"/pleroma/admin/#/users/\".concat(status.getIn(['account','id']),\"/\"),icon:require('@tabler/icons/icons/gavel.svg')});menu.push({text:intl.formatMessage(messages.admin_status),href:\"/pleroma/admin/#/statuses/\".concat(status.id,\"/\"),icon:require('@tabler/icons/icons/pencil.svg')});}menu.push({text:intl.formatMessage(status.get('sensitive')===false?messages.markStatusSensitive:messages.markStatusNotSensitive),action:this.handleToggleStatusSensitivity,icon:require('@tabler/icons/icons/alert-triangle.svg')});if(!ownAccount){menu.push({text:intl.formatMessage(messages.deactivateUser,{name:username}),action:this.handleDeactivateUser,icon:require('@tabler/icons/icons/user-off.svg')});menu.push({text:intl.formatMessage(messages.deleteUser,{name:username}),action:this.handleDeleteUser,icon:require('@tabler/icons/icons/user-minus.svg'),destructive:true});menu.push({text:intl.formatMessage(messages.deleteStatus),action:this.handleDeleteStatus,icon:require('@tabler/icons/icons/trash.svg'),destructive:true});}}}const canShare='share'in navigator&&status.get('visibility')==='public';let reblogIcon=require('@tabler/icons/icons/repeat.svg');if(status.get('visibility')==='direct'){reblogIcon=require('@tabler/icons/icons/mail.svg');}else if(status.get('visibility')==='private'){reblogIcon=require('@tabler/icons/icons/lock.svg');}const reblog_disabled=status.get('visibility')==='direct'||status.get('visibility')==='private';const reblogMenu=[{text:intl.formatMessage(status.reblogged?messages.cancel_reblog_private:messages.reblog),action:this.handleReblogClick,icon:require('@tabler/icons/icons/repeat.svg')},{text:intl.formatMessage(messages.quotePost),action:this.handleQuoteClick,icon:require('@tabler/icons/icons/quote.svg')}];const reblogButton=/*#__PURE__*/_jsx(IconButton,{disabled:reblog_disabled,className:classNames({'text-gray-400 hover:text-gray-600':!status.reblogged,'text-success-600 hover:text-success-600':status.reblogged}),title:reblog_disabled?intl.formatMessage(messages.cannot_reblog):intl.formatMessage(messages.reblog),src:reblogIcon,onClick:this.handleReblogClick,text:intl.formatMessage(messages.reblog)});return/*#__PURE__*/_jsx(HStack,{justifyContent:\"between\"},void 0,/*#__PURE__*/_jsx(IconButton,{title:intl.formatMessage(messages.reply),src:require('@tabler/icons/icons/message-circle.svg'),className:\"text-gray-400 hover:text-gray-600\",onClick:this.handleReplyClick,text:intl.formatMessage(messages.reply)}),features.quotePosts&&me?/*#__PURE__*/_jsx(DropdownMenuContainer,{items:reblogMenu,disabled:!publicStatus,onShiftClick:this.handleReblogClick},void 0,reblogButton):reblogButton,features.emojiReacts?/*#__PURE__*/_jsx(EmojiButtonWrapper,{statusId:status.id},void 0,/*#__PURE__*/_jsx(IconButton,{className:classNames({'text-gray-400 hover:text-gray-600':!meEmojiReact,'text-accent-300 hover:text-accent-300':Boolean(meEmojiReact)}),title:meEmojiTitle,src:require('@tabler/icons/icons/heart.svg'),iconClassName:classNames({'fill-accent-300':Boolean(meEmojiReact)}),text:meEmojiTitle})):/*#__PURE__*/_jsx(IconButton,{className:classNames({'text-gray-400 hover:text-gray-600':!meEmojiReact,'text-accent-300 hover:text-accent-300':Boolean(meEmojiReact)}),title:meEmojiTitle,src:require('@tabler/icons/icons/heart.svg'),iconClassName:classNames({'fill-accent-300':Boolean(meEmojiReact)}),text:meEmojiTitle,onClick:this.handleLikeButtonClick}),canShare&&/*#__PURE__*/_jsx(IconButton,{title:intl.formatMessage(messages.share),src:require('@tabler/icons/icons/upload.svg'),className:\"text-gray-400 hover:text-gray-600\",onClick:this.handleShare,text:intl.formatMessage(messages.share)}),/*#__PURE__*/_jsx(DropdownMenuContainer,{src:require('@tabler/icons/icons/dots.svg'),items:menu,title:\"More\"}));}}_defineProperty(ActionBar,\"defaultProps\",{isStaff:false});const WrappedComponent=withRouter(injectIntl(ActionBar));export default connect(mapStateToProps,mapDispatchToProps)(WrappedComponent);","// Wrapper to call requestIdleCallback() to schedule low-priority work.\n// See https://developer.mozilla.org/en-US/docs/Web/API/Background_Tasks_API\n// for a good breakdown of the concepts behind this.\nimport Queue from'tiny-queue';const taskQueue=new Queue();let runningRequestIdleCallback=false;function runTasks(deadline){while(taskQueue.length&&deadline.timeRemaining()>0){taskQueue.shift()();}if(taskQueue.length){requestIdleCallback(runTasks);}else{runningRequestIdleCallback=false;}}function scheduleIdleTask(task){taskQueue.push(task);if(!runningRequestIdleCallback){runningRequestIdleCallback=true;requestIdleCallback(runTasks);}}export default scheduleIdleTask;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import classNames from'classnames';import{List as ImmutableList}from'immutable';import React from'react';import{FormattedNumber}from'react-intl';import{useDispatch}from'react-redux';import{openModal}from'soapbox/actions/modals';import{useAppSelector,useSoapboxConfig,useFeatures}from'soapbox/hooks';import{reduceEmoji}from'soapbox/utils/emoji_reacts';import{HStack,IconButton,Text,Emoji}from'../../../components/ui';const StatusInteractionBar=_ref=>{let{status}=_ref;const me=useAppSelector(_ref2=>{let{me}=_ref2;return me;});const{allowedEmoji}=useSoapboxConfig();const dispatch=useDispatch();const features=useFeatures();const{account}=status;if(!account||typeof account!=='object')return null;const onOpenUnauthorizedModal=()=>{dispatch(openModal('UNAUTHORIZED'));};const onOpenReblogsModal=(username,statusId)=>{dispatch(openModal('REBLOGS',{username,statusId}));};const onOpenFavouritesModal=(username,statusId)=>{dispatch(openModal('FAVOURITES',{username,statusId}));};const onOpenReactionsModal=(username,statusId,reaction)=>{dispatch(openModal('REACTIONS',{username,statusId,reaction}));};const getNormalizedReacts=()=>{return reduceEmoji(ImmutableList(status.getIn(['pleroma','emoji_reactions'])),status.favourites_count,status.favourited,allowedEmoji).reverse();};const handleOpenReblogsModal=e=>{e.preventDefault();if(!me)onOpenUnauthorizedModal();else onOpenReblogsModal(account.acct,status.id);};const getReposts=()=>{if(status.reblogs_count){return/*#__PURE__*/_jsx(HStack,{space:0.5,alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(IconButton,{className:\"text-success-600 cursor-pointer\",src:require('@tabler/icons/icons/repeat.svg'),role:\"presentation\",onClick:handleOpenReblogsModal}),/*#__PURE__*/_jsx(Text,{theme:\"muted\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedNumber,{value:status.reblogs_count})));}return'';};const handleOpenFavouritesModal=e=>{e.preventDefault();if(!me)onOpenUnauthorizedModal();else onOpenFavouritesModal(account.acct,status.id);};const getFavourites=()=>{if(status.favourites_count){return/*#__PURE__*/_jsx(HStack,{space:0.5,alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(IconButton,{className:classNames({'text-accent-300':true,'cursor-default':!features.exposableReactions}),src:require('@tabler/icons/icons/heart.svg'),iconClassName:\"fill-accent-300\",role:\"presentation\",onClick:features.exposableReactions?handleOpenFavouritesModal:undefined}),/*#__PURE__*/_jsx(Text,{theme:\"muted\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedNumber,{value:status.favourites_count})));}return'';};const handleOpenReactionsModal=reaction=>()=>{if(!me)onOpenUnauthorizedModal();else onOpenReactionsModal(account.acct,status.id,String(reaction.get('name')));};const getEmojiReacts=()=>{const emojiReacts=getNormalizedReacts();const count=emojiReacts.reduce((acc,cur)=>acc+cur.get('count'),0);if(count>0){return/*#__PURE__*/_jsx(HStack,{space:0.5,className:\"emoji-reacts-container\",alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"emoji-reacts\"},void 0,emojiReacts.map((e,i)=>{return/*#__PURE__*/_jsx(HStack,{space:0.5,className:\"emoji-react p-1\",alignItems:\"center\"},i,/*#__PURE__*/_jsx(Emoji,{className:\"emoji-react__emoji w-5 h-5 flex-none\",emoji:e.get('name'),onClick:features.exposableReactions?handleOpenReactionsModal(e):undefined}),/*#__PURE__*/_jsx(Text,{theme:\"muted\",size:\"sm\",className:\"emoji-react__count\"},void 0,/*#__PURE__*/_jsx(FormattedNumber,{value:e.get('count')})));})),/*#__PURE__*/_jsx(Text,{theme:\"muted\",size:\"sm\",className:\"emoji-reacts__count\"},void 0,/*#__PURE__*/_jsx(FormattedNumber,{value:count})));}return'';};return/*#__PURE__*/_jsx(HStack,{space:3},void 0,features.emojiReacts?getEmojiReacts():getFavourites(),getReposts());};export default StatusInteractionBar;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import\"core-js/modules/web.dom-collections.iterator.js\";import classNames from'classnames';import React from'react';import ImmutablePureComponent from'react-immutable-pure-component';import{FormattedMessage,injectIntl}from'react-intl';import{FormattedDate}from'react-intl';import Icon from'soapbox/components/icon';import QuotedStatus from'soapbox/features/status/containers/quoted_status_container';import MediaGallery from'../../../components/media_gallery';import StatusContent from'../../../components/status_content';import StatusReplyMentions from'../../../components/status_reply_mentions';import{HStack,Text}from'../../../components/ui';import AccountContainer from'../../../containers/account_container';import Audio from'../../audio';import scheduleIdleTask from'../../ui/util/schedule_idle_task';import Video from'../../video';import Card from'./card';import StatusInteractionBar from'./status-interaction-bar';class DetailedStatus extends ImmutablePureComponent{constructor(){super(...arguments);_defineProperty(this,\"state\",{height:null,mediaWrapperWidth:NaN});_defineProperty(this,\"node\",null);_defineProperty(this,\"handleOpenVideo\",(media,startTime)=>{this.props.onOpenVideo(media,startTime);});_defineProperty(this,\"handleExpandedToggle\",()=>{this.props.onToggleHidden(this.props.status);});_defineProperty(this,\"handleOpenCompareHistoryModal\",()=>{this.props.onOpenCompareHistoryModal(this.props.status);});_defineProperty(this,\"setRef\",c=>{this.node=c;this._measureHeight();if(c){this.setState({mediaWrapperWidth:c.offsetWidth});}});_defineProperty(this,\"getActualStatus\",()=>{const{status}=this.props;if(!status)return undefined;return status.reblog&&typeof status.reblog==='object'?status.reblog:status;});}_measureHeight(){let heightJustChanged=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.props.measureHeight&&this.node){scheduleIdleTask(()=>this.node&&this.setState({height:Math.ceil(this.node.scrollHeight)+1}));if(this.props.onHeightChange&&heightJustChanged){this.props.onHeightChange();}}}componentDidUpdate(prevProps,prevState){this._measureHeight(prevState.height!==this.state.height);}// handleModalLink = e => {\n//   e.preventDefault();\n//\n//   let href;\n//\n//   if (e.target.nodeName !== 'A') {\n//     href = e.target.parentNode.href;\n//   } else {\n//     href = e.target.href;\n//   }\n//\n//   window.open(href, 'soapbox-intent', 'width=445,height=600,resizable=no,menubar=no,status=no,scrollbars=yes');\n// }\nrender(){const status=this.getActualStatus();if(!status)return null;const{account}=status;if(!account||typeof account!=='object')return null;const outerStyle={boxSizing:'border-box'};const{compact}=this.props;let media=null;let statusTypeIcon=null;if(this.props.measureHeight){outerStyle.height=\"\".concat(this.state.height,\"px\");}const size=status.media_attachments.size;const firstAttachment=status.media_attachments.get(0);if(size>0&&firstAttachment){if(size===1&&firstAttachment.type==='video'){var _status$card;const video=firstAttachment;if(video.external_video_id&&(_status$card=status.card)!==null&&_status$card!==void 0&&_status$card.html){const{mediaWrapperWidth}=this.state;const getHeight=()=>{const width=Number(video.meta.getIn(['original','width']));const height=Number(video.meta.getIn(['original','height']));return Number(mediaWrapperWidth)/(width/height);};const height=getHeight();media=/*#__PURE__*/_jsx(\"div\",{className:\"status-card horizontal interactive status-card--video\"},void 0,/*#__PURE__*/React.createElement(\"div\",{ref:this.setRef,className:\"status-card-video\",style:{height},dangerouslySetInnerHTML:{__html:status.card.html}}));}else{media=/*#__PURE__*/_jsx(Video,{preview:video.preview_url,blurhash:video.blurhash,src:video.url,alt:video.description,aspectRatio:video.meta.getIn(['original','aspect']),width:300,height:150,inline:true,onOpenVideo:this.handleOpenVideo,sensitive:status.sensitive,visible:this.props.showMedia,onToggleVisibility:this.props.onToggleMediaVisibility});}}else if(size===1&&firstAttachment.type==='audio'){const attachment=firstAttachment;media=/*#__PURE__*/_jsx(Audio,{src:attachment.url,alt:attachment.description,duration:attachment.meta.getIn(['original','duration',0]),poster:attachment.preview_url!==attachment.url?attachment.preview_url:account.avatar_static,backgroundColor:attachment.meta.getIn(['colors','background']),foregroundColor:attachment.meta.getIn(['colors','foreground']),accentColor:attachment.meta.getIn(['colors','accent']),height:150});}else{media=/*#__PURE__*/_jsx(MediaGallery,{standalone:true,sensitive:status.sensitive,media:status.media_attachments,height:300,onOpenMedia:this.props.onOpenMedia,visible:this.props.showMedia,onToggleVisibility:this.props.onToggleMediaVisibility});}}else if(status.spoiler_text.length===0&&!status.quote&&status.card){media=/*#__PURE__*/_jsx(Card,{onOpenMedia:this.props.onOpenMedia,card:status.card});}let quote;if(status.quote){if(status.pleroma.get('quote_visible',true)===false){quote=/*#__PURE__*/_jsx(\"div\",{className:\"quoted-status-tombstone\"},void 0,/*#__PURE__*/_jsx(\"p\",{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"statuses.quote_tombstone\",defaultMessage:\"Post is unavailable.\"})));}else{quote=/*#__PURE__*/_jsx(QuotedStatus,{statusId:status.quote});}}if(status.visibility==='direct'){statusTypeIcon=/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/mail.svg')});}else if(status.visibility==='private'){statusTypeIcon=/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/lock.svg')});}return/*#__PURE__*/_jsx(\"div\",{style:outerStyle},void 0,/*#__PURE__*/React.createElement(\"div\",{ref:this.setRef,className:classNames('detailed-status',{compact})},/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\"},void 0,/*#__PURE__*/_jsx(AccountContainer,{id:account.id,timestamp:status.created_at,avatarSize:42,hideActions:true},account.id)),/*#__PURE__*/_jsx(StatusReplyMentions,{status:status}),/*#__PURE__*/_jsx(StatusContent,{status:status,expanded:!status.hidden,onExpandedToggle:this.handleExpandedToggle}),media,quote,/*#__PURE__*/_jsx(HStack,{justifyContent:\"between\",alignItems:\"center\",className:\"py-2\"},void 0,/*#__PURE__*/_jsx(StatusInteractionBar,{status:status}),/*#__PURE__*/_jsx(\"div\",{className:\"detailed-status__timestamp\"},void 0,statusTypeIcon,/*#__PURE__*/_jsx(\"span\",{},void 0,/*#__PURE__*/_jsx(\"a\",{href:status.url,target:\"_blank\",rel:\"noopener\",className:\"hover:underline\"},void 0,/*#__PURE__*/_jsx(Text,{tag:\"span\",theme:\"muted\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedDate,{value:new Date(status.created_at),hour12:false,year:\"numeric\",month:\"short\",day:\"2-digit\",hour:\"2-digit\",minute:\"2-digit\"}))),status.edited_at&&/*#__PURE__*/React.createElement(React.Fragment,null,' Â· ',/*#__PURE__*/_jsx(\"div\",{className:\"inline hover:underline\",onClick:this.handleOpenCompareHistoryModal,role:\"button\",tabIndex:0},void 0,/*#__PURE__*/_jsx(Text,{tag:\"span\",theme:\"muted\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"status.edited\",defaultMessage:\"Edited {date}\",values:{date:this.props.intl.formatDate(new Date(status.edited_at),{hour12:false,month:'short',day:'2-digit',hour:'2-digit',minute:'2-digit'})}})))))))));}}export default injectIntl(DetailedStatus);","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{FormattedMessage}from'react-intl';import{Card,CardTitle,Text,Stack,Button}from'soapbox/components/ui';import{useAppSelector}from'soapbox/hooks';/** Prompts logged-out users to log in when viewing a thread. */const ThreadLoginCta=()=>{const siteTitle=useAppSelector(state=>state.instance.title);return/*#__PURE__*/_jsx(Card,{className:\"px-6 py-12 space-y-6 text-center\",variant:\"rounded\"},void 0,/*#__PURE__*/_jsx(Stack,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"thread_login.title\",defaultMessage:\"Continue the conversation\"})}),/*#__PURE__*/_jsx(Text,{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"thread_login.message\",defaultMessage:\"Join {siteTitle} to get the full story and details.\",values:{siteTitle}}))),/*#__PURE__*/_jsx(Stack,{space:4,className:\"max-w-xs mx-auto\"},void 0,/*#__PURE__*/_jsx(Button,{theme:\"secondary\",to:\"/login\",block:true},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"thread_login.login\",defaultMessage:\"Log in\"})),/*#__PURE__*/_jsx(Button,{to:\"/signup\",block:true},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"thread_login.signup\",defaultMessage:\"Sign up\"}))));};export default ThreadLoginCta;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import classNames from'classnames';import{OrderedSet as ImmutableOrderedSet}from'immutable';import React from'react';import StatusContainer from'soapbox/containers/status_container';import PlaceholderStatus from'soapbox/features/placeholder/components/placeholder_status';import{useAppSelector}from'soapbox/hooks';const ThreadStatus=props=>{const{id,focusedStatusId}=props;const replyToId=useAppSelector(state=>state.contexts.getIn(['inReplyTos',id]));const replyCount=useAppSelector(state=>state.contexts.getIn(['replies',id],ImmutableOrderedSet()).size);const isLoaded=useAppSelector(state=>Boolean(state.statuses.get(id)));const renderConnector=()=>{const isConnectedTop=replyToId&&replyToId!==focusedStatusId;const isConnectedBottom=replyCount>0;const isConnected=isConnectedTop||isConnectedBottom;if(!isConnected)return null;return/*#__PURE__*/_jsx(\"div\",{className:classNames('thread__connector',{'thread__connector--top':isConnectedTop,'thread__connector--bottom':isConnectedBottom})});};return/*#__PURE__*/_jsx(\"div\",{className:\"thread__status\"},void 0,renderConnector(),isLoaded?/*#__PURE__*/ // @ts-ignore FIXME\nReact.createElement(StatusContainer,props):/*#__PURE__*/_jsx(PlaceholderStatus,{thread:true}));};export default ThreadStatus;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import\"core-js/modules/web.dom-collections.iterator.js\";import\"core-js/modules/es.string.replace.js\";import classNames from'classnames';import{List as ImmutableList,OrderedSet as ImmutableOrderedSet}from'immutable';import React from'react';import{HotKeys}from'react-hotkeys';import ImmutablePureComponent from'react-immutable-pure-component';import{defineMessages,injectIntl,FormattedMessage}from'react-intl';import{connect}from'react-redux';import{withRouter}from'react-router-dom';import{createSelector}from'reselect';import{launchChat}from'soapbox/actions/chats';import{deactivateUserModal,deleteUserModal,deleteStatusModal,toggleStatusSensitivityModal}from'soapbox/actions/moderation';import{getSettings}from'soapbox/actions/settings';import{getSoapboxConfig}from'soapbox/actions/soapbox';import ScrollableList from'soapbox/components/scrollable_list';import SubNavigation from'soapbox/components/sub_navigation';import{Column,Stack}from'soapbox/components/ui';import PlaceholderStatus from'soapbox/features/placeholder/components/placeholder_status';import PendingStatus from'soapbox/features/ui/components/pending_status';import{blockAccount}from'../../actions/accounts';import{replyCompose,mentionCompose,directCompose,quoteCompose}from'../../actions/compose';import{simpleEmojiReact}from'../../actions/emoji_reacts';import{favourite,unfavourite,reblog,unreblog,bookmark,unbookmark,pin,unpin}from'../../actions/interactions';import{openModal}from'../../actions/modals';import{initMuteModal}from'../../actions/mutes';import{initReport}from'../../actions/reports';import{muteStatus,unmuteStatus,deleteStatus,hideStatus,revealStatus,editStatus}from'../../actions/statuses';import{fetchStatusWithContext,fetchNext}from'../../actions/statuses';import MissingIndicator from'../../components/missing_indicator';import{textForScreenReader,defaultMediaVisibility}from'../../components/status';import{makeGetStatus}from'../../selectors';import{attachFullscreenListener,detachFullscreenListener,isFullscreen}from'../ui/util/fullscreen';import ActionBar from'./components/action-bar';import DetailedStatus from'./components/detailed-status';import ThreadLoginCta from'./components/thread-login-cta';import ThreadStatus from'./components/thread-status';const messages=defineMessages({title:{\"id\":\"status.title\",\"defaultMessage\":\"@{username}'s Post\"},titleDirect:{\"id\":\"status.title_direct\",\"defaultMessage\":\"Direct message\"},deleteConfirm:{\"id\":\"confirmations.delete.confirm\",\"defaultMessage\":\"Delete\"},deleteHeading:{\"id\":\"confirmations.delete.heading\",\"defaultMessage\":\"Delete post\"},deleteMessage:{\"id\":\"confirmations.delete.message\",\"defaultMessage\":\"Are you sure you want to delete this post?\"},redraftConfirm:{\"id\":\"confirmations.redraft.confirm\",\"defaultMessage\":\"Delete & redraft\"},redraftHeading:{\"id\":\"confirmations.redraft.heading\",\"defaultMessage\":\"Delete & redraft\"},redraftMessage:{\"id\":\"confirmations.redraft.message\",\"defaultMessage\":\"Are you sure you want to delete this post and re-draft it? Favorites and reposts will be lost, and replies to the original post will be orphaned.\"},blockConfirm:{\"id\":\"confirmations.block.confirm\",\"defaultMessage\":\"Block\"},revealAll:{\"id\":\"status.show_more_all\",\"defaultMessage\":\"Show more for all\"},hideAll:{\"id\":\"status.show_less_all\",\"defaultMessage\":\"Show less for all\"},detailedStatus:{\"id\":\"status.detailed_status\",\"defaultMessage\":\"Detailed conversation view\"},replyConfirm:{\"id\":\"confirmations.reply.confirm\",\"defaultMessage\":\"Reply\"},replyMessage:{\"id\":\"confirmations.reply.message\",\"defaultMessage\":\"Replying now will overwrite the message you are currently composing. Are you sure you want to proceed?\"},blockAndReport:{\"id\":\"confirmations.block.block_and_report\",\"defaultMessage\":\"Block & Report\"}});const makeMapStateToProps=()=>{const getStatus=makeGetStatus();const getAncestorsIds=createSelector([(_,statusId)=>statusId,state=>state.contexts.get('inReplyTos')],(statusId,inReplyTos)=>{let ancestorsIds=ImmutableOrderedSet();let id=statusId;while(id&&!ancestorsIds.includes(id)){ancestorsIds=ImmutableOrderedSet([id]).union(ancestorsIds);id=inReplyTos.get(id);}return ancestorsIds;});const getDescendantsIds=createSelector([(_,statusId)=>statusId,state=>state.contexts.get('replies')],(statusId,contextReplies)=>{let descendantsIds=ImmutableOrderedSet();const ids=[statusId];while(ids.length>0){const id=ids.shift();const replies=contextReplies.get(id);if(descendantsIds.includes(id)){break;}if(statusId!==id){descendantsIds=descendantsIds.union([id]);}if(replies){replies.reverse().forEach(reply=>{ids.unshift(reply);});}}return descendantsIds;});const mapStateToProps=(state,props)=>{const status=getStatus(state,{id:props.params.statusId});let ancestorsIds=ImmutableOrderedSet();let descendantsIds=ImmutableOrderedSet();if(status){const statusId=status.id;ancestorsIds=getAncestorsIds(state,state.contexts.getIn(['inReplyTos',statusId]));descendantsIds=getDescendantsIds(state,statusId);ancestorsIds=ancestorsIds.delete(statusId).subtract(descendantsIds);descendantsIds=descendantsIds.delete(statusId).subtract(ancestorsIds);}const soapbox=getSoapboxConfig(state);return{status,ancestorsIds,descendantsIds,askReplyConfirmation:state.compose.get('text','').trim().length!==0,me:state.me,displayMedia:getSettings(state).get('displayMedia'),allowedEmoji:soapbox.allowedEmoji};};return mapStateToProps;};class Status extends ImmutablePureComponent{constructor(){var _this;super(...arguments);_this=this;_defineProperty(this,\"state\",{fullscreen:false,showMedia:defaultMediaVisibility(this.props.status,this.props.displayMedia),loadedStatusId:undefined,emojiSelectorFocused:false,isLoaded:Boolean(this.props.status),error:undefined,next:undefined});_defineProperty(this,\"node\",null);_defineProperty(this,\"status\",null);_defineProperty(this,\"_scrolledIntoView\",false);_defineProperty(this,\"fetchData\",async()=>{const{dispatch,params}=this.props;const{statusId}=params;const{next}=await dispatch(fetchStatusWithContext(statusId));this.setState({next});});_defineProperty(this,\"handleToggleMediaVisibility\",()=>{this.setState({showMedia:!this.state.showMedia});});_defineProperty(this,\"handleEmojiReactClick\",(status,emoji)=>{this.props.dispatch(simpleEmojiReact(status,emoji));});_defineProperty(this,\"handleFavouriteClick\",status=>{if(status.favourited){this.props.dispatch(unfavourite(status));}else{this.props.dispatch(favourite(status));}});_defineProperty(this,\"handlePin\",status=>{if(status.pinned){this.props.dispatch(unpin(status));}else{this.props.dispatch(pin(status));}});_defineProperty(this,\"handleBookmark\",status=>{if(status.bookmarked){this.props.dispatch(unbookmark(status));}else{this.props.dispatch(bookmark(status));}});_defineProperty(this,\"handleReplyClick\",status=>{const{askReplyConfirmation,dispatch,intl}=this.props;if(askReplyConfirmation){dispatch(openModal('CONFIRM',{message:intl.formatMessage(messages.replyMessage),confirm:intl.formatMessage(messages.replyConfirm),onConfirm:()=>dispatch(replyCompose(status,this.props.history))}));}else{dispatch(replyCompose(status,this.props.history));}});_defineProperty(this,\"handleModalReblog\",status=>{this.props.dispatch(reblog(status));});_defineProperty(this,\"handleReblogClick\",(status,e)=>{this.props.dispatch((_,getState)=>{const boostModal=getSettings(getState()).get('boostModal');if(status.reblogged){this.props.dispatch(unreblog(status));}else{if(e&&e.shiftKey||!boostModal){this.handleModalReblog(status);}else{this.props.dispatch(openModal('BOOST',{status,onReblog:this.handleModalReblog}));}}});});_defineProperty(this,\"handleQuoteClick\",status=>{const{askReplyConfirmation,dispatch,intl}=this.props;if(askReplyConfirmation){dispatch(openModal('CONFIRM',{message:intl.formatMessage(messages.replyMessage),confirm:intl.formatMessage(messages.replyConfirm),onConfirm:()=>dispatch(quoteCompose(status,this.props.history))}));}else{dispatch(quoteCompose(status,this.props.history));}});_defineProperty(this,\"handleDeleteClick\",function(status,history){let withRedraft=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const{dispatch,intl}=_this.props;_this.props.dispatch((_,getState)=>{const deleteModal=getSettings(getState()).get('deleteModal');if(!deleteModal){dispatch(deleteStatus(status.id,history,withRedraft));}else{dispatch(openModal('CONFIRM',{icon:withRedraft?require('@tabler/icons/icons/edit.svg'):require('@tabler/icons/icons/trash.svg'),heading:intl.formatMessage(withRedraft?messages.redraftHeading:messages.deleteHeading),message:intl.formatMessage(withRedraft?messages.redraftMessage:messages.deleteMessage),confirm:intl.formatMessage(withRedraft?messages.redraftConfirm:messages.deleteConfirm),onConfirm:()=>dispatch(deleteStatus(status.id,history,withRedraft))}));}});});_defineProperty(this,\"handleEditClick\",status=>{const{dispatch}=this.props;dispatch(editStatus(status.get('id')));});_defineProperty(this,\"handleDirectClick\",(account,router)=>{this.props.dispatch(directCompose(account,router));});_defineProperty(this,\"handleChatClick\",(account,router)=>{this.props.dispatch(launchChat(account.id,router));});_defineProperty(this,\"handleMentionClick\",(account,router)=>{this.props.dispatch(mentionCompose(account,router));});_defineProperty(this,\"handleOpenMedia\",(media,index)=>{this.props.dispatch(openModal('MEDIA',{media,index}));});_defineProperty(this,\"handleOpenVideo\",(media,time)=>{this.props.dispatch(openModal('VIDEO',{media,time}));});_defineProperty(this,\"handleHotkeyOpenMedia\",e=>{const{status,onOpenMedia,onOpenVideo}=this.props;const firstAttachment=status.media_attachments.get(0);e===null||e===void 0?void 0:e.preventDefault();if(status.media_attachments.size>0&&firstAttachment){if(firstAttachment.type==='video'){onOpenVideo(firstAttachment,0);}else{onOpenMedia(status.media_attachments,0);}}});_defineProperty(this,\"handleMuteClick\",account=>{this.props.dispatch(initMuteModal(account));});_defineProperty(this,\"handleConversationMuteClick\",status=>{if(status.muted){this.props.dispatch(unmuteStatus(status.id));}else{this.props.dispatch(muteStatus(status.id));}});_defineProperty(this,\"handleToggleHidden\",status=>{if(status.hidden){this.props.dispatch(revealStatus(status.id));}else{this.props.dispatch(hideStatus(status.id));}});_defineProperty(this,\"handleToggleAll\",()=>{const{status,ancestorsIds,descendantsIds}=this.props;const statusIds=[status.id].concat(ancestorsIds.toArray(),descendantsIds.toArray());if(status.hidden){this.props.dispatch(revealStatus(statusIds));}else{this.props.dispatch(hideStatus(statusIds));}});_defineProperty(this,\"handleBlockClick\",status=>{const{dispatch,intl}=this.props;const{account}=status;if(!account||typeof account!=='object')return;dispatch(openModal('CONFIRM',{icon:require('@tabler/icons/icons/ban.svg'),heading:/*#__PURE__*/_jsx(FormattedMessage,{id:\"confirmations.block.heading\",defaultMessage:\"Block @{name}\",values:{name:account.acct}}),message:/*#__PURE__*/_jsx(FormattedMessage,{id:\"confirmations.block.message\",defaultMessage:\"Are you sure you want to block {name}?\",values:{name:/*#__PURE__*/_jsx(\"strong\",{},void 0,\"@\",account.acct)}}),confirm:intl.formatMessage(messages.blockConfirm),onConfirm:()=>dispatch(blockAccount(account.id)),secondary:intl.formatMessage(messages.blockAndReport),onSecondary:()=>{dispatch(blockAccount(account.id));dispatch(initReport(account,status));}}));});_defineProperty(this,\"handleReport\",status=>{this.props.dispatch(initReport(status.account,status));});_defineProperty(this,\"handleEmbed\",status=>{this.props.dispatch(openModal('EMBED',{url:status.url}));});_defineProperty(this,\"handleDeactivateUser\",status=>{const{dispatch,intl}=this.props;dispatch(deactivateUserModal(intl,status.getIn(['account','id'])));});_defineProperty(this,\"handleDeleteUser\",status=>{const{dispatch,intl}=this.props;dispatch(deleteUserModal(intl,status.getIn(['account','id'])));});_defineProperty(this,\"handleToggleStatusSensitivity\",status=>{const{dispatch,intl}=this.props;dispatch(toggleStatusSensitivityModal(intl,status.id,status.sensitive));});_defineProperty(this,\"handleDeleteStatus\",status=>{const{dispatch,intl}=this.props;dispatch(deleteStatusModal(intl,status.id));});_defineProperty(this,\"handleHotkeyMoveUp\",()=>{this.handleMoveUp(this.props.status.id);});_defineProperty(this,\"handleHotkeyMoveDown\",()=>{this.handleMoveDown(this.props.status.id);});_defineProperty(this,\"handleHotkeyReply\",e=>{e===null||e===void 0?void 0:e.preventDefault();this.handleReplyClick(this.props.status);});_defineProperty(this,\"handleHotkeyFavourite\",()=>{this.handleFavouriteClick(this.props.status);});_defineProperty(this,\"handleHotkeyBoost\",()=>{this.handleReblogClick(this.props.status);});_defineProperty(this,\"handleHotkeyMention\",e=>{e===null||e===void 0?void 0:e.preventDefault();const{account}=this.props.status;if(!account||typeof account!=='object')return;this.handleMentionClick(account,this.props.history);});_defineProperty(this,\"handleHotkeyOpenProfile\",()=>{this.props.history.push(\"/@\".concat(this.props.status.getIn(['account','acct'])));});_defineProperty(this,\"handleHotkeyToggleHidden\",()=>{this.handleToggleHidden(this.props.status);});_defineProperty(this,\"handleHotkeyToggleSensitive\",()=>{this.handleToggleMediaVisibility();});_defineProperty(this,\"handleHotkeyReact\",()=>{this._expandEmojiSelector();});_defineProperty(this,\"handleMoveUp\",id=>{const{status,ancestorsIds,descendantsIds}=this.props;if(id===status.id){this._selectChild(ancestorsIds.size-1,true);}else{let index=ImmutableList(ancestorsIds).indexOf(id);if(index===-1){index=ImmutableList(descendantsIds).indexOf(id);this._selectChild(ancestorsIds.size+index,true);}else{this._selectChild(index-1,true);}}});_defineProperty(this,\"handleMoveDown\",id=>{const{status,ancestorsIds,descendantsIds}=this.props;if(id===status.id){this._selectChild(ancestorsIds.size+1,false);}else{let index=ImmutableList(ancestorsIds).indexOf(id);if(index===-1){index=ImmutableList(descendantsIds).indexOf(id);this._selectChild(ancestorsIds.size+index+2,false);}else{this._selectChild(index+1,false);}}});_defineProperty(this,\"handleEmojiSelectorExpand\",e=>{if(e.key==='Enter'){this._expandEmojiSelector();}e.preventDefault();});_defineProperty(this,\"handleEmojiSelectorUnfocus\",()=>{this.setState({emojiSelectorFocused:false});});_defineProperty(this,\"_expandEmojiSelector\",()=>{if(!this.status)return;this.setState({emojiSelectorFocused:true});const firstEmoji=this.status.querySelector('.emoji-react-selector .emoji-react-selector__emoji');firstEmoji===null||firstEmoji===void 0?void 0:firstEmoji.focus();});_defineProperty(this,\"setRef\",c=>{this.node=c;});_defineProperty(this,\"setStatusRef\",c=>{this.status=c;});_defineProperty(this,\"onFullScreenChange\",()=>{this.setState({fullscreen:isFullscreen()});});_defineProperty(this,\"handleRefresh\",()=>{return this.fetchData();});_defineProperty(this,\"handleLoadMore\",()=>{const{next}=this.state;if(next){this.props.dispatch(fetchNext(next)).then(_ref=>{let{next}=_ref;this.setState({next});}).catch(()=>{});}});_defineProperty(this,\"handleOpenCompareHistoryModal\",status=>{const{dispatch}=this.props;dispatch(openModal('COMPARE_HISTORY',{statusId:status.id}));});}componentDidMount(){this.fetchData().then(()=>{this.setState({isLoaded:true});}).catch(error=>{this.setState({error,isLoaded:true});});attachFullscreenListener(this.onFullScreenChange);}_selectChild(index,align_top){const container=this.node;if(!container)return;const element=container.querySelectorAll('.focusable')[index];if(element){if(align_top&&container.scrollTop>element.offsetTop){element.scrollIntoView(true);}else if(!align_top&&container.scrollTop+container.clientHeight<element.offsetTop+element.offsetHeight){element.scrollIntoView(false);}element.focus();}}renderTombstone(id){return/*#__PURE__*/_jsx(\"div\",{className:\"tombstone\"},id,/*#__PURE__*/_jsx(\"p\",{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"statuses.tombstone\",defaultMessage:\"One or more posts is unavailable.\"})));}renderStatus(id){const{status}=this.props;return/*#__PURE__*/_jsx(ThreadStatus,{id:id,focusedStatusId:status.id// @ts-ignore FIXME\n,onMoveUp:this.handleMoveUp,onMoveDown:this.handleMoveDown},id);}renderPendingStatus(id){const{status}=this.props;const idempotencyKey=id.replace(/^æœ«pending-/,'');return/*#__PURE__*/_jsx(PendingStatus,{className:\"thread__status\",idempotencyKey:idempotencyKey,focusedStatusId:status.id,onMoveUp:this.handleMoveUp,onMoveDown:this.handleMoveDown,contextType:\"thread\"},id);}renderChildren(list){return list.map(id=>{if(id.endsWith('-tombstone')){return this.renderTombstone(id);}else if(id.startsWith('æœ«pending-')){return this.renderPendingStatus(id);}else{return this.renderStatus(id);}});}componentDidUpdate(prevProps,prevState){const{params,status,displayMedia}=this.props;const{ancestorsIds}=prevProps;if(params.statusId!==prevProps.params.statusId){this._scrolledIntoView=false;this.fetchData();}if(status&&status.id!==prevState.loadedStatusId){this.setState({showMedia:defaultMediaVisibility(status,displayMedia),loadedStatusId:status.id});}if(this._scrolledIntoView){return;}if(prevProps.status&&ancestorsIds&&ancestorsIds.size>0&&this.node){const element=this.node.querySelector('.detailed-status');window.requestAnimationFrame(()=>{element===null||element===void 0?void 0:element.scrollIntoView(true);});this._scrolledIntoView=true;}}componentWillUnmount(){detachFullscreenListener(this.onFullScreenChange);}render(){const{me,status,ancestorsIds,descendantsIds,intl}=this.props;const hasAncestors=ancestorsIds&&ancestorsIds.size>0;const hasDescendants=descendantsIds&&descendantsIds.size>0;if(!status&&this.state.isLoaded){// TODO: handle errors other than 404 with `this.state.error?.response?.status`\nreturn/*#__PURE__*/_jsx(MissingIndicator,{});}else if(!status){return/*#__PURE__*/_jsx(PlaceholderStatus,{});}const handlers={moveUp:this.handleHotkeyMoveUp,moveDown:this.handleHotkeyMoveDown,reply:this.handleHotkeyReply,favourite:this.handleHotkeyFavourite,boost:this.handleHotkeyBoost,mention:this.handleHotkeyMention,openProfile:this.handleHotkeyOpenProfile,toggleHidden:this.handleHotkeyToggleHidden,toggleSensitive:this.handleHotkeyToggleSensitive,openMedia:this.handleHotkeyOpenMedia,react:this.handleHotkeyReact};const username=String(status.getIn(['account','acct']));const titleMessage=status.visibility==='direct'?messages.titleDirect:messages.title;const focusedStatus=/*#__PURE__*/_jsx(\"div\",{className:classNames('thread__detailed-status',{'pb-4':hasDescendants})},status.id,/*#__PURE__*/_jsx(HotKeys,{handlers:handlers},void 0,/*#__PURE__*/React.createElement(\"div\",{ref:this.setStatusRef,className:classNames('detailed-status__wrapper'),tabIndex:0// FIXME: no \"reblogged by\" text is added for the screen reader\n,\"aria-label\":textForScreenReader(intl,status)},/*#__PURE__*/_jsx(DetailedStatus,{status:status,onOpenVideo:this.handleOpenVideo,onOpenMedia:this.handleOpenMedia,onToggleHidden:this.handleToggleHidden,showMedia:this.state.showMedia,onToggleMediaVisibility:this.handleToggleMediaVisibility,onOpenCompareHistoryModal:this.handleOpenCompareHistoryModal}),/*#__PURE__*/_jsx(\"hr\",{className:\"mb-2 dark:border-slate-600\"}),/*#__PURE__*/_jsx(ActionBar,{status:status,onReply:this.handleReplyClick,onFavourite:this.handleFavouriteClick,onEmojiReact:this.handleEmojiReactClick,onReblog:this.handleReblogClick,onQuote:this.handleQuoteClick,onDelete:this.handleDeleteClick,onEdit:this.handleEditClick,onDirect:this.handleDirectClick,onChat:this.handleChatClick,onMention:this.handleMentionClick,onMute:this.handleMuteClick,onMuteConversation:this.handleConversationMuteClick,onBlock:this.handleBlockClick,onReport:this.handleReport,onPin:this.handlePin,onBookmark:this.handleBookmark,onEmbed:this.handleEmbed,onDeactivateUser:this.handleDeactivateUser,onDeleteUser:this.handleDeleteUser,onToggleStatusSensitivity:this.handleToggleStatusSensitivity,onDeleteStatus:this.handleDeleteStatus,allowedEmoji:this.props.allowedEmoji,emojiSelectorFocused:this.state.emojiSelectorFocused,handleEmojiSelectorExpand:this.handleEmojiSelectorExpand,handleEmojiSelectorUnfocus:this.handleEmojiSelectorUnfocus}))),hasDescendants&&/*#__PURE__*/_jsx(\"hr\",{className:\"mt-2 dark:border-slate-600\"}));const children=[];if(hasAncestors){children.push(...this.renderChildren(ancestorsIds).toArray());}children.push(focusedStatus);if(hasDescendants){children.push(...this.renderChildren(descendantsIds).toArray());}return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(titleMessage,{username}),transparent:true},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pt-4 sm:p-0\"},void 0,/*#__PURE__*/_jsx(SubNavigation,{message:intl.formatMessage(titleMessage,{username})})),/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/React.createElement(\"div\",{ref:this.setRef,className:\"thread\"},/*#__PURE__*/_jsx(ScrollableList,{onRefresh:this.handleRefresh,hasMore:!!this.state.next,onLoadMore:this.handleLoadMore,placeholderComponent:()=>/*#__PURE__*/_jsx(PlaceholderStatus,{thread:true})},void 0,children)),!me&&/*#__PURE__*/_jsx(ThreadLoginCta,{})));}}const WrappedComponent=withRouter(injectIntl(Status));// @ts-ignore\nexport default connect(makeMapStateToProps)(WrappedComponent);"],"names":["Queue","this","length","prototype","push","item","node","last","next","first","shift","undefined","slice","start","end","Infinity","output","i","module","exports","messages","delete","redraft","edit","direct","chat","mention","reply","reblog","reblog_private","cancel_reblog_private","cannot_reblog","favourite","mute","muteConversation","unmuteConversation","block","report","share","pin","unpin","embed","admin_account","admin_status","copy","bookmark","unbookmark","deactivateUser","deleteUser","deleteStatus","markStatusSensitive","markStatusNotSensitive","reactionLike","reactionHeart","reactionLaughing","reactionOpenMouth","reactionCry","reactionWeary","emojiPickerExpand","more","quotePost","arguments","emojiSelectorVisible","emojiSelectorFocused","e","props","me","onReply","onOpenUnauthorizedModal","preventDefault","status","onReblog","onQuote","history","onBookmark","onFavourite","emojiReacts","setState","features","meEmojiReact","allowedEmoji","state","handleReactClick","emoji","onEmojiReact","onDelete","onEdit","account","onDirect","onChat","onMention","onMute","onMuteConversation","onBlock","onReport","onPin","navigator","text","search_index","url","uri","onEmbed","textarea","document","createElement","textContent","style","position","body","appendChild","select","execCommand","removeChild","onDeactivateUser","onDeleteUser","onToggleStatusSensitivity","onDeleteStatus","c","componentDidMount","addEventListener","contains","target","render","intl","isStaff","isAdmin","ownAccount","getIn","username","String","publicStatus","includes","visibility","mutingConversation","muted","reactMessages","meEmojiTitle","formatMessage","menu","action","handleCopy","icon","embeds","handleEmbed","bookmarks","get","handleBookmarkClick","pinned","handlePinClick","handleReblogClick","handleConversationMuteClick","handleDeleteClick","destructive","editStatuses","handleEditClick","handleRedraftClick","name","handleMentionClick","handleMuteClick","handleBlockClick","handleReport","href","concat","id","handleToggleStatusSensitivity","handleDeactivateUser","handleDeleteUser","handleDeleteStatus","canShare","reblogIcon","reblog_disabled","reblogMenu","reblogged","handleQuoteClick","reblogButton","disabled","className","title","src","onClick","justifyContent","handleReplyClick","quotePosts","items","onShiftClick","statusId","Boolean","iconClassName","handleLikeButtonClick","handleShare","ActionBar","WrappedComponent","injectIntl","accounts","instance","staff","admin","dispatch","_ref","ap_id","taskQueue","runningRequestIdleCallback","runTasks","deadline","timeRemaining","requestIdleCallback","task","_ref2","count","space","favourites_count","favourited","reverse","reduce","acc","cur","alignItems","map","exposableReactions","reaction","onOpenReactionsModal","acct","theme","size","value","role","reblogs_count","height","mediaWrapperWidth","NaN","media","startTime","onOpenVideo","onToggleHidden","onOpenCompareHistoryModal","_measureHeight","offsetWidth","heightJustChanged","measureHeight","Math","ceil","scrollHeight","onHeightChange","componentDidUpdate","prevProps","prevState","getActualStatus","outerStyle","boxSizing","compact","statusTypeIcon","quote","media_attachments","firstAttachment","type","_status$card","external_video_id","card","html","width","Number","meta","getHeight","ref","setRef","dangerouslySetInnerHTML","__html","preview","preview_url","blurhash","alt","description","aspectRatio","inline","handleOpenVideo","sensitive","visible","showMedia","onToggleVisibility","onToggleMediaVisibility","attachment","duration","poster","avatar_static","backgroundColor","foregroundColor","accentColor","standalone","onOpenMedia","spoiler_text","pleroma","defaultMessage","timestamp","created_at","avatarSize","hideActions","expanded","hidden","onExpandedToggle","handleExpandedToggle","rel","tag","Date","hour12","year","month","day","hour","minute","edited_at","handleOpenCompareHistoryModal","tabIndex","values","date","formatDate","DetailedStatus","siteTitle","variant","to","isConnectedTop","isConnectedBottom","focusedStatusId","replyToId","contexts","replyCount","isLoaded","statuses","thread","titleDirect","deleteConfirm","deleteHeading","deleteMessage","redraftConfirm","redraftHeading","redraftMessage","blockConfirm","revealAll","hideAll","detailedStatus","replyConfirm","replyMessage","blockAndReport","_this","fullscreen","displayMedia","loadedStatusId","error","params","bookmarked","askReplyConfirmation","message","confirm","onConfirm","_","getState","boostModal","shiftKey","handleModalReblog","withRedraft","deleteModal","heading","router","index","time","ancestorsIds","descendantsIds","statusIds","toArray","secondary","onSecondary","handleMoveUp","handleMoveDown","handleFavouriteClick","handleToggleHidden","handleToggleMediaVisibility","_expandEmojiSelector","_selectChild","indexOf","key","firstEmoji","querySelector","focus","fetchData","then","catch","onFullScreenChange","align_top","container","element","querySelectorAll","scrollTop","offsetTop","scrollIntoView","clientHeight","offsetHeight","renderTombstone","renderStatus","onMoveUp","onMoveDown","renderPendingStatus","idempotencyKey","replace","contextType","renderChildren","list","endsWith","startsWith","_scrolledIntoView","window","requestAnimationFrame","componentWillUnmount","hasAncestors","hasDescendants","handlers","moveUp","handleHotkeyMoveUp","moveDown","handleHotkeyMoveDown","handleHotkeyReply","handleHotkeyFavourite","boost","handleHotkeyBoost","handleHotkeyMention","openProfile","handleHotkeyOpenProfile","toggleHidden","handleHotkeyToggleHidden","toggleSensitive","handleHotkeyToggleSensitive","openMedia","handleHotkeyOpenMedia","react","handleHotkeyReact","titleMessage","focusedStatus","HotKeys","setStatusRef","handleOpenMedia","handleEmojiReactClick","handleDirectClick","handleChatClick","handlePin","handleBookmark","handleEmojiSelectorExpand","handleEmojiSelectorUnfocus","children","label","transparent","onRefresh","handleRefresh","hasMore","onLoadMore","handleLoadMore","placeholderComponent","Status","getStatus","getAncestorsIds","inReplyTos","union","getDescendantsIds","contextReplies","ids","replies","forEach","unshift","subtract","soapbox","compose","trim"],"sourceRoot":""}