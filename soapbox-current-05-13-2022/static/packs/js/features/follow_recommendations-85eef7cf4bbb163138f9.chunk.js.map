{"version":3,"file":"packs/js/features/follow_recommendations-85eef7cf4bbb163138f9.chunk.js","mappings":"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","sources":["webpack://soapbox-fe/./app/soapbox/features/follow_recommendations/components/account.tsx","webpack://soapbox-fe/./app/soapbox/features/follow_recommendations/components/follow_recommendations_list.tsx","webpack://soapbox-fe/./app/soapbox/features/follow_recommendations/components/follow_recommendations_container.tsx","webpack://soapbox-fe/./app/soapbox/features/follow_recommendations/index.tsx","webpack://soapbox-fe/./app/soapbox/features/ui/components/who-to-follow-panel.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import Avatar from'soapbox/components/avatar';import DisplayName from'soapbox/components/display_name';import Permalink from'soapbox/components/permalink';import ActionButton from'soapbox/features/ui/components/action-button';import{useAppSelector}from'soapbox/hooks';import{makeGetAccount}from'soapbox/selectors';const getAccount=makeGetAccount();const getFirstSentence=str=>{const arr=str.split(/(([.?!]+\\s)|[．。？！\\n•])/);return arr[0];};const Account=_ref=>{let{id}=_ref;const account=useAppSelector(state=>getAccount(state,id));if(!account)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"account follow-recommendations-account\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__wrapper\"},void 0,/*#__PURE__*/_jsx(Permalink,{className:\"account__display-name account__display-name--with-note\",title:account.acct,href:account.url,to:\"/@\".concat(account.get('acct'))},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__avatar-wrapper\"},void 0,/*#__PURE__*/_jsx(Avatar,{account:account,size:36})),/*#__PURE__*/_jsx(DisplayName,{account:account}),/*#__PURE__*/_jsx(\"div\",{className:\"account__note\"},void 0,getFirstSentence(account.get('note_plain')))),/*#__PURE__*/_jsx(\"div\",{className:\"account__relationship\"},void 0,/*#__PURE__*/_jsx(ActionButton,{account:account}))));};export default Account;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{useEffect}from'react';import{FormattedMessage}from'react-intl';import{useDispatch}from'react-redux';import{fetchSuggestions}from'soapbox/actions/suggestions';import{Spinner}from'soapbox/components/ui';import{useAppSelector}from'soapbox/hooks';import Account from'./account';const FollowRecommendationsList=()=>{const dispatch=useDispatch();const suggestions=useAppSelector(state=>state.suggestions.get('items'));const isLoading=useAppSelector(state=>state.suggestions.get('isLoading'));useEffect(()=>{if(suggestions.size===0){dispatch(fetchSuggestions());}},[]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"column-list\"},void 0,/*#__PURE__*/_jsx(Spinner,{}));}return/*#__PURE__*/_jsx(\"div\",{className:\"column-list\"},void 0,suggestions.size>0?suggestions.map(suggestion=>/*#__PURE__*/_jsx(Account,{id:suggestion.account},suggestion.account)):/*#__PURE__*/_jsx(\"div\",{className:\"column-list__empty-message\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.follow_recommendations\",defaultMessage:\"Looks like no suggestions could be generated for you. You can try using search to look for people you might know or explore trending hashtags.\"})));};export default FollowRecommendationsList;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{FormattedMessage}from'react-intl';import{Button}from'soapbox/components/ui';import FollowRecommendationsList from'./follow_recommendations_list';const FollowRecommendationsContainer=_ref=>{let{onDone}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"scrollable follow-recommendations-container\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"column-title\"},void 0,/*#__PURE__*/_jsx(\"h3\",{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"follow_recommendations.heading\",defaultMessage:\"Follow people you'd like to see posts from! Here are some suggestions.\"})),/*#__PURE__*/_jsx(\"h2\",{className:\"follow_subhead\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"follow_recommendation.subhead\",defaultMessage:\"Let's get started!\"})),/*#__PURE__*/_jsx(\"p\",{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"follow_recommendations.lead\",defaultMessage:\"Don't be afraid to make mistakes; you can unfollow people at any time.\"}))),/*#__PURE__*/_jsx(FollowRecommendationsList,{}),/*#__PURE__*/_jsx(\"div\",{className:\"column-actions\"},void 0,/*#__PURE__*/_jsx(Button,{onClick:onDone},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"follow_recommendations.done\",defaultMessage:\"Done\"}))));};export default FollowRecommendationsContainer;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{useHistory}from'react-router-dom';import Column from'soapbox/features/ui/components/column';import FollowRecommendationsContainer from'./components/follow_recommendations_container';const FollowRecommendations=()=>{const history=useHistory();const onDone=()=>{history.push('/');};return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(FollowRecommendationsContainer,{onDone:onDone}));};export default FollowRecommendations;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import*as React from'react';import{FormattedMessage,defineMessages,useIntl}from'react-intl';import{useDispatch}from'react-redux';import{Widget}from'soapbox/components/ui';import{useAppSelector}from'soapbox/hooks';import{fetchSuggestions,dismissSuggestion}from'../../../actions/suggestions';import AccountContainer from'../../../containers/account_container';const messages=defineMessages({dismissSuggestion:{\"id\":\"suggestions.dismiss\",\"defaultMessage\":\"Dismiss suggestion\"}});const WhoToFollowPanel=_ref=>{let{limit}=_ref;const dispatch=useDispatch();const intl=useIntl();const suggestions=useAppSelector(state=>state.suggestions.get('items'));const suggestionsToRender=suggestions.slice(0,limit);const handleDismiss=account=>{dispatch(dismissSuggestion(account.get('id')));};React.useEffect(()=>{dispatch(fetchSuggestions());},[]);if(suggestionsToRender.isEmpty()){return null;}// FIXME: This page actually doesn't look good right now\n// const handleAction = () => {\n//   history.push('/suggestions');\n// };\nreturn/*#__PURE__*/_jsx(Widget,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"who_to_follow.title\",defaultMessage:\"People To Follow\"})// onAction={handleAction}\n},void 0,suggestionsToRender.map(suggestion=>/*#__PURE__*/_jsx(AccountContainer,{// @ts-ignore: TS thinks `id` is passed to <Account>, but it isn't\nid:suggestion.get('account'),actionIcon:require('@tabler/icons/icons/x.svg'),actionTitle:intl.formatMessage(messages.dismissSuggestion),onActionClick:handleDismiss},suggestion.get('account'))));};export default WhoToFollowPanel;"],"names":["getAccount","_ref","id","account","state","className","title","acct","href","url","to","concat","get","size","split","dispatch","suggestions","isLoading","useEffect","map","suggestion","defaultMessage","onDone","onClick","history","push","messages","dismissSuggestion","limit","intl","suggestionsToRender","slice","handleDismiss","isEmpty","actionIcon","actionTitle","formatMessage","onActionClick"],"sourceRoot":""}