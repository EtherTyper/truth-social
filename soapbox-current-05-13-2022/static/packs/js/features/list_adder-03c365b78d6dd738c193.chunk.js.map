{"version":3,"file":"packs/js/features/list_adder-03c365b78d6dd738c193.chunk.js","mappings":"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","sources":["webpack://soapbox-fe/./app/soapbox/features/list_adder/components/account.js","webpack://soapbox-fe/./app/soapbox/features/list_adder/components/list.js","webpack://soapbox-fe/./app/soapbox/features/list_adder/index.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2;import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{injectIntl}from'react-intl';import{connect}from'react-redux';import Avatar from'../../../components/avatar';import DisplayName from'../../../components/display_name';import{makeGetAccount}from'../../../selectors';const makeMapStateToProps=()=>{const getAccount=makeGetAccount();const mapStateToProps=(state,_ref)=>{let{accountId}=_ref;return{account:getAccount(state,accountId)};};return mapStateToProps;};let Account=(_dec=connect(makeMapStateToProps),_dec(_class=injectIntl(_class=(_class2=class Account extends ImmutablePureComponent{render(){const{account}=this.props;return/*#__PURE__*/_jsx(\"div\",{className:\"account\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__wrapper\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__display-name\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__avatar-wrapper\"},void 0,/*#__PURE__*/_jsx(Avatar,{account:account,size:36})),/*#__PURE__*/_jsx(DisplayName,{account:account}))));}},_defineProperty(_class2,\"propTypes\",{account:ImmutablePropTypes.record.isRequired}),_class2))||_class)||_class);export{Account as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2;import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{defineMessages,injectIntl}from'react-intl';import{connect}from'react-redux';import Icon from'soapbox/components/icon';import{removeFromListAdder,addToListAdder}from'../../../actions/lists';import IconButton from'../../../components/icon_button';const messages=defineMessages({remove:{\"id\":\"lists.account.remove\",\"defaultMessage\":\"Remove from list\"},add:{\"id\":\"lists.account.add\",\"defaultMessage\":\"Add to list\"}});const MapStateToProps=(state,_ref)=>{let{listId,added}=_ref;return{list:state.get('lists').get(listId),added:typeof added==='undefined'?state.getIn(['listAdder','lists','items']).includes(listId):added};};const mapDispatchToProps=(dispatch,_ref2)=>{let{listId}=_ref2;return{onRemove:()=>dispatch(removeFromListAdder(listId)),onAdd:()=>dispatch(addToListAdder(listId))};};let List=(_dec=connect(MapStateToProps,mapDispatchToProps),_dec(_class=injectIntl(_class=(_class2=class List extends ImmutablePureComponent{render(){const{list,intl,onRemove,onAdd,added}=this.props;let button;if(added){button=/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/icons/x.svg'),title:intl.formatMessage(messages.remove),onClick:onRemove});}else{button=/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/icons/plus.svg'),title:intl.formatMessage(messages.add),onClick:onAdd});}return/*#__PURE__*/_jsx(\"div\",{className:\"list\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"list__wrapper\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"list__display-name\"},void 0,/*#__PURE__*/_jsx(Icon,{id:\"list-ul\",className:\"column-link__icon\",fixedWidth:true}),list.get('title')),/*#__PURE__*/_jsx(\"div\",{className:\"account__relationship\"},void 0,button)));}},_defineProperty(_class2,\"propTypes\",{list:ImmutablePropTypes.map.isRequired,intl:PropTypes.object.isRequired,onRemove:PropTypes.func.isRequired,onAdd:PropTypes.func.isRequired,added:PropTypes.bool}),_defineProperty(_class2,\"defaultProps\",{added:false}),_class2))||_class)||_class);export{List as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2;import\"core-js/modules/web.dom-collections.iterator.js\";import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{defineMessages,injectIntl,FormattedMessage}from'react-intl';import{connect}from'react-redux';import{createSelector}from'reselect';import{setupListAdder,resetListAdder}from'soapbox/actions/lists';import{CardHeader,CardTitle,Modal}from'soapbox/components/ui';import NewListForm from'../lists/components/new_list_form';import Account from'./components/account';import List from'./components/list';// hack\nconst getOrderedLists=createSelector([state=>state.get('lists')],lists=>{if(!lists){return lists;}return lists.toList().filter(item=>!!item).sort((a,b)=>a.get('title').localeCompare(b.get('title')));});const mapStateToProps=(state,_ref)=>{let{accountId}=_ref;return{listIds:getOrderedLists(state).map(list=>list.get('id')),account:state.getIn(['accounts',accountId])};};const mapDispatchToProps=dispatch=>({onInitialize:accountId=>dispatch(setupListAdder(accountId)),onReset:()=>dispatch(resetListAdder())});const messages=defineMessages({close:{\"id\":\"lightbox.close\",\"defaultMessage\":\"Close\"},subheading:{\"id\":\"lists.subheading\",\"defaultMessage\":\"Your lists\"},add:{\"id\":\"lists.new.create\",\"defaultMessage\":\"Add List\"}});let ListAdder=(_dec=connect(mapStateToProps,mapDispatchToProps),_dec(_class=injectIntl(_class=(_class2=class ListAdder extends ImmutablePureComponent{constructor(){super(...arguments);_defineProperty(this,\"onClickClose\",()=>{this.props.onClose('LIST_ADDER');});}componentDidMount(){const{onInitialize,accountId}=this.props;onInitialize(accountId);}componentWillUnmount(){const{onReset}=this.props;onReset();}render(){const{accountId,listIds,intl}=this.props;return/*#__PURE__*/_jsx(Modal,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"list_adder.header_title\",defaultMessage:\"Add or Remove from Lists\"}),onClose:this.onClickClose},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"compose-modal__content\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"list-adder\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"list-adder__account\"},void 0,/*#__PURE__*/_jsx(Account,{accountId:accountId})),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.add)})),/*#__PURE__*/_jsx(NewListForm,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.subheading)})),/*#__PURE__*/_jsx(\"div\",{className:\"list-adder__lists\"},void 0,listIds.map(ListId=>/*#__PURE__*/_jsx(List,{listId:ListId},ListId))))));}},_defineProperty(_class2,\"propTypes\",{accountId:PropTypes.string.isRequired,onClose:PropTypes.func.isRequired,intl:PropTypes.object.isRequired,onInitialize:PropTypes.func.isRequired,onReset:PropTypes.func.isRequired,listIds:ImmutablePropTypes.list.isRequired,account:ImmutablePropTypes.record}),_class2))||_class)||_class);export{ListAdder as default};"],"names":["_class","_class2","Account","getAccount","state","_ref","accountId","account","_dec","injectIntl","render","this","props","className","size","messages","remove","add","List","listId","added","list","get","getIn","includes","dispatch","_ref2","onRemove","onAdd","button","intl","src","title","formatMessage","onClick","id","fixedWidth","getOrderedLists","lists","toList","filter","item","sort","a","b","localeCompare","close","subheading","ListAdder","listIds","map","onInitialize","onReset","arguments","onClose","componentDidMount","componentWillUnmount","defaultMessage","onClickClose","ListId"],"sourceRoot":""}